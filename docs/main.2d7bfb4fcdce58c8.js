(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{2011:(St,We,R)=>{"use strict";R.d(We,{Dh:()=>ye,GT:()=>_e,cc:()=>ue,hO:()=>ie,on:()=>Q,pX:()=>we,xv:()=>Ee});var a=R(4650),W=R(9260),O=R(4976);St=R.hmd(St);const ve=["ngOnDestroy"],we=(Y,fe,Me,De={})=>new Proxy(Y,{get:(be,Re)=>Me.runOutsideAngular(()=>{var Fe;if(Y[Re])return!(null===(Fe=null==De?void 0:De.spy)||void 0===Fe)&&Fe.get&&De.spy.get(Re,Y[Re]),Y[Re];if(ve.indexOf(Re)>-1)return()=>{};const ae=fe.toPromise().then(X=>{const Ue=X&&X[Re];return"function"==typeof Ue?Ue.bind(X):Ue&&Ue.then?Ue.then(he=>Me.run(()=>he)):Me.run(()=>Ue)});return new Proxy(()=>{},{get:(X,Ue)=>ae[Ue],apply:(X,Ue,he)=>ae.then(Te=>{var Ge;const Ze=Te&&Te(...he);return!(null===(Ge=null==De?void 0:De.spy)||void 0===Ge)&&Ge.apply&&De.spy.apply(Re,he,Ze),Ze})})})}),_e=(Y,fe)=>{fe.forEach(Me=>{Object.getOwnPropertyNames(Me.prototype||Me).forEach(De=>{Object.defineProperty(Y.prototype,De,Object.getOwnPropertyDescriptor(Me.prototype||Me,De))})})};class ee{constructor(fe){return fe}}const ye=new a.OlP("angularfire2.app.options"),Ee=new a.OlP("angularfire2.app.name");function Q(Y,fe,Me){const be="object"==typeof Me&&Me||{};be.name=be.name||"string"==typeof Me&&Me||"[DEFAULT]";const Fe=W.Z.apps.filter(ae=>ae&&ae.name===be.name)[0]||fe.runOutsideAngular(()=>W.Z.initializeApp(Y,be));try{JSON.stringify(Y)!==JSON.stringify(Fe.options)&&z("error",`${Fe.name} Firebase App already initialized with different options${St.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ee(Fe)}const z=(Y,...fe)=>{(0,a.X6Q)()&&typeof console<"u"&&console[Y](...fe)},Z={provide:ee,useFactory:Q,deps:[ye,a.R0b,[new a.FiY,Ee]]};let ie=(()=>{class Y{constructor(Me){W.Z.registerVersion("angularfire",O.q4.full,"core"),W.Z.registerVersion("angularfire",O.q4.full,"app-compat"),W.Z.registerVersion("angular",a.q4F.full,Me.toString())}static initializeApp(Me,De){return{ngModule:Y,providers:[{provide:ye,useValue:Me},{provide:Ee,useValue:De}]}}}return Y.\u0275fac=function(Me){return new(Me||Y)(a.LFG(a.Lbi))},Y.\u0275mod=a.oAB({type:Y}),Y.\u0275inj=a.cJS({providers:[Z]}),Y})();function ue(Y,fe,Me,De,be){const[,Re,Fe]=globalThis.\u0275AngularfireInstanceCache.find(ae=>ae[0]===Y)||[];if(Re)return function xe(Y,fe){try{return Y.toString()===fe.toString()}catch{return Y===fe}}(be,Fe)||(J("error",`${fe} was already initialized on the ${Me} Firebase App with different settings.${He?" You may need to reload as Firebase is not HMR aware.":""}`),J("warn",{is:be,was:Fe})),Re;{const ae=De();return globalThis.\u0275AngularfireInstanceCache.push([Y,ae,be]),ae}}const He=!!St.hot,J=(Y,...fe)=>{(0,a.X6Q)()&&typeof console<"u"&&console[Y](...fe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4976:(St,We,R)=>{"use strict";R.d(We,{q4:()=>ki,iC:()=>bo,fc:()=>sh,HU:()=>nn,vb:()=>Ua,JM:()=>Ec});var a=R(4650),W=R(259),O=R(5861),ve=R(6881),we=R(2090),_e=R(4859),ee=R(1877);const ye=(C,D)=>D.some(x=>C instanceof x);let Ee,Q;const ie=new WeakMap,ue=new WeakMap,xe=new WeakMap,He=new WeakMap,J=new WeakMap;let Me={get(C,D,x){if(C instanceof IDBTransaction){if("done"===D)return ue.get(C);if("objectStoreNames"===D)return C.objectStoreNames||xe.get(C);if("store"===D)return x.objectStoreNames[1]?void 0:x.objectStore(x.objectStoreNames[0])}return Fe(C[D])},set:(C,D,x)=>(C[D]=x,!0),has:(C,D)=>C instanceof IDBTransaction&&("done"===D||"store"===D)||D in C};function Re(C){return"function"==typeof C?function be(C){return C!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Z(){return Q||(Q=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(C)?function(...D){return C.apply(ae(this),D),Fe(ie.get(this))}:function(...D){return Fe(C.apply(ae(this),D))}:function(D,...x){const q=C.call(ae(this),D,...x);return xe.set(q,D.sort?D.sort():[D]),Fe(q)}}(C):(C instanceof IDBTransaction&&function fe(C){if(ue.has(C))return;const D=new Promise((x,q)=>{const ge=()=>{C.removeEventListener("complete",Ae),C.removeEventListener("error",Ve),C.removeEventListener("abort",Ve)},Ae=()=>{x(),ge()},Ve=()=>{q(C.error||new DOMException("AbortError","AbortError")),ge()};C.addEventListener("complete",Ae),C.addEventListener("error",Ve),C.addEventListener("abort",Ve)});ue.set(C,D)}(C),ye(C,function z(){return Ee||(Ee=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(C,Me):C)}function Fe(C){if(C instanceof IDBRequest)return function Y(C){const D=new Promise((x,q)=>{const ge=()=>{C.removeEventListener("success",Ae),C.removeEventListener("error",Ve)},Ae=()=>{x(Fe(C.result)),ge()},Ve=()=>{q(C.error),ge()};C.addEventListener("success",Ae),C.addEventListener("error",Ve)});return D.then(x=>{x instanceof IDBCursor&&ie.set(x,C)}).catch(()=>{}),J.set(D,C),D}(C);if(He.has(C))return He.get(C);const D=Re(C);return D!==C&&(He.set(C,D),J.set(D,C)),D}const ae=C=>J.get(C),he=["get","getKey","getAll","getAllKeys","count"],Te=["put","add","delete","clear"],Ge=new Map;function Ze(C,D){if(!(C instanceof IDBDatabase)||D in C||"string"!=typeof D)return;if(Ge.get(D))return Ge.get(D);const x=D.replace(/FromIndex$/,""),q=D!==x,ge=Te.includes(x);if(!(x in(q?IDBIndex:IDBObjectStore).prototype)||!ge&&!he.includes(x))return;const Ae=function(){var Ve=(0,O.Z)(function*(vt,..._t){const Ht=this.transaction(vt,ge?"readwrite":"readonly");let _n=Ht.store;return q&&(_n=_n.index(_t.shift())),(yield Promise.all([_n[x](..._t),ge&&Ht.done]))[0]});return function(_t){return Ve.apply(this,arguments)}}();return Ge.set(D,Ae),Ae}!function De(C){Me=C(Me)}(C=>({...C,get:(D,x,q)=>Ze(D,x)||C.get(D,x,q),has:(D,x)=>!!Ze(D,x)||C.has(D,x)}));const Se="@firebase/installations",Oe="0.6.4",Be=1e4,le=`w:${Oe}`,oe="FIS_v2",pe="https://firebaseinstallations.googleapis.com/v1",Le=36e5,Rt=new we.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function $e(C){return C instanceof we.ZR&&C.code.includes("request-failed")}function Ce({projectId:C}){return`${pe}/projects/${C}/installations`}function Je(C){return{token:C.token,requestStatus:2,expiresIn:Nn(C.expiresIn),creationTime:Date.now()}}function ht(C,D){return jt.apply(this,arguments)}function jt(){return(jt=(0,O.Z)(function*(C,D){const q=(yield D.json()).error;return Rt.create("request-failed",{requestName:C,serverCode:q.code,serverMessage:q.message,serverStatus:q.status})})).apply(this,arguments)}function Kt({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function zt(C){return un.apply(this,arguments)}function un(){return(un=(0,O.Z)(function*(C){const D=yield C();return D.status>=500&&D.status<600?C():D})).apply(this,arguments)}function Nn(C){return Number(C.replace("s","000"))}function Ut(){return(Ut=(0,O.Z)(function*({appConfig:C,heartbeatServiceProvider:D},{fid:x}){const q=Ce(C),ge=Kt(C),Ae=D.getImmediate({optional:!0});if(Ae){const Ht=yield Ae.getHeartbeatsHeader();Ht&&ge.append("x-firebase-client",Ht)}const vt={method:"POST",headers:ge,body:JSON.stringify({fid:x,authVersion:oe,appId:C.appId,sdkVersion:le})},_t=yield zt(()=>fetch(q,vt));if(_t.ok){const Ht=yield _t.json();return{fid:Ht.fid||x,registrationStatus:2,refreshToken:Ht.refreshToken,authToken:Je(Ht.authToken)}}throw yield ht("Create Installation",_t)})).apply(this,arguments)}function Bn(C){return new Promise(D=>{setTimeout(D,C)})}const Rn=/^[cdef][\w-]{21}$/,Rr="";function Or(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const x=function On(C){return function pi(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return Rn.test(x)?x:Rr}catch{return Rr}}function dn(C){return`${C.appName}!${C.appId}`}const Ft=new Map;function on(C,D){const x=dn(C);kn(x,D),function kr(C,D){const x=function mr(){return!nr&&"BroadcastChannel"in self&&(nr=new BroadcastChannel("[Firebase] FID Change"),nr.onmessage=C=>{kn(C.data.key,C.data.fid)}),nr}();x&&x.postMessage({key:C,fid:D}),function Cn(){0===Ft.size&&nr&&(nr.close(),nr=null)}()}(x,D)}function kn(C,D){const x=Ft.get(C);if(x)for(const q of x)q(D)}let nr=null;const ri="firebase-installations-database",pn=1,ii="firebase-installations-store";let gn=null;function hr(){return gn||(gn=function X(C,D,{blocked:x,upgrade:q,blocking:ge,terminated:Ae}={}){const Ve=indexedDB.open(C,D),vt=Fe(Ve);return q&&Ve.addEventListener("upgradeneeded",_t=>{q(Fe(Ve.result),_t.oldVersion,_t.newVersion,Fe(Ve.transaction))}),x&&Ve.addEventListener("blocked",()=>x()),vt.then(_t=>{Ae&&_t.addEventListener("close",()=>Ae()),ge&&_t.addEventListener("versionchange",()=>ge())}).catch(()=>{}),vt}(ri,pn,{upgrade:(C,D)=>{0===D&&C.createObjectStore(ii)}})),gn}function rr(C,D){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,O.Z)(function*(C,D){const x=dn(C),ge=(yield hr()).transaction(ii,"readwrite"),Ae=ge.objectStore(ii),Ve=yield Ae.get(x);return yield Ae.put(D,x),yield ge.done,(!Ve||Ve.fid!==D.fid)&&on(C,D.fid),D})).apply(this,arguments)}function lr(C){return cr.apply(this,arguments)}function cr(){return(cr=(0,O.Z)(function*(C){const D=dn(C),q=(yield hr()).transaction(ii,"readwrite");yield q.objectStore(ii).delete(D),yield q.done})).apply(this,arguments)}function fr(C,D){return pr.apply(this,arguments)}function pr(){return(pr=(0,O.Z)(function*(C,D){const x=dn(C),ge=(yield hr()).transaction(ii,"readwrite"),Ae=ge.objectStore(ii),Ve=yield Ae.get(x),vt=D(Ve);return void 0===vt?yield Ae.delete(x):yield Ae.put(vt,x),yield ge.done,vt&&(!Ve||Ve.fid!==vt.fid)&&on(C,vt.fid),vt})).apply(this,arguments)}function re(C){return K.apply(this,arguments)}function K(){return K=(0,O.Z)(function*(C){let D;const x=yield fr(C.appConfig,q=>{const ge=function L(C){return Zt(C||{fid:Or(),registrationStatus:0})}(q),Ae=function B(C,D){if(0===D.registrationStatus){if(!navigator.onLine)return{installationEntry:D,registrationPromise:Promise.reject(Rt.create("app-offline"))};const x={fid:D.fid,registrationStatus:1,registrationTime:Date.now()},q=function N(C,D){return me.apply(this,arguments)}(C,x);return{installationEntry:x,registrationPromise:q}}return 1===D.registrationStatus?{installationEntry:D,registrationPromise:it(C)}:{installationEntry:D}}(C,ge);return D=Ae.registrationPromise,Ae.installationEntry});return x.fid===Rr?{installationEntry:yield D}:{installationEntry:x,registrationPromise:D}}),K.apply(this,arguments)}function me(){return me=(0,O.Z)(function*(C,D){try{const x=yield function Un(C,D){return Ut.apply(this,arguments)}(C,D);return rr(C.appConfig,x)}catch(x){throw $e(x)&&409===x.customData.serverCode?yield lr(C.appConfig):yield rr(C.appConfig,{fid:D.fid,registrationStatus:0}),x}}),me.apply(this,arguments)}function it(C){return At.apply(this,arguments)}function At(){return(At=(0,O.Z)(function*(C){let D=yield Xt(C.appConfig);for(;1===D.registrationStatus;)yield Bn(100),D=yield Xt(C.appConfig);if(0===D.registrationStatus){const{installationEntry:x,registrationPromise:q}=yield re(C);return q||x}return D})).apply(this,arguments)}function Xt(C){return fr(C,D=>{if(!D)throw Rt.create("installation-not-found");return Zt(D)})}function Zt(C){return function En(C){return 1===C.registrationStatus&&C.registrationTime+Be<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function Kn(){return(Kn=(0,O.Z)(function*({appConfig:C,heartbeatServiceProvider:D},x){const q=function vn(C,{fid:D}){return`${Ce(C)}/${D}/authTokens:generate`}(C,x),ge=function $t(C,{refreshToken:D}){const x=Kt(C);return x.append("Authorization",function ar(C){return`${oe} ${C}`}(D)),x}(C,x),Ae=D.getImmediate({optional:!0});if(Ae){const Ht=yield Ae.getHeartbeatsHeader();Ht&&ge.append("x-firebase-client",Ht)}const vt={method:"POST",headers:ge,body:JSON.stringify({installation:{sdkVersion:le,appId:C.appId}})},_t=yield zt(()=>fetch(q,vt));if(_t.ok)return Je(yield _t.json());throw yield ht("Generate Auth Token",_t)})).apply(this,arguments)}function _r(C){return Fr.apply(this,arguments)}function Fr(){return Fr=(0,O.Z)(function*(C,D=!1){let x;const q=yield fr(C.appConfig,Ae=>{if(!In(Ae))throw Rt.create("not-registered");const Ve=Ae.authToken;if(!D&&function Lt(C){return 2===C.requestStatus&&!function Fn(C){const D=Date.now();return D<C.creationTime||C.creationTime+C.expiresIn<D+Le}(C)}(Ve))return Ae;if(1===Ve.requestStatus)return x=function et(C,D){return ke.apply(this,arguments)}(C,D),Ae;{if(!navigator.onLine)throw Rt.create("app-offline");const vt=function wn(C){const D={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:D})}(Ae);return x=function Ot(C,D){return Jt.apply(this,arguments)}(C,vt),vt}});return x?yield x:q.authToken}),Fr.apply(this,arguments)}function ke(){return(ke=(0,O.Z)(function*(C,D){let x=yield at(C.appConfig);for(;1===x.authToken.requestStatus;)yield Bn(100),x=yield at(C.appConfig);const q=x.authToken;return 0===q.requestStatus?_r(C,D):q})).apply(this,arguments)}function at(C){return fr(C,D=>{if(!In(D))throw Rt.create("not-registered");return function hn(C){return 1===C.requestStatus&&C.requestTime+Be<Date.now()}(D.authToken)?Object.assign(Object.assign({},D),{authToken:{requestStatus:0}}):D})}function Jt(){return Jt=(0,O.Z)(function*(C,D){try{const x=yield function tn(C,D){return Kn.apply(this,arguments)}(C,D),q=Object.assign(Object.assign({},D),{authToken:x});return yield rr(C.appConfig,q),x}catch(x){if(!$e(x)||401!==x.customData.serverCode&&404!==x.customData.serverCode){const q=Object.assign(Object.assign({},D),{authToken:{requestStatus:0}});yield rr(C.appConfig,q)}else yield lr(C.appConfig);throw x}}),Jt.apply(this,arguments)}function In(C){return void 0!==C&&2===C.registrationStatus}function ms(){return(ms=(0,O.Z)(function*(C){const D=C,{installationEntry:x,registrationPromise:q}=yield re(D);return q?q.catch(console.error):_r(D).catch(console.error),x.fid})).apply(this,arguments)}function Bi(){return Bi=(0,O.Z)(function*(C,D=!1){const x=C;return yield function Ar(C){return wt.apply(this,arguments)}(x),(yield _r(x,D)).token}),Bi.apply(this,arguments)}function wt(){return(wt=(0,O.Z)(function*(C){const{registrationPromise:D}=yield re(C);D&&(yield D)})).apply(this,arguments)}function H(C){return Rt.create("missing-app-config-values",{valueName:C})}const te="installations",se=C=>{const D=C.getProvider("app").getImmediate(),x=function k(C){if(!C||!C.options)throw H("App Configuration");if(!C.name)throw H("App Name");const D=["projectId","apiKey","appId"];for(const x of D)if(!C.options[x])throw H(x);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(D);return{app:D,appConfig:x,heartbeatServiceProvider:(0,ve._getProvider)(D,"heartbeat"),_delete:()=>Promise.resolve()}},ce=C=>{const D=C.getProvider("app").getImmediate(),x=(0,ve._getProvider)(D,te).getImmediate();return{getId:()=>function sn(C){return ms.apply(this,arguments)}(x),getToken:ge=>function sl(C){return Bi.apply(this,arguments)}(x,ge)}};(function Ye(){(0,ve._registerComponent)(new _e.wA(te,se,"PUBLIC")),(0,ve._registerComponent)(new _e.wA("installations-internal",ce,"PRIVATE"))})(),(0,ve.registerVersion)(Se,Oe),(0,ve.registerVersion)(Se,Oe,"esm2017");const Qe="@firebase/remote-config",qt=new we.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class tm{constructor(D,x,q,ge){this.client=D,this.storage=x,this.storageCache=q,this.logger=ge}isCachedDataFresh(D,x){if(!x)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const q=Date.now()-x,ge=q<=D;return this.logger.debug(`Config fetch cache check. Cache age millis: ${q}. Cache max age millis (minimumFetchIntervalMillis setting): ${D}. Is cache hit: ${ge}.`),ge}fetch(D){var x=this;return(0,O.Z)(function*(){const[q,ge]=yield Promise.all([x.storage.getLastSuccessfulFetchTimestampMillis(),x.storage.getLastSuccessfulFetchResponse()]);if(ge&&x.isCachedDataFresh(D.cacheMaxAgeMillis,q))return ge;D.eTag=ge&&ge.eTag;const Ae=yield x.client.fetch(D),Ve=[x.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Ae.status&&Ve.push(x.storage.setLastSuccessfulFetchResponse(Ae)),yield Promise.all(Ve),Ae})()}}function Cd(C=navigator){return C.languages&&C.languages[0]||C.language}class Lf{constructor(D,x,q,ge,Ae,Ve){this.firebaseInstallations=D,this.sdkVersion=x,this.namespace=q,this.projectId=ge,this.apiKey=Ae,this.appId=Ve}fetch(D){var x=this;return(0,O.Z)(function*(){const[q,ge]=yield Promise.all([x.firebaseInstallations.getId(),x.firebaseInstallations.getToken()]),Ve=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${x.projectId}/namespaces/${x.namespace}:fetch?key=${x.apiKey}`,vt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":D.eTag||"*"},_t={sdk_version:x.sdkVersion,app_instance_id:q,app_instance_id_token:ge,app_id:x.appId,language_code:Cd()},Ht={method:"POST",headers:vt,body:JSON.stringify(_t)},_n=fetch(Ve,Ht),yn=new Promise((li,jo)=>{D.signal.addEventListener(()=>{const Do=new Error("The operation was aborted.");Do.name="AbortError",jo(Do)})});let vi;try{yield Promise.race([_n,yn]),vi=yield _n}catch(li){let jo="fetch-client-network";throw"AbortError"===(null==li?void 0:li.name)&&(jo="fetch-timeout"),qt.create(jo,{originalErrorMessage:null==li?void 0:li.message})}let or=vi.status;const An=vi.headers.get("ETag")||void 0;let Vo,Pl;if(200===vi.status){let li;try{li=yield vi.json()}catch(jo){throw qt.create("fetch-client-parse",{originalErrorMessage:null==jo?void 0:jo.message})}Vo=li.entries,Pl=li.state}if("INSTANCE_STATE_UNSPECIFIED"===Pl?or=500:"NO_CHANGE"===Pl?or=304:("NO_TEMPLATE"===Pl||"EMPTY_CONFIG"===Pl)&&(Vo={}),304!==or&&200!==or)throw qt.create("fetch-status",{httpStatus:or});return{status:or,eTag:An,config:Vo}})()}}class Id{constructor(D,x){this.client=D,this.storage=x}fetch(D){var x=this;return(0,O.Z)(function*(){const q=(yield x.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return x.attemptFetch(D,q)})()}attemptFetch(D,{throttleEndTimeMillis:x,backoffCount:q}){var ge=this;return(0,O.Z)(function*(){yield function Ed(C,D){return new Promise((x,q)=>{const ge=Math.max(D-Date.now(),0),Ae=setTimeout(x,ge);C.addEventListener(()=>{clearTimeout(Ae),q(qt.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(D.signal,x);try{const Ae=yield ge.client.fetch(D);return yield ge.storage.deleteThrottleMetadata(),Ae}catch(Ae){if(!function nm(C){if(!(C instanceof we.ZR&&C.customData))return!1;const D=Number(C.customData.httpStatus);return 429===D||500===D||503===D||504===D}(Ae))throw Ae;const Ve={throttleEndTimeMillis:Date.now()+(0,we.$s)(q),backoffCount:q+1};return yield ge.storage.setThrottleMetadata(Ve),ge.attemptFetch(D,Ve)}})()}}class Uf{constructor(D,x,q,ge,Ae){this.app=D,this._client=x,this._storageCache=q,this._storage=ge,this._logger=Ae,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ys(C,D){const x=C.target.error||void 0;return qt.create(D,{originalErrorMessage:x&&(null==x?void 0:x.message)})}const Hs="app_namespace_store";class Td{constructor(D,x,q,ge=function $f(){return new Promise((C,D)=>{try{const x=indexedDB.open("firebase_remote_config",1);x.onerror=q=>{D(ys(q,"storage-open"))},x.onsuccess=q=>{C(q.target.result)},x.onupgradeneeded=q=>{0===q.oldVersion&&q.target.result.createObjectStore(Hs,{keyPath:"compositeKey"})}}catch(x){D(qt.create("storage-open",{originalErrorMessage:null==x?void 0:x.message}))}})}()){this.appId=D,this.appName=x,this.namespace=q,this.openDbPromise=ge}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(D){return this.set("last_fetch_status",D)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(D){return this.set("last_successful_fetch_timestamp_millis",D)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(D){return this.set("last_successful_fetch_response",D)}getActiveConfig(){return this.get("active_config")}setActiveConfig(D){return this.set("active_config",D)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(D){return this.set("active_config_etag",D)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(D){return this.set("throttle_metadata",D)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(D){var x=this;return(0,O.Z)(function*(){const q=yield x.openDbPromise;return new Promise((ge,Ae)=>{const vt=q.transaction([Hs],"readonly").objectStore(Hs),_t=x.createCompositeKey(D);try{const Ht=vt.get(_t);Ht.onerror=_n=>{Ae(ys(_n,"storage-get"))},Ht.onsuccess=_n=>{const yn=_n.target.result;ge(yn?yn.value:void 0)}}catch(Ht){Ae(qt.create("storage-get",{originalErrorMessage:null==Ht?void 0:Ht.message}))}})})()}set(D,x){var q=this;return(0,O.Z)(function*(){const ge=yield q.openDbPromise;return new Promise((Ae,Ve)=>{const _t=ge.transaction([Hs],"readwrite").objectStore(Hs),Ht=q.createCompositeKey(D);try{const _n=_t.put({compositeKey:Ht,value:x});_n.onerror=yn=>{Ve(ys(yn,"storage-set"))},_n.onsuccess=()=>{Ae()}}catch(_n){Ve(qt.create("storage-set",{originalErrorMessage:null==_n?void 0:_n.message}))}})})()}delete(D){var x=this;return(0,O.Z)(function*(){const q=yield x.openDbPromise;return new Promise((ge,Ae)=>{const vt=q.transaction([Hs],"readwrite").objectStore(Hs),_t=x.createCompositeKey(D);try{const Ht=vt.delete(_t);Ht.onerror=_n=>{Ae(ys(_n,"storage-delete"))},Ht.onsuccess=()=>{ge()}}catch(Ht){Ae(qt.create("storage-delete",{originalErrorMessage:null==Ht?void 0:Ht.message}))}})})()}createCompositeKey(D){return[this.appId,this.appName,this.namespace,D].join()}}class Gs{constructor(D){this.storage=D}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var D=this;return(0,O.Z)(function*(){const x=D.storage.getLastFetchStatus(),q=D.storage.getLastSuccessfulFetchTimestampMillis(),ge=D.storage.getActiveConfig(),Ae=yield x;Ae&&(D.lastFetchStatus=Ae);const Ve=yield q;Ve&&(D.lastSuccessfulFetchTimestampMillis=Ve);const vt=yield ge;vt&&(D.activeConfig=vt)})()}setLastFetchStatus(D){return this.lastFetchStatus=D,this.storage.setLastFetchStatus(D)}setLastSuccessfulFetchTimestampMillis(D){return this.lastSuccessfulFetchTimestampMillis=D,this.storage.setLastSuccessfulFetchTimestampMillis(D)}setActiveConfig(D){return this.activeConfig=D,this.storage.setActiveConfig(D)}}function Ad(){return Xl.apply(this,arguments)}function Xl(){return(Xl=(0,O.Z)(function*(){if(!(0,we.hl)())return!1;try{return yield(0,we.eu)()}catch{return!1}})).apply(this,arguments)}!function wa(){(0,ve._registerComponent)(new _e.wA("remote-config",function C(D,{instanceIdentifier:x}){const q=D.getProvider("app").getImmediate(),ge=D.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw qt.create("registration-window");if(!(0,we.hl)())throw qt.create("indexed-db-unavailable");const{projectId:Ae,apiKey:Ve,appId:vt}=q.options;if(!Ae)throw qt.create("registration-project-id");if(!Ve)throw qt.create("registration-api-key");if(!vt)throw qt.create("registration-app-id");const _t=new Td(vt,q.name,x=x||"firebase"),Ht=new Gs(_t),_n=new ee.Yd(Qe);_n.logLevel=ee.in.ERROR;const yn=new Lf(ge,ve.SDK_VERSION,x,Ae,Ve,vt),vi=new Id(yn,_t),or=new tm(vi,_t,Ht,_n),An=new Uf(q,or,Ht,_t,_n);return function Ri(C){const D=(0,we.m9)(C);D._initializePromise||(D._initializePromise=D._storageCache.loadFromStorage().then(()=>{D._isInitializationComplete=!0}))}(An),An},"PUBLIC").setMultipleInstances(!0)),(0,ve.registerVersion)(Qe,"0.4.4"),(0,ve.registerVersion)(Qe,"0.4.4","esm2017")}();const Vf=(C,D)=>D.some(x=>C instanceof x);let vs,nu;const Ca=new WeakMap,zs=new WeakMap,Ir=new WeakMap,cl=new WeakMap,ec=new WeakMap;let Ws={get(C,D,x){if(C instanceof IDBTransaction){if("done"===D)return zs.get(C);if("objectStoreNames"===D)return C.objectStoreNames||Ir.get(C);if("store"===D)return x.objectStoreNames[1]?void 0:x.objectStore(x.objectStoreNames[0])}return Oi(C[D])},set:(C,D,x)=>(C[D]=x,!0),has:(C,D)=>C instanceof IDBTransaction&&("done"===D||"store"===D)||D in C};function tc(C){return"function"==typeof C?function jf(C){return C!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function xd(){return nu||(nu=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(C)?function(...D){return C.apply(oi(this),D),Oi(Ca.get(this))}:function(...D){return Oi(C.apply(oi(this),D))}:function(D,...x){const q=C.call(oi(this),D,...x);return Ir.set(q,D.sort?D.sort():[D]),Oi(q)}}(C):(C instanceof IDBTransaction&&function qs(C){if(zs.has(C))return;const D=new Promise((x,q)=>{const ge=()=>{C.removeEventListener("complete",Ae),C.removeEventListener("error",Ve),C.removeEventListener("abort",Ve)},Ae=()=>{x(),ge()},Ve=()=>{q(C.error||new DOMException("AbortError","AbortError")),ge()};C.addEventListener("complete",Ae),C.addEventListener("error",Ve),C.addEventListener("abort",Ve)});zs.set(C,D)}(C),Vf(C,function Jl(){return vs||(vs=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(C,Ws):C)}function Oi(C){if(C instanceof IDBRequest)return function Zr(C){const D=new Promise((x,q)=>{const ge=()=>{C.removeEventListener("success",Ae),C.removeEventListener("error",Ve)},Ae=()=>{x(Oi(C.result)),ge()},Ve=()=>{q(C.error),ge()};C.addEventListener("success",Ae),C.addEventListener("error",Ve)});return D.then(x=>{x instanceof IDBCursor&&Ca.set(x,C)}).catch(()=>{}),ec.set(D,C),D}(C);if(cl.has(C))return cl.get(C);const D=tc(C);return D!==C&&(cl.set(C,D),ec.set(D,C)),D}const oi=C=>ec.get(C);function ul(C,D,{blocked:x,upgrade:q,blocking:ge,terminated:Ae}={}){const Ve=indexedDB.open(C,D),vt=Oi(Ve);return q&&Ve.addEventListener("upgradeneeded",_t=>{q(Oi(Ve.result),_t.oldVersion,_t.newVersion,Oi(Ve.transaction))}),x&&Ve.addEventListener("blocked",()=>x()),vt.then(_t=>{Ae&&_t.addEventListener("close",()=>Ae()),ge&&_t.addEventListener("versionchange",()=>ge())}).catch(()=>{}),vt}function ws(C,{blocked:D}={}){const x=indexedDB.deleteDatabase(C);return D&&x.addEventListener("blocked",()=>D()),Oi(x).then(()=>{})}const Md=["get","getKey","getAll","getAllKeys","count"],Xo=["put","add","delete","clear"],dl=new Map;function Ea(C,D){if(!(C instanceof IDBDatabase)||D in C||"string"!=typeof D)return;if(dl.get(D))return dl.get(D);const x=D.replace(/FromIndex$/,""),q=D!==x,ge=Xo.includes(x);if(!(x in(q?IDBIndex:IDBObjectStore).prototype)||!ge&&!Md.includes(x))return;const Ae=function(){var Ve=(0,O.Z)(function*(vt,..._t){const Ht=this.transaction(vt,ge?"readwrite":"readonly");let _n=Ht.store;return q&&(_n=_n.index(_t.shift())),(yield Promise.all([_n[x](..._t),ge&&Ht.done]))[0]});return function(_t){return Ve.apply(this,arguments)}}();return dl.set(D,Ae),Ae}!function mi(C){Ws=C(Ws)}(C=>({...C,get:(D,x,q)=>Ea(D,x)||C.get(D,x,q),has:(D,x)=>!!Ea(D,x)||C.has(D,x)}));const mn="/firebase-messaging-sw.js",nc="/firebase-cloud-messaging-push-scope",Hf="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ru="https://fcmregistrations.googleapis.com/v1",iu="google.c.a.c_id",ou="google.c.a.c_l",Pd="google.c.a.ts",Rd="google.c.a.e";var nt=(()=>{return(C=nt||(nt={})).PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",nt;var C})();function bn(C){const D=new Uint8Array(C);return btoa(String.fromCharCode(...D)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function su(C){const x=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),q=atob(x),ge=new Uint8Array(q.length);for(let Ae=0;Ae<q.length;++Ae)ge[Ae]=q.charCodeAt(Ae);return ge}const hl="fcm_token_details_db",Lr=5,Od="fcm_token_object_Store";function so(){return so=(0,O.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Ae=>Ae.name).includes(hl))return null;let D=null;return(yield ul(hl,Lr,{upgrade:(q=(0,O.Z)(function*(ge,Ae,Ve,vt){var _t;if(Ae<2||!ge.objectStoreNames.contains(Od))return;const Ht=vt.objectStore(Od),_n=yield Ht.index("fcmSenderId").get(C);if(yield Ht.clear(),_n)if(2===Ae){const yn=_n;if(!yn.auth||!yn.p256dh||!yn.endpoint)return;D={token:yn.fcmToken,createTime:null!==(_t=yn.createTime)&&void 0!==_t?_t:Date.now(),subscriptionOptions:{auth:yn.auth,p256dh:yn.p256dh,endpoint:yn.endpoint,swScope:yn.swScope,vapidKey:"string"==typeof yn.vapidKey?yn.vapidKey:bn(yn.vapidKey)}}}else if(3===Ae){const yn=_n;D={token:yn.fcmToken,createTime:yn.createTime,subscriptionOptions:{auth:bn(yn.auth),p256dh:bn(yn.p256dh),endpoint:yn.endpoint,swScope:yn.swScope,vapidKey:bn(yn.vapidKey)}}}else if(4===Ae){const yn=_n;D={token:yn.fcmToken,createTime:yn.createTime,subscriptionOptions:{auth:bn(yn.auth),p256dh:bn(yn.p256dh),endpoint:yn.endpoint,swScope:yn.swScope,vapidKey:bn(yn.vapidKey)}}}}),function(Ae,Ve,vt,_t){return q.apply(this,arguments)})})).close(),yield ws(hl),yield ws("fcm_vapid_details_db"),yield ws("undefined"),function rc(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:D}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof D.auth&&D.auth.length>0&&"string"==typeof D.p256dh&&D.p256dh.length>0&&"string"==typeof D.endpoint&&D.endpoint.length>0&&"string"==typeof D.swScope&&D.swScope.length>0&&"string"==typeof D.vapidKey&&D.vapidKey.length>0}(D)?D:null;var q}),so.apply(this,arguments)}const kd="firebase-messaging-database",Nd=1,Cs="firebase-messaging-store";let ba=null;function _i(){return ba||(ba=ul(kd,Nd,{upgrade:(C,D)=>{0===D&&C.createObjectStore(Cs)}})),ba}function Hi(C){return Es.apply(this,arguments)}function Es(){return Es=(0,O.Z)(function*(C){const D=Ld(C),q=yield(yield _i()).transaction(Cs).objectStore(Cs).get(D);if(q)return q;{const ge=yield function Ia(C){return so.apply(this,arguments)}(C.appConfig.senderId);if(ge)return yield Jo(C,ge),ge}}),Es.apply(this,arguments)}function Jo(C,D){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,O.Z)(function*(C,D){const x=Ld(C),ge=(yield _i()).transaction(Cs,"readwrite");return yield ge.objectStore(Cs).put(D,x),yield ge.done,D})).apply(this,arguments)}function Zs(){return(Zs=(0,O.Z)(function*(C){const D=Ld(C),q=(yield _i()).transaction(Cs,"readwrite");yield q.objectStore(Cs).delete(D),yield q.done})).apply(this,arguments)}function Ld({appConfig:C}){return C.appId}const Ur=new we.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ic(C,D){return fl.apply(this,arguments)}function fl(){return(fl=(0,O.Z)(function*(C,D){const x=yield pl(C),q=sc(D),ge={method:"POST",headers:x,body:JSON.stringify(q)};let Ae;try{Ae=yield(yield fetch(au(C.appConfig),ge)).json()}catch(Ve){throw Ur.create("token-subscribe-failed",{errorInfo:null==Ve?void 0:Ve.toString()})}if(Ae.error)throw Ur.create("token-subscribe-failed",{errorInfo:Ae.error.message});if(!Ae.token)throw Ur.create("token-subscribe-no-token");return Ae.token})).apply(this,arguments)}function oc(){return(oc=(0,O.Z)(function*(C,D){const x=yield pl(C),q=sc(D.subscriptionOptions),ge={method:"PATCH",headers:x,body:JSON.stringify(q)};let Ae;try{Ae=yield(yield fetch(`${au(C.appConfig)}/${D.token}`,ge)).json()}catch(Ve){throw Ur.create("token-update-failed",{errorInfo:null==Ve?void 0:Ve.toString()})}if(Ae.error)throw Ur.create("token-update-failed",{errorInfo:Ae.error.message});if(!Ae.token)throw Ur.create("token-update-no-token");return Ae.token})).apply(this,arguments)}function Bd(C,D){return Da.apply(this,arguments)}function Da(){return(Da=(0,O.Z)(function*(C,D){const q={method:"DELETE",headers:yield pl(C)};try{const Ae=yield(yield fetch(`${au(C.appConfig)}/${D}`,q)).json();if(Ae.error)throw Ur.create("token-unsubscribe-failed",{errorInfo:Ae.error.message})}catch(ge){throw Ur.create("token-unsubscribe-failed",{errorInfo:null==ge?void 0:ge.toString()})}})).apply(this,arguments)}function au({projectId:C}){return`${ru}/projects/${C}/registrations`}function pl(C){return lu.apply(this,arguments)}function lu(){return(lu=(0,O.Z)(function*({appConfig:C,installations:D}){const x=yield D.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${x}`})})).apply(this,arguments)}function sc({p256dh:C,auth:D,endpoint:x,vapidKey:q}){const ge={web:{endpoint:x,auth:D,p256dh:C}};return q!==Hf&&(ge.web.applicationPubKey=q),ge}const $d=6048e5;function Vd(){return Vd=(0,O.Z)(function*(C){const D=yield function om(C,D){return Hd.apply(this,arguments)}(C.swRegistration,C.vapidKey),x={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:D.endpoint,auth:bn(D.getKey("auth")),p256dh:bn(D.getKey("p256dh"))},q=yield Hi(C.firebaseDependencies);if(q){if(function sm(C,D){return D.vapidKey===C.vapidKey&&D.endpoint===C.endpoint&&D.auth===C.auth&&D.p256dh===C.p256dh}(q.subscriptionOptions,x))return Date.now()>=q.createTime+$d?function vr(C,D){return jd.apply(this,arguments)}(C,{token:q.token,createTime:Date.now(),subscriptionOptions:x}):q.token;try{yield Bd(C.firebaseDependencies,q.token)}catch(ge){console.warn(ge)}return Ta(C.firebaseDependencies,x)}return Ta(C.firebaseDependencies,x)}),Vd.apply(this,arguments)}function Lo(){return Lo=(0,O.Z)(function*(C){const D=yield Hi(C.firebaseDependencies);D&&(yield Bd(C.firebaseDependencies,D.token),yield function Fd(C){return Zs.apply(this,arguments)}(C.firebaseDependencies));const x=yield C.swRegistration.pushManager.getSubscription();return!x||x.unsubscribe()}),Lo.apply(this,arguments)}function jd(){return jd=(0,O.Z)(function*(C,D){try{const x=yield function Ud(C,D){return oc.apply(this,arguments)}(C.firebaseDependencies,D),q=Object.assign(Object.assign({},D),{token:x,createTime:Date.now()});return yield Jo(C.firebaseDependencies,q),x}catch(x){throw yield function bi(C){return Lo.apply(this,arguments)}(C),x}}),jd.apply(this,arguments)}function Ta(C,D){return uu.apply(this,arguments)}function uu(){return(uu=(0,O.Z)(function*(C,D){const q={token:yield ic(C,D),createTime:Date.now(),subscriptionOptions:D};return yield Jo(C,q),q.token})).apply(this,arguments)}function Hd(){return(Hd=(0,O.Z)(function*(C,D){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:su(D)})})).apply(this,arguments)}function ac(C){const D={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function du(C,D){if(!D.notification)return;C.notification={};const x=D.notification.title;x&&(C.notification.title=x);const q=D.notification.body;q&&(C.notification.body=q);const ge=D.notification.image;ge&&(C.notification.image=ge);const Ae=D.notification.icon;Ae&&(C.notification.icon=Ae)}(D,C),function Gd(C,D){D.data&&(C.data=D.data)}(D,C),function zd(C,D){var x,q,ge,Ae,Ve;if(!(D.fcmOptions||null!==(x=D.notification)&&void 0!==x&&x.click_action))return;C.fcmOptions={};const vt=null!==(ge=null===(q=D.fcmOptions)||void 0===q?void 0:q.link)&&void 0!==ge?ge:null===(Ae=D.notification)||void 0===Ae?void 0:Ae.click_action;vt&&(C.fcmOptions.link=vt);const _t=null===(Ve=D.fcmOptions)||void 0===Ve?void 0:Ve.analytics_label;_t&&(C.fcmOptions.analyticsLabel=_t)}(D,C),D}function Sa(C,D){const x=[];for(let q=0;q<C.length;q++)x.push(C.charAt(q)),q<D.length&&x.push(D.charAt(q));return x.join("")}function es(C){return Ur.create("missing-app-config-values",{valueName:C})}Sa("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Sa("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class am{constructor(D,x,q){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ge=function gl(C){if(!C||!C.options)throw es("App Configuration Object");if(!C.name)throw es("App Name");const D=["projectId","apiKey","appId","messagingSenderId"],{options:x}=C;for(const q of D)if(!x[q])throw es(q);return{appName:C.name,projectId:x.projectId,apiKey:x.apiKey,appId:x.appId,senderId:x.messagingSenderId}}(D);this.firebaseDependencies={app:D,appConfig:ge,installations:x,analyticsProvider:q}}_delete(){return Promise.resolve()}}function Gf(C){return cc.apply(this,arguments)}function cc(){return(cc=(0,O.Z)(function*(C){try{C.swRegistration=yield navigator.serviceWorker.register(mn,{scope:nc}),C.swRegistration.update().catch(()=>{})}catch(D){throw Ur.create("failed-service-worker-registration",{browserErrorMessage:null==D?void 0:D.message})}})).apply(this,arguments)}function ts(){return(ts=(0,O.Z)(function*(C,D){if(!D&&!C.swRegistration&&(yield Gf(C)),D||!C.swRegistration){if(!(D instanceof ServiceWorkerRegistration))throw Ur.create("invalid-sw-registration");C.swRegistration=D}})).apply(this,arguments)}function ml(){return(ml=(0,O.Z)(function*(C,D){D?C.vapidKey=D:C.vapidKey||(C.vapidKey=Hf)})).apply(this,arguments)}function Aa(){return Aa=(0,O.Z)(function*(C,D){if(!navigator)throw Ur.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ur.create("permission-blocked");return yield function hu(C,D){return ml.apply(this,arguments)}(C,null==D?void 0:D.vapidKey),yield function qd(C,D){return ts.apply(this,arguments)}(C,null==D?void 0:D.serviceWorkerRegistration),function cu(C){return Vd.apply(this,arguments)}(C)}),Aa.apply(this,arguments)}function Is(){return(Is=(0,O.Z)(function*(C,D,x){const q=function Ys(C){switch(C){case nt.NOTIFICATION_CLICKED:return"notification_open";case nt.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(D);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(q,{message_id:x[iu],message_name:x[ou],message_time:x[Pd],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ks(){return Ks=(0,O.Z)(function*(C,D){const x=D.data;if(!x.isFirebaseMessaging)return;C.onMessageHandler&&x.messageType===nt.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(ac(x)):C.onMessageHandler.next(ac(x)));const q=x.data;(function lc(C){return"object"==typeof C&&!!C&&iu in C})(q)&&"1"===q[Rd]&&(yield function Wd(C,D,x){return Is.apply(this,arguments)}(C,x.messageType,q))}),Ks.apply(this,arguments)}const Ma="@firebase/messaging",yl=C=>{const D=new am(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",x=>function xa(C,D){return Ks.apply(this,arguments)}(D,x)),D},fu=C=>{const D=C.getProvider("messaging").getImmediate();return{getToken:q=>function uc(C,D){return Aa.apply(this,arguments)}(D,q)}};function zf(){return pu.apply(this,arguments)}function pu(){return(pu=(0,O.Z)(function*(){try{yield(0,we.eu)()}catch{return!1}return typeof window<"u"&&(0,we.hl)()&&(0,we.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function vl(){(0,ve._registerComponent)(new _e.wA("messaging",yl,"PUBLIC")),(0,ve._registerComponent)(new _e.wA("messaging-internal",fu,"PRIVATE")),(0,ve.registerVersion)(Ma,"0.12.4"),(0,ve.registerVersion)(Ma,"0.12.4","esm2017")}();const bs="analytics",hc="firebase_id",Kd="origin",wl=6e4,Qd="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",fc="https://www.googletagmanager.com/gtag/js",Yr=new ee.Yd("@firebase/analytics"),br=new we.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function qf(C){if(!C.startsWith(fc)){const D=br.create("invalid-gtag-resource",{gtagURL:C});return Yr.warn(D.message),""}return C}function Ds(C){return Promise.all(C.map(D=>D.catch(x=>x)))}function Ts(){return(Ts=(0,O.Z)(function*(C,D,x,q,ge,Ae){const Ve=q[ge];try{if(Ve)yield D[Ve];else{const _t=(yield Ds(x)).find(Ht=>Ht.measurementId===ge);_t&&(yield D[_t.appId])}}catch(vt){Yr.error(vt)}C("config",ge,Ae)})).apply(this,arguments)}function Qs(){return(Qs=(0,O.Z)(function*(C,D,x,q,ge){try{let Ae=[];if(ge&&ge.send_to){let Ve=ge.send_to;Array.isArray(Ve)||(Ve=[Ve]);const vt=yield Ds(x);for(const _t of Ve){const Ht=vt.find(yn=>yn.measurementId===_t),_n=Ht&&D[Ht.appId];if(!_n){Ae=[];break}Ae.push(_n)}}0===Ae.length&&(Ae=Object.values(D)),yield Promise.all(Ae),C("event",q,ge||{})}catch(Ae){Yr.error(Ae)}})).apply(this,arguments)}const gc=30,Js=new class Xd{constructor(D={},x=1e3){this.throttleMetadata=D,this.intervalMillis=x}getThrottleMetadata(D){return this.throttleMetadata[D]}setThrottleMetadata(D,x){this.throttleMetadata[D]=x}deleteThrottleMetadata(D){delete this.throttleMetadata[D]}};function Zf(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function Hn(){return(Hn=(0,O.Z)(function*(C){var D;const{appId:x,apiKey:q}=C,ge={method:"GET",headers:Zf(q)},Ae=Qd.replace("{app-id}",x),Ve=yield fetch(Ae,ge);if(200!==Ve.status&&304!==Ve.status){let vt="";try{const _t=yield Ve.json();null!==(D=_t.error)&&void 0!==D&&D.message&&(vt=_t.error.message)}catch{}throw br.create("config-fetch-failed",{httpStatus:Ve.status,responseMessage:vt})}return Ve.json()})).apply(this,arguments)}function eh(){return(eh=(0,O.Z)(function*(C,D=Js,x){const{appId:q,apiKey:ge,measurementId:Ae}=C.options;if(!q)throw br.create("no-app-id");if(!ge){if(Ae)return{measurementId:Ae,appId:q};throw br.create("no-api-key")}const Ve=D.getThrottleMetadata(q)||{backoffCount:0,throttleEndTimeMillis:Date.now()},vt=new Yy;return setTimeout((0,O.Z)(function*(){vt.abort()}),void 0!==x?x:wl),Cu({appId:q,apiKey:ge,measurementId:Ae},Ve,vt,D)})).apply(this,arguments)}function Cu(C,D,x){return Eu.apply(this,arguments)}function Eu(){return Eu=(0,O.Z)(function*(C,{throttleEndTimeMillis:D,backoffCount:x},q,ge=Js){var Ae;const{appId:Ve,measurementId:vt}=C;try{yield function Yf(C,D){return new Promise((x,q)=>{const ge=Math.max(D-Date.now(),0),Ae=setTimeout(x,ge);C.addEventListener(()=>{clearTimeout(Ae),q(br.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(q,D)}catch(_t){if(vt)return Yr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${vt} provided in the "measurementId" field in the local Firebase config. [${null==_t?void 0:_t.message}]`),{appId:Ve,measurementId:vt};throw _t}try{const _t=yield function Jd(C){return Hn.apply(this,arguments)}(C);return ge.deleteThrottleMetadata(Ve),_t}catch(_t){const Ht=_t;if(!function Zy(C){if(!(C instanceof we.ZR&&C.customData))return!1;const D=Number(C.customData.httpStatus);return 429===D||500===D||503===D||504===D}(Ht)){if(ge.deleteThrottleMetadata(Ve),vt)return Yr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${vt} provided in the "measurementId" field in the local Firebase config. [${null==Ht?void 0:Ht.message}]`),{appId:Ve,measurementId:vt};throw _t}const _n=503===Number(null===(Ae=null==Ht?void 0:Ht.customData)||void 0===Ae?void 0:Ae.httpStatus)?(0,we.$s)(x,ge.intervalMillis,gc):(0,we.$s)(x,ge.intervalMillis),yn={throttleEndTimeMillis:Date.now()+_n,backoffCount:x+1};return ge.setThrottleMetadata(Ve,yn),Yr.debug(`Calling attemptFetch again in ${_n} millis`),Cu(C,yn,q,ge)}}),Eu.apply(this,arguments)}class Yy{constructor(){this.listeners=[]}addEventListener(D){this.listeners.push(D)}abort(){this.listeners.forEach(D=>D())}}let ea,Du;function Kf(){return(Kf=(0,O.Z)(function*(C,D,x,q,ge){if(ge&&ge.global)C("event",x,q);else{const Ae=yield D;C("event",x,Object.assign(Object.assign({},q),{send_to:Ae}))}})).apply(this,arguments)}function Vn(){return(Vn=(0,O.Z)(function*(){if(!(0,we.hl)())return Yr.warn(br.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,we.eu)()}catch(C){return Yr.warn(br.create("indexeddb-unavailable",{errorInfo:null==C?void 0:C.toString()}).message),!1}return!0})).apply(this,arguments)}function Nt(){return Nt=(0,O.Z)(function*(C,D,x,q,ge,Ae,Ve){var vt;const _t=function wu(C){return eh.apply(this,arguments)}(C);_t.then(or=>{x[or.measurementId]=or.appId,C.options.measurementId&&or.measurementId!==C.options.measurementId&&Yr.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${or.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(or=>Yr.error(or)),D.push(_t);const Ht=function ao(){return Vn.apply(this,arguments)}().then(or=>{if(or)return q.getId()}),[_n,yn]=yield Promise.all([_t,Ht]);(function Oa(C){const D=window.document.getElementsByTagName("script");for(const x of Object.values(D))if(x.src&&x.src.includes(fc)&&x.src.includes(C))return x;return null})(Ae)||function Ra(C,D){const x=function pc(C,D){let x;return window.trustedTypes&&(x=window.trustedTypes.createPolicy(C,D)),x}("firebase-js-sdk-policy",{createScriptURL:qf}),q=document.createElement("script"),ge=`${fc}?l=${C}&id=${D}`;q.src=x?null==x?void 0:x.createScriptURL(ge):ge,q.async=!0,document.head.appendChild(q)}(Ae,_n.measurementId),Du&&(ge("consent","default",Du),function yc(C){Du=C}(void 0)),ge("js",new Date);const vi=null!==(vt=null==Ve?void 0:Ve.config)&&void 0!==vt?vt:{};return vi[Kd]="firebase",vi.update=!0,null!=yn&&(vi[hc]=yn),ge("config",_n.measurementId,vi),ea&&(ge("set",ea),function Tu(C){ea=C}(void 0)),_n.measurementId}),Nt.apply(this,arguments)}class yi{constructor(D){this.app=D}_delete(){return delete Mr[this.app.options.appId],Promise.resolve()}}let Mr={},nh=[];const Il={};let rh,co,si="dataLayer",Su="gtag",As=!1;function na(C,D,x){!function ta(){const C=[];if((0,we.ru)()&&C.push("This is a browser extension environment."),(0,we.zI)()||C.push("Cookies are not available."),C.length>0){const D=C.map((q,ge)=>`(${ge+1}) ${q}`).join(" "),x=br.create("invalid-analytics-context",{errorInfo:D});Yr.warn(x.message)}}();const q=C.options.appId;if(!q)throw br.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw br.create("no-api-key");Yr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Mr[q])throw br.create("already-exists",{id:q});if(!As){!function _u(C){let D=[];Array.isArray(window[C])?D=window[C]:window[C]=D}(si);const{wrappedGtag:Ae,gtagCore:Ve}=function Xs(C,D,x,q,ge){let Ae=function(...Ve){window[q].push(arguments)};return window[ge]&&"function"==typeof window[ge]&&(Ae=window[ge]),window[ge]=function Cl(C,D,x,q){function Ae(){return Ae=(0,O.Z)(function*(Ve,...vt){try{if("event"===Ve){const[_t,Ht]=vt;yield function Wf(C,D,x,q,ge){return Qs.apply(this,arguments)}(C,D,x,_t,Ht)}else if("config"===Ve){const[_t,Ht]=vt;yield function yu(C,D,x,q,ge,Ae){return Ts.apply(this,arguments)}(C,D,x,q,_t,Ht)}else if("consent"===Ve){const[_t]=vt;C("consent","update",_t)}else if("get"===Ve){const[_t,Ht,_n]=vt;C("get",_t,Ht,_n)}else if("set"===Ve){const[_t]=vt;C("set",_t)}else C(Ve,...vt)}catch(_t){Yr.error(_t)}}),Ae.apply(this,arguments)}return function ge(Ve){return Ae.apply(this,arguments)}}(Ae,C,D,x),{gtagCore:Ae,wrappedGtag:window[ge]}}(Mr,nh,Il,si,Su);co=Ae,rh=Ve,As=!0}return Mr[q]=function lo(C,D,x,q,ge,Ae,Ve){return Nt.apply(this,arguments)}(C,nh,Il,D,rh,si,x),new yi(C)}function ih(){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,O.Z)(function*(){if((0,we.ru)()||!(0,we.zI)()||!(0,we.hl)())return!1;try{return yield(0,we.eu)()}catch{return!1}})).apply(this,arguments)}const ia="@firebase/analytics";!function Pu(){(0,ve._registerComponent)(new _e.wA(bs,(D,{options:x})=>na(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),x),"PUBLIC")),(0,ve._registerComponent)(new _e.wA("analytics-internal",function C(D){try{const x=D.getProvider(bs).getImmediate();return{logEvent:(q,ge,Ae)=>function Qf(C,D,x,q){C=(0,we.m9)(C),function Ky(C,D,x,q,ge){return Kf.apply(this,arguments)}(co,Mr[C.app.options.appId],D,x,q).catch(ge=>Yr.error(ge))}(x,q,ge,Ae)}}catch(x){throw br.create("interop-component-reg-failed",{reason:x})}},"PRIVATE")),(0,ve.registerVersion)(ia,"0.10.0"),(0,ve.registerVersion)(ia,"0.10.0","esm2017")}();var Bo=R(4408),Ji=R(7565);const ai=new class Ru extends Ji.v{}(class Sl extends Bo.o{constructor(D,x){super(D,x),this.scheduler=D,this.work=x}schedule(D,x=0){return x>0?super.schedule(D,x):(this.delay=x,this.state=D,this.scheduler.flush(this),this)}execute(D,x){return x>0||this.closed?super.execute(D,x):this._execute(D,x)}requestAsyncId(D,x,q=0){return null!=q&&q>0||null==q&&this.delay>0?super.requestAsyncId(D,x,q):(D.flush(this),0)}});var Xf=R(4986),ur=R(8505),xs=R(5363),Na=R(9468);const ki=new a.GfV("7.5.0"),Pr="__angularfire_symbol__analyticsIsSupportedValue",xl="__angularfire_symbol__analyticsIsSupported",Cc="__angularfire_symbol__remoteConfigIsSupportedValue",Fa="__angularfire_symbol__remoteConfigIsSupported",Io="__angularfire_symbol__messagingIsSupportedValue",ns="__angularfire_symbol__messagingIsSupported";function Ec(C,D,x){if(D){if(1===D.length)return D[0];const Ae=D.filter(Ve=>Ve.app===x);if(1===Ae.length)return Ae[0]}return x.container.getProvider(C).getImmediate({optional:!0})}globalThis[xl]||(globalThis[xl]=ih().then(C=>globalThis[Pr]=C).catch(()=>globalThis[Pr]=!1)),globalThis[ns]||(globalThis[ns]=zf().then(C=>globalThis[Io]=C).catch(()=>globalThis[Io]=!1)),globalThis[Fa]||(globalThis[Fa]=Ad().then(C=>globalThis[Cc]=C).catch(()=>globalThis[Cc]=!1));const Ua=(C,D)=>{const x=D?[D]:(0,W.C6)(),q=[];return x.forEach(ge=>{ge.container.getProvider(C).instances.forEach(Ve=>{q.includes(Ve)||q.push(Ve)})}),q};function oa(){}class Ou{constructor(D,x=ai){this.zone=D,this.delegate=x}now(){return this.delegate.now()}schedule(D,x,q){const ge=this.zone;return this.delegate.schedule(function(Ve){ge.runGuarded(()=>{D.apply(this,[Ve])})},x,q)}}class Ml{constructor(D){this.zone=D,this.task=null}call(D,x){const q=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",oa,{},oa,oa)),x.pipe((0,ur.b)({next:q,complete:q,error:q})).subscribe(D).add(q)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let nn=(()=>{class C{constructor(x){this.ngZone=x,this.outsideAngular=x.runOutsideAngular(()=>new Ou(Zone.current)),this.insideAngular=x.run(()=>new Ou(Zone.current,Xf.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(x){return new(x||C)(a.LFG(a.R0b))},C.\u0275prov=a.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function zi(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function sh(C){return C.pipe((0,xs.Q)(zi().outsideAngular))}function bo(C){return zi(),function lh(C){return function(x){return(x=x.lift(new Ml(C.ngZone))).pipe((0,Na.R)(C.outsideAngular),(0,xs.Q)(C.insideAngular))}}(zi())(C)}},8502:(St,We,R)=>{"use strict";R.d(We,{$:()=>mn,A:()=>z,D:()=>ue,I:()=>ir,J:()=>se,L:()=>No,N:()=>fr,P:()=>lo,Q:()=>Td,R:()=>_c,U:()=>Sd,V:()=>Ad,W:()=>Xl,X:()=>Qo,Y:()=>Jl,Z:()=>xd,_:()=>ec,a:()=>Gi,a0:()=>Hf,a1:()=>iu,a2:()=>rm,a3:()=>Od,a4:()=>so,a5:()=>kd,a6:()=>Cs,a7:()=>_i,a8:()=>Es,a9:()=>Fo,aA:()=>X,aB:()=>Cc,aC:()=>lr,aD:()=>pr,aE:()=>xs,aF:()=>Tl,aG:()=>Dl,aH:()=>$n,aL:()=>Uo,aO:()=>vs,aa:()=>Fd,ab:()=>Ld,ac:()=>im,ad:()=>Ud,ae:()=>Bd,af:()=>au,ai:()=>$d,aj:()=>Vd,ak:()=>bi,an:()=>jf,ao:()=>du,aq:()=>ml,ar:()=>Ma,as:()=>he,at:()=>Zt,au:()=>it,av:()=>De,aw:()=>vi,ax:()=>Qr,ay:()=>En,az:()=>be,b:()=>dc,c:()=>co,d:()=>na,e:()=>Au,f:()=>ia,g:()=>Ru,h:()=>Bo,i:()=>vu,j:()=>Xf,k:()=>li,l:()=>El,m:()=>ep,p:()=>ye,r:()=>th,s:()=>Ss,u:()=>ao});var a=R(5861),W=R(2090),O=R(6881),ve=R(655),we=R(1877),_e=R(4859);const ye={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},z={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const ue=function Z(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},xe=function ie(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},He=new W.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Y=new we.Yd("@firebase/auth");function Me(w,...p){Y.logLevel<=we.in.ERROR&&Y.error(`Auth (${O.SDK_VERSION}): ${w}`,...p)}function De(w,...p){throw ae(w,...p)}function be(w,...p){return ae(w,...p)}function Re(w,p,_){const I=Object.assign(Object.assign({},xe()),{[p]:_});return new W.LL("auth","Firebase",I).create(p,{appName:w.name})}function Fe(w,p,_){if(!(p instanceof _))throw _.name!==p.constructor.name&&De(w,"argument-error"),Re(w,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ae(w,...p){if("string"!=typeof w){const _=p[0],I=[...p.slice(1)];return I[0]&&(I[0].appName=w.name),w._errorFactory.create(_,...I)}return He.create(w,...p)}function X(w,p,..._){if(!w)throw ae(p,..._)}function Ue(w){const p="INTERNAL ASSERTION FAILED: "+w;throw Me(p),new Error(p)}function he(w,p){w||Ue(p)}function Te(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function Ge(){return"http:"===Ze()||"https:"===Ze()}function Ze(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class Be{constructor(p,_){this.shortDelay=p,this.longDelay=_,he(_>p,"Short delay should be less than long delay!"),this.isMobile=(0,W.uI)()||(0,W.b$)()}get(){return function Se(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ge()||(0,W.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function le(w,p){he(w.emulator,"Emulator should always be set here");const{url:_}=w.emulator;return p?`${_}${p.startsWith("/")?p.slice(1):p}`:_}class oe{static initialize(p,_,I){this.fetchImpl=p,_&&(this.headersImpl=_),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ue("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ue("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ue("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const pe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Le=new Be(3e4,6e4);function qe(w,p){return w.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:w.tenantId}):p}function pt(w,p,_,I){return dt.apply(this,arguments)}function dt(){return(dt=(0,a.Z)(function*(w,p,_,I,M={}){return Rt(w,M,(0,a.Z)(function*(){let U={},Ie={};I&&("GET"===p?Ie=I:U={body:JSON.stringify(I)});const Ke=(0,W.xO)(Object.assign({key:w.config.apiKey},Ie)).slice(1),mt=yield w._getAdditionalHeaders();return mt["Content-Type"]="application/json",w.languageCode&&(mt["X-Firebase-Locale"]=w.languageCode),oe.fetch()(ht(w,w.config.apiHost,_,Ke),Object.assign({method:p,headers:mt,referrerPolicy:"no-referrer"},U))}))})).apply(this,arguments)}function Rt(w,p,_){return $e.apply(this,arguments)}function $e(){return($e=(0,a.Z)(function*(w,p,_){w._canInitEmulator=!1;const I=Object.assign(Object.assign({},pe),p);try{const M=new jt(w),U=yield Promise.race([_(),M.promise]);M.clearNetworkTimeout();const Ie=yield U.json();if("needConfirmation"in Ie)throw Kt(w,"account-exists-with-different-credential",Ie);if(U.ok&&!("errorMessage"in Ie))return Ie;{const Ke=U.ok?Ie.errorMessage:Ie.error.message,[mt,Dt]=Ke.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===mt)throw Kt(w,"credential-already-in-use",Ie);if("EMAIL_EXISTS"===mt)throw Kt(w,"email-already-in-use",Ie);if("USER_DISABLED"===mt)throw Kt(w,"user-disabled",Ie);const Qt=I[mt]||mt.toLowerCase().replace(/[_\s]+/g,"-");if(Dt)throw Re(w,Qt,Dt);De(w,Qt)}}catch(M){if(M instanceof W.ZR)throw M;De(w,"network-request-failed",{message:String(M)})}})).apply(this,arguments)}function Ce(w,p,_,I){return Je.apply(this,arguments)}function Je(){return(Je=(0,a.Z)(function*(w,p,_,I,M={}){const U=yield pt(w,p,_,I,M);return"mfaPendingCredential"in U&&De(w,"multi-factor-auth-required",{_serverResponse:U}),U})).apply(this,arguments)}function ht(w,p,_,I){const M=`${p}${_}?${I}`;return w.config.emulator?le(w.config,M):`${w.config.apiScheme}://${M}`}class jt{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((_,I)=>{this.timer=setTimeout(()=>I(be(this.auth,"network-request-failed")),Le.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Kt(w,p,_){const I={appName:w.name};_.email&&(I.email=_.email),_.phoneNumber&&(I.phoneNumber=_.phoneNumber);const M=be(w,p,I);return M.customData._tokenResponse=_,M}function zt(){return(zt=(0,a.Z)(function*(w,p){return pt(w,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Nn(){return(Nn=(0,a.Z)(function*(w,p){return pt(w,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Un(){return(Un=(0,a.Z)(function*(w,p){return pt(w,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function Ut(w){if(w)try{const p=new Date(Number(w));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function Rn(){return(Rn=(0,a.Z)(function*(w,p=!1){const _=(0,W.m9)(w),I=yield _.getIdToken(p),M=Or(I);X(M&&M.exp&&M.auth_time&&M.iat,_.auth,"internal-error");const U="object"==typeof M.firebase?M.firebase:void 0,Ie=null==U?void 0:U.sign_in_provider;return{claims:M,token:I,authTime:Ut(Rr(M.auth_time)),issuedAtTime:Ut(Rr(M.iat)),expirationTime:Ut(Rr(M.exp)),signInProvider:Ie||null,signInSecondFactor:(null==U?void 0:U.sign_in_second_factor)||null}})).apply(this,arguments)}function Rr(w){return 1e3*Number(w)}function Or(w){const[p,_,I]=w.split(".");if(void 0===p||void 0===_||void 0===I)return Me("JWT malformed, contained fewer than 3 sections"),null;try{const M=(0,W.tV)(_);return M?JSON.parse(M):(Me("Failed to decode base64 JWT payload"),null)}catch(M){return Me("Caught error parsing JWT payload as JSON",null==M?void 0:M.toString()),null}}function dn(w,p){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,a.Z)(function*(w,p,_=!1){if(_)return p;try{return yield p}catch(I){throw I instanceof W.ZR&&function on({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}(I)&&w.auth.currentUser===w&&(yield w.auth.signOut()),I}})).apply(this,arguments)}class zn{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var _;if(p){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const M=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(p=!1){var _=this;if(!this.isRunning)return;const I=this.getInterval(p);this.timerId=setTimeout((0,a.Z)(function*(){yield _.iteration()}),I)}iteration(){var p=this;return(0,a.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===(null==_?void 0:_.code)&&p.schedule(!0))}p.schedule()})()}}class Sr{constructor(p,_){this.createdAt=p,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ut(this.lastLoginAt),this.creationTime=Ut(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function kn(w){return kr.apply(this,arguments)}function kr(){return kr=(0,a.Z)(function*(w){var p;const _=w.auth,I=yield w.getIdToken(),M=yield dn(w,function ar(w,p){return Un.apply(this,arguments)}(_,{idToken:I}));X(null==M?void 0:M.users.length,_,"internal-error");const U=M.users[0];w._notifyReloadListener(U);const Ie=null!==(p=U.providerUserInfo)&&void 0!==p&&p.length?function ri(w){return w.map(p=>{var{providerId:_}=p,I=(0,ve._T)(p,["providerId"]);return{providerId:_,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}(U.providerUserInfo):[],Ke=function Cn(w,p){return[...w.filter(I=>!p.some(M=>M.providerId===I.providerId)),...p]}(w.providerData,Ie),Qt=!!w.isAnonymous&&!(w.email&&U.passwordHash||null!=Ke&&Ke.length),xn={uid:U.localId,displayName:U.displayName||null,photoURL:U.photoUrl||null,email:U.email||null,emailVerified:U.emailVerified||!1,phoneNumber:U.phoneNumber||null,tenantId:U.tenantId||null,providerData:Ke,metadata:new Sr(U.createdAt,U.lastLoginAt),isAnonymous:Qt};Object.assign(w,xn)}),kr.apply(this,arguments)}function mr(){return(mr=(0,a.Z)(function*(w){const p=(0,W.m9)(w);yield kn(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function ii(){return(ii=(0,a.Z)(function*(w,p){const _=yield Rt(w,{},(0,a.Z)(function*(){const I=(0,W.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:M,apiKey:U}=w.config,Ie=ht(w,M,"/v1/token",`key=${U}`),Ke=yield w._getAdditionalHeaders();return Ke["Content-Type"]="application/x-www-form-urlencoded",oe.fetch()(Ie,{method:"POST",headers:Ke,body:I})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class gn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){X(p.idToken,"internal-error"),X(typeof p.idToken<"u","internal-error"),X(typeof p.refreshToken<"u","internal-error");const _="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function On(w){const p=Or(w);return X(p,"internal-error"),X(typeof p.exp<"u","internal-error"),X(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,_)}getToken(p,_=!1){var I=this;return(0,a.Z)(function*(){return X(!I.accessToken||I.refreshToken,p,"user-token-expired"),_||!I.accessToken||I.isExpired?I.refreshToken?(yield I.refresh(p,I.refreshToken),I.accessToken):null:I.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,_){var I=this;return(0,a.Z)(function*(){const{accessToken:M,refreshToken:U,expiresIn:Ie}=yield function pn(w,p){return ii.apply(this,arguments)}(p,_);I.updateTokensAndExpiration(M,U,Number(Ie))})()}updateTokensAndExpiration(p,_,I){this.refreshToken=_||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(p,_){const{refreshToken:I,accessToken:M,expirationTime:U}=_,Ie=new gn;return I&&(X("string"==typeof I,"internal-error",{appName:p}),Ie.refreshToken=I),M&&(X("string"==typeof M,"internal-error",{appName:p}),Ie.accessToken=M),U&&(X("number"==typeof U,"internal-error",{appName:p}),Ie.expirationTime=U),Ie}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new gn,this.toJSON())}_performRefresh(){return Ue("not implemented")}}function hr(w,p){X("string"==typeof w||typeof w>"u","internal-error",{appName:p})}class rr{constructor(p){var{uid:_,auth:I,stsTokenManager:M}=p,U=(0,ve._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=I,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=U.displayName||null,this.email=U.email||null,this.emailVerified=U.emailVerified||!1,this.phoneNumber=U.phoneNumber||null,this.photoURL=U.photoURL||null,this.isAnonymous=U.isAnonymous||!1,this.tenantId=U.tenantId||null,this.providerData=U.providerData?[...U.providerData]:[],this.metadata=new Sr(U.createdAt||void 0,U.lastLoginAt||void 0)}getIdToken(p){var _=this;return(0,a.Z)(function*(){const I=yield dn(_,_.stsTokenManager.getToken(_.auth,p));return X(I,_.auth,"internal-error"),_.accessToken!==I&&(_.accessToken=I,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),I})()}getIdTokenResult(p){return function pi(w){return Rn.apply(this,arguments)}(this,p)}reload(){return function nr(w){return mr.apply(this,arguments)}(this)}_assign(p){this!==p&&(X(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(_=>Object.assign({},_)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const _=new rr(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return _.metadata._copy(this.metadata),_}_onReload(p){X(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,_=!1){var I=this;return(0,a.Z)(function*(){let M=!1;p.idToken&&p.idToken!==I.stsTokenManager.accessToken&&(I.stsTokenManager.updateFromServerResponse(p),M=!0),_&&(yield kn(I)),yield I.auth._persistUserIfCurrent(I),M&&I.auth._notifyListenersIfCurrent(I)})()}delete(){var p=this;return(0,a.Z)(function*(){const _=yield p.getIdToken();return yield dn(p,function $t(w,p){return zt.apply(this,arguments)}(p.auth,{idToken:_})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,_){var I,M,U,Ie,Ke,mt,Dt,Qt;const xn=null!==(I=_.displayName)&&void 0!==I?I:void 0,qi=null!==(M=_.email)&&void 0!==M?M:void 0,sa=null!==(U=_.phoneNumber)&&void 0!==U?U:void 0,$a=null!==(Ie=_.photoURL)&&void 0!==Ie?Ie:void 0,ku=null!==(Ke=_.tenantId)&&void 0!==Ke?Ke:void 0,rs=null!==(mt=_._redirectEventId)&&void 0!==mt?mt:void 0,op=null!==(Dt=_.createdAt)&&void 0!==Dt?Dt:void 0,hh=null!==(Qt=_.lastLoginAt)&&void 0!==Qt?Qt:void 0,{uid:Nu,emailVerified:Va,isAnonymous:fh,providerData:ph,stsTokenManager:Tc}=_;X(Nu&&Tc,p,"internal-error");const gh=gn.fromJSON(this.name,Tc);X("string"==typeof Nu,p,"internal-error"),hr(xn,p.name),hr(qi,p.name),X("boolean"==typeof Va,p,"internal-error"),X("boolean"==typeof fh,p,"internal-error"),hr(sa,p.name),hr($a,p.name),hr(ku,p.name),hr(rs,p.name),hr(op,p.name),hr(hh,p.name);const Sc=new rr({uid:Nu,auth:p,email:qi,emailVerified:Va,displayName:xn,isAnonymous:fh,photoURL:$a,phoneNumber:sa,tenantId:ku,stsTokenManager:gh,createdAt:op,lastLoginAt:hh});return ph&&Array.isArray(ph)&&(Sc.providerData=ph.map(ja=>Object.assign({},ja))),rs&&(Sc._redirectEventId=rs),Sc}static _fromIdTokenResponse(p,_,I=!1){return(0,a.Z)(function*(){const M=new gn;M.updateFromServerResponse(_);const U=new rr({uid:_.localId,auth:p,stsTokenManager:M,isAnonymous:I});return yield kn(U),U})()}}const Nr=new Map;function lr(w){he(w instanceof Function,"Expected a class definition");let p=Nr.get(w);return p?(he(p instanceof w,"Instance stored in cache mismatched with class"),p):(p=new w,Nr.set(w,p),p)}const fr=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,a.Z)(function*(){return!0})()}_set(_,I){var M=this;return(0,a.Z)(function*(){M.storage[_]=I})()}_get(_){var I=this;return(0,a.Z)(function*(){const M=I.storage[_];return void 0===M?null:M})()}_remove(_){var I=this;return(0,a.Z)(function*(){delete I.storage[_]})()}_addListener(_,I){}_removeListener(_,I){}}return w.type="NONE",w})();function pr(w,p,_){return`firebase:${w}:${p}:${_}`}class re{constructor(p,_,I){this.persistence=p,this.auth=_,this.userKey=I;const{config:M,name:U}=this.auth;this.fullUserKey=pr(this.userKey,M.apiKey,U),this.fullPersistenceKey=pr("persistence",M.apiKey,U),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,a.Z)(function*(){const _=yield p.persistence._get(p.fullUserKey);return _?rr._fromJSON(p.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var _=this;return(0,a.Z)(function*(){if(_.persistence===p)return;const I=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=p,I?_.setCurrentUser(I):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,_,I="authUser"){return(0,a.Z)(function*(){if(!_.length)return new re(lr(fr),p,I);const M=(yield Promise.all(_.map(function(){var Dt=(0,a.Z)(function*(Qt){if(yield Qt._isAvailable())return Qt});return function(Qt){return Dt.apply(this,arguments)}}()))).filter(Dt=>Dt);let U=M[0]||lr(fr);const Ie=pr(I,p.config.apiKey,p.name);let Ke=null;for(const Dt of _)try{const Qt=yield Dt._get(Ie);if(Qt){const xn=rr._fromJSON(p,Qt);Dt!==U&&(Ke=xn),U=Dt;break}}catch{}const mt=M.filter(Dt=>Dt._shouldAllowMigration);return U._shouldAllowMigration&&mt.length?(U=mt[0],Ke&&(yield U._set(Ie,Ke.toJSON())),yield Promise.all(_.map(function(){var Dt=(0,a.Z)(function*(Qt){if(Qt!==U)try{yield Qt._remove(Ie)}catch{}});return function(Qt){return Dt.apply(this,arguments)}}())),new re(U,p,I)):new re(U,p,I)})()}}function K(w){const p=w.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(me(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(L(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(At(p))return"Blackberry";if(Xt(p))return"Webos";if(B(p))return"Safari";if((p.includes("chrome/")||N(p))&&!p.includes("edge/"))return"Chrome";if(it(p))return"Android";{const I=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==I?void 0:I.length))return I[1]}return"Other"}function L(w=(0,W.z$)()){return/firefox\//i.test(w)}function B(w=(0,W.z$)()){const p=w.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function N(w=(0,W.z$)()){return/crios\//i.test(w)}function me(w=(0,W.z$)()){return/iemobile/i.test(w)}function it(w=(0,W.z$)()){return/android/i.test(w)}function At(w=(0,W.z$)()){return/blackberry/i.test(w)}function Xt(w=(0,W.z$)()){return/webos/i.test(w)}function Zt(w=(0,W.z$)()){return/iphone|ipad|ipod/i.test(w)||/macintosh/i.test(w)&&/mobile/i.test(w)}function En(w=(0,W.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(w)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(w)}function vn(w=(0,W.z$)()){return Zt(w)||it(w)||Xt(w)||At(w)||/windows phone/i.test(w)||me(w)}function Fr(w,p=[]){let _;switch(w){case"Browser":_=K((0,W.z$)());break;case"Worker":_=`${K((0,W.z$)())}-${w}`;break;default:_=w}const I=p.length?p.join(","):"FirebaseCore-web";return`${_}/JsCore/${O.SDK_VERSION}/${I}`}function ke(){return(ke=(0,a.Z)(function*(w){return(yield pt(w,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function at(w,p){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,a.Z)(function*(w,p){return pt(w,"GET","/v2/recaptchaConfig",qe(w,p))})).apply(this,arguments)}function Jt(w){return void 0!==w&&void 0!==w.getResponse}function In(w){return void 0!==w&&void 0!==w.enterprise}class Lt{constructor(p){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===p.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=p.recaptchaKey.split("/")[3],this.emailPasswordEnabled=p.recaptchaEnforcementState.some(_=>"EMAIL_PASSWORD_PROVIDER"===_.provider&&"OFF"!==_.enforcementState)}}function wn(w){return new Promise((p,_)=>{const I=document.createElement("script");I.setAttribute("src",w),I.onload=p,I.onerror=M=>{const U=be("internal-error");U.customData=M,_(U)},I.type="text/javascript",I.charset="UTF-8",function Fn(){var w,p;return null!==(p=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==p?p:document}().appendChild(I)})}function hn(w){return`__${w}${Math.floor(1e6*Math.random())}`}const sl="NO_RECAPTCHA";class Bi{constructor(p){this.type="recaptcha-enterprise",this.auth=$n(p)}verify(p="verify",_=!1){var I=this;return(0,a.Z)(function*(){function U(){return U=(0,a.Z)(function*(Ke){if(!_){if(null==Ke.tenantId&&null!=Ke._agentRecaptchaConfig)return Ke._agentRecaptchaConfig.siteKey;if(null!=Ke.tenantId&&void 0!==Ke._tenantRecaptchaConfigs[Ke.tenantId])return Ke._tenantRecaptchaConfigs[Ke.tenantId].siteKey}return new Promise(function(){var mt=(0,a.Z)(function*(Dt,Qt){at(Ke,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(xn=>{if(void 0!==xn.recaptchaKey){const qi=new Lt(xn);return null==Ke.tenantId?Ke._agentRecaptchaConfig=qi:Ke._tenantRecaptchaConfigs[Ke.tenantId]=qi,Dt(qi.siteKey)}Qt(new Error("recaptcha Enterprise site key undefined"))}).catch(xn=>{Qt(xn)})});return function(Dt,Qt){return mt.apply(this,arguments)}}())}),U.apply(this,arguments)}function Ie(Ke,mt,Dt){const Qt=window.grecaptcha;In(Qt)?Qt.enterprise.ready(()=>{Qt.enterprise.execute(Ke,{action:p}).then(xn=>{mt(xn)}).catch(()=>{mt(sl)})}):Dt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Ke,mt)=>{(function M(Ke){return U.apply(this,arguments)})(I.auth).then(Dt=>{if(!_&&In(window.grecaptcha))Ie(Dt,Ke,mt);else{if(typeof window>"u")return void mt(new Error("RecaptchaVerifier is only supported in browser"));wn("https://www.google.com/recaptcha/enterprise.js?render="+Dt).then(()=>{Ie(Dt,Ke,mt)}).catch(Qt=>{mt(Qt)})}}).catch(Dt=>{mt(Dt)})})})()}}function Ar(w,p,_){return wt.apply(this,arguments)}function wt(){return(wt=(0,a.Z)(function*(w,p,_,I=!1){const M=new Bi(w);let U;try{U=yield M.verify(_)}catch{U=yield M.verify(_,!0)}const Ie=Object.assign({},p);return Object.assign(Ie,I?{captchaResp:U}:{captchaResponse:U}),Object.assign(Ie,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Ie,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Ie})).apply(this,arguments)}class an{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,_){const I=U=>new Promise((Ie,Ke)=>{try{Ie(p(U))}catch(mt){Ke(mt)}});I.onAbort=_,this.queue.push(I);const M=this.queue.length-1;return()=>{this.queue[M]=()=>Promise.resolve()}}runMiddleware(p){var _=this;return(0,a.Z)(function*(){if(_.auth.currentUser===p)return;const I=[];try{for(const M of _.queue)yield M(p),M.onAbort&&I.push(M.onAbort)}catch(M){I.reverse();for(const U of I)try{U()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:null==M?void 0:M.message})}})()}}class Jn{constructor(p,_,I,M){this.app=p,this.heartbeatServiceProvider=_,this.appCheckServiceProvider=I,this.config=M,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $i(this),this.idTokenSubscription=new $i(this),this.beforeStateQueue=new an(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=He,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=M.sdkClientVersion}_initializeWithPersistence(p,_){var I=this;return _&&(this._popupRedirectResolver=lr(_)),this._initializationPromise=this.queue((0,a.Z)(function*(){var M,U;if(!I._deleted&&(I.persistenceManager=yield re.create(I,p),!I._deleted)){if(null!==(M=I._popupRedirectResolver)&&void 0!==M&&M._shouldInitProactively)try{yield I._popupRedirectResolver._initialize(I)}catch{}yield I.initializeCurrentUser(_),I.lastNotifiedUid=(null===(U=I.currentUser)||void 0===U?void 0:U.uid)||null,!I._deleted&&(I._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,a.Z)(function*(){if(p._deleted)return;const _=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||_){if(p.currentUser&&_&&p.currentUser.uid===_.uid)return p._currentUser._assign(_),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(_,!0)}})()}initializeCurrentUser(p){var _=this;return(0,a.Z)(function*(){var I;const M=yield _.assertedPersistence.getCurrentUser();let U=M,Ie=!1;if(p&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const Ke=null===(I=_.redirectUser)||void 0===I?void 0:I._redirectEventId,mt=null==U?void 0:U._redirectEventId,Dt=yield _.tryRedirectSignIn(p);(!Ke||Ke===mt)&&null!=Dt&&Dt.user&&(U=Dt.user,Ie=!0)}if(!U)return _.directlySetCurrentUser(null);if(!U._redirectEventId){if(Ie)try{yield _.beforeStateQueue.runMiddleware(U)}catch(Ke){U=M,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(Ke))}return U?_.reloadAndSetCurrentUserOrClear(U):_.directlySetCurrentUser(null)}return X(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===U._redirectEventId?_.directlySetCurrentUser(U):_.reloadAndSetCurrentUserOrClear(U)})()}tryRedirectSignIn(p){var _=this;return(0,a.Z)(function*(){let I=null;try{I=yield _._popupRedirectResolver._completeRedirectFn(_,p,!0)}catch{yield _._setRedirectUser(null)}return I})()}reloadAndSetCurrentUserOrClear(p){var _=this;return(0,a.Z)(function*(){try{yield kn(p)}catch(I){if("auth/network-request-failed"!==(null==I?void 0:I.code))return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function Oe(){if(typeof navigator>"u")return null;const w=navigator;return w.languages&&w.languages[0]||w.language||null}()}_delete(){var p=this;return(0,a.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var _=this;return(0,a.Z)(function*(){const I=p?(0,W.m9)(p):null;return I&&X(I.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(I&&I._clone(_))})()}_updateCurrentUser(p,_=!1){var I=this;return(0,a.Z)(function*(){if(!I._deleted)return p&&X(I.tenantId===p.tenantId,I,"tenant-id-mismatch"),_||(yield I.beforeStateQueue.runMiddleware(p)),I.queue((0,a.Z)(function*(){yield I.directlySetCurrentUser(p),I.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,a.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var _=this;return this.queue((0,a.Z)(function*(){yield _.assertedPersistence.setPersistence(lr(p))}))}initializeRecaptchaConfig(){var p=this;return(0,a.Z)(function*(){const _=yield at(p,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),I=new Lt(_);null==p.tenantId?p._agentRecaptchaConfig=I:p._tenantRecaptchaConfigs[p.tenantId]=I,I.emailPasswordEnabled&&new Bi(p).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new W.LL("auth","Firebase",p())}onAuthStateChanged(p,_,I){return this.registerStateListener(this.authStateSubscription,p,_,I)}beforeAuthStateChanged(p,_){return this.beforeStateQueue.pushCallback(p,_)}onIdTokenChanged(p,_,I){return this.registerStateListener(this.idTokenSubscription,p,_,I)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,_){var I=this;return(0,a.Z)(function*(){const M=yield I.getOrInitRedirectPersistenceManager(_);return null===p?M.removeCurrentUser():M.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var _=this;return(0,a.Z)(function*(){if(!_.redirectPersistenceManager){const I=p&&lr(p)||_._popupRedirectResolver;X(I,_,"argument-error"),_.redirectPersistenceManager=yield re.create(_,[lr(I._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(p){var _=this;return(0,a.Z)(function*(){var I,M;return _._isInitialized&&(yield _.queue((0,a.Z)(function*(){}))),(null===(I=_._currentUser)||void 0===I?void 0:I._redirectEventId)===p?_._currentUser:(null===(M=_.redirectUser)||void 0===M?void 0:M._redirectEventId)===p?_.redirectUser:null})()}_persistUserIfCurrent(p){var _=this;return(0,a.Z)(function*(){if(p===_.currentUser)return _.queue((0,a.Z)(function*(){return _.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const I=null!==(_=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==I&&(this.lastNotifiedUid=I,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,_,I,M){if(this._deleted)return()=>{};const U="function"==typeof _?_:_.next.bind(_),Ie=this._isInitialized?Promise.resolve():this._initializationPromise;return X(Ie,this,"internal-error"),Ie.then(()=>U(this.currentUser)),"function"==typeof _?p.addObserver(_,I,M):p.addObserver(_)}directlySetCurrentUser(p){var _=this;return(0,a.Z)(function*(){_.currentUser&&_.currentUser!==p&&_._currentUser._stopProactiveRefresh(),p&&_.isProactiveRefreshEnabled&&p._startProactiveRefresh(),_.currentUser=p,p?yield _.assertedPersistence.setCurrentUser(p):yield _.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return X(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Fr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,a.Z)(function*(){var _;const I={"X-Client-Version":p.clientVersion};p.app.options.appId&&(I["X-Firebase-gmpid"]=p.app.options.appId);const M=yield null===(_=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();M&&(I["X-Firebase-Client"]=M);const U=yield p._getAppCheckToken();return U&&(I["X-Firebase-AppCheck"]=U),I})()}_getAppCheckToken(){var p=this;return(0,a.Z)(function*(){var _;const I=yield null===(_=p.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getToken();return null!=I&&I.error&&function fe(w,...p){Y.logLevel<=we.in.WARN&&Y.warn(`Auth (${O.SDK_VERSION}): ${w}`,...p)}(`Error while retrieving App Check token: ${I.error}`),null==I?void 0:I.token})()}}function $n(w){return(0,W.m9)(w)}class $i{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,W.ne)(_=>this.observer=_)}get next(){return X(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ir(w,p,_){const I=$n(w);X(I._canInitEmulator,I,"emulator-config-failed"),X(/^https?:\/\//.test(p),I,"invalid-emulator-scheme");const M=!(null==_||!_.disableWarnings),U=k(p),{host:Ie,port:Ke}=function H(w){const p=k(w),_=/(\/\/)?([^?#/]+)/.exec(w.substr(p.length));if(!_)return{host:"",port:null};const I=_[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(I);if(M){const U=M[1];return{host:U,port:te(I.substr(U.length+1))}}{const[U,Ie]=I.split(":");return{host:U,port:te(Ie)}}}(p);I.config.emulator={url:`${U}//${Ie}${null===Ke?"":`:${Ke}`}/`},I.settings.appVerificationDisabledForTesting=!0,I.emulatorConfig=Object.freeze({host:Ie,port:Ke,protocol:U.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function $(){function w(){const p=document.createElement("p"),_=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",w):w())}()}function k(w){const p=w.indexOf(":");return p<0?"":w.substr(0,p+1)}function te(w){if(!w)return null;const p=Number(w);return isNaN(p)?null:p}class se{constructor(p,_){this.providerId=p,this.signInMethod=_}toJSON(){return Ue("not implemented")}_getIdTokenResponse(p){return Ue("not implemented")}_linkToIdToken(p,_){return Ue("not implemented")}_getReauthenticationResolver(p){return Ue("not implemented")}}function ce(w,p){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,a.Z)(function*(w,p){return pt(w,"POST","/v1/accounts:resetPassword",qe(w,p))})).apply(this,arguments)}function Qe(w,p){return rt.apply(this,arguments)}function rt(){return(rt=(0,a.Z)(function*(w,p){return pt(w,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function bt(){return(bt=(0,a.Z)(function*(w,p){return pt(w,"POST","/v1/accounts:update",qe(w,p))})).apply(this,arguments)}function Yt(w,p){return qt.apply(this,arguments)}function qt(){return(qt=(0,a.Z)(function*(w,p){return Ce(w,"POST","/v1/accounts:signInWithPassword",qe(w,p))})).apply(this,arguments)}function cn(w,p){return Er.apply(this,arguments)}function Er(){return(Er=(0,a.Z)(function*(w,p){return pt(w,"POST","/v1/accounts:sendOobCode",qe(w,p))})).apply(this,arguments)}function oo(){return(oo=(0,a.Z)(function*(w,p){return cn(w,p)})).apply(this,arguments)}function gi(w,p){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,a.Z)(function*(w,p){return cn(w,p)})).apply(this,arguments)}function Ko(w,p){return xr.apply(this,arguments)}function xr(){return(xr=(0,a.Z)(function*(w,p){return cn(w,p)})).apply(this,arguments)}function Ri(){return(Ri=(0,a.Z)(function*(w,p){return cn(w,p)})).apply(this,arguments)}function js(){return(js=(0,a.Z)(function*(w,p){return Ce(w,"POST","/v1/accounts:signInWithEmailLink",qe(w,p))})).apply(this,arguments)}function al(){return(al=(0,a.Z)(function*(w,p){return Ce(w,"POST","/v1/accounts:signInWithEmailLink",qe(w,p))})).apply(this,arguments)}class ji extends se{constructor(p,_,I,M=null){super("password",I),this._email=p,this._password=_,this._tenantId=M}static _fromEmailAndPassword(p,_){return new ji(p,_,"password")}static _fromEmailAndCode(p,_,I=null){return new ji(p,_,"emailLink",I)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p;if(null!=_&&_.email&&null!=_&&_.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(p){var _=this;return(0,a.Z)(function*(){var I;switch(_.signInMethod){case"password":const M={returnSecureToken:!0,email:_._email,password:_._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(I=p._getRecaptchaConfig())&&void 0!==I&&I.emailPasswordEnabled){const U=yield Ar(p,M,"signInWithPassword");return Yt(p,U)}return Yt(p,M).catch(function(){var U=(0,a.Z)(function*(Ie){if("auth/missing-recaptcha-token"===Ie.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Ke=yield Ar(p,M,"signInWithPassword");return Yt(p,Ke)}return Promise.reject(Ie)});return function(Ie){return U.apply(this,arguments)}}());case"emailLink":return function Eo(w,p){return js.apply(this,arguments)}(p,{email:_._email,oobCode:_._password});default:De(p,"internal-error")}})()}_linkToIdToken(p,_){var I=this;return(0,a.Z)(function*(){switch(I.signInMethod){case"password":return Qe(p,{idToken:_,returnSecureToken:!0,email:I._email,password:I._password});case"emailLink":return function Ql(w,p){return al.apply(this,arguments)}(p,{idToken:_,email:I._email,oobCode:I._password});default:De(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function _s(w,p){return ll.apply(this,arguments)}function ll(){return(ll=(0,a.Z)(function*(w,p){return Ce(w,"POST","/v1/accounts:signInWithIdp",qe(w,p))})).apply(this,arguments)}class No extends se{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const _=new No(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(_.idToken=p.idToken),p.accessToken&&(_.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(_.nonce=p.nonce),p.pendingToken&&(_.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(_.accessToken=p.oauthToken,_.secret=p.oauthTokenSecret):De("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p,{providerId:I,signInMethod:M}=_,U=(0,ve._T)(_,["providerId","signInMethod"]);if(!I||!M)return null;const Ie=new No(I,M);return Ie.idToken=U.idToken||void 0,Ie.accessToken=U.accessToken||void 0,Ie.secret=U.secret,Ie.nonce=U.nonce,Ie.pendingToken=U.pendingToken||null,Ie}_getIdTokenResponse(p){return _s(p,this.buildRequest())}_linkToIdToken(p,_){const I=this.buildRequest();return I.idToken=_,_s(p,I)}_getReauthenticationResolver(p){const _=this.buildRequest();return _.autoCreate=!1,_s(p,_)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),p.postBody=(0,W.xO)(_)}return p}}function Cd(){return(Cd=(0,a.Z)(function*(w,p){return pt(w,"POST","/v1/accounts:sendVerificationCode",qe(w,p))})).apply(this,arguments)}function Ed(){return(Ed=(0,a.Z)(function*(w,p){return Ce(w,"POST","/v1/accounts:signInWithPhoneNumber",qe(w,p))})).apply(this,arguments)}function Id(){return(Id=(0,a.Z)(function*(w,p){const _=yield Ce(w,"POST","/v1/accounts:signInWithPhoneNumber",qe(w,p));if(_.temporaryProof)throw Kt(w,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const bd={USER_NOT_FOUND:"user-not-found"};function Uf(){return(Uf=(0,a.Z)(function*(w,p){return Ce(w,"POST","/v1/accounts:signInWithPhoneNumber",qe(w,Object.assign(Object.assign({},p),{operation:"REAUTH"})),bd)})).apply(this,arguments)}class ys extends se{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,_){return new ys({verificationId:p,verificationCode:_})}static _fromTokenResponse(p,_){return new ys({phoneNumber:p,temporaryProof:_})}_getIdTokenResponse(p){return function Lf(w,p){return Ed.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,_){return function nm(w,p){return Id.apply(this,arguments)}(p,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Dd(w,p){return Uf.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:_,verificationId:I,verificationCode:M}=this.params;return p&&_?{temporaryProof:p,phoneNumber:_}:{sessionInfo:I,code:M}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:_,verificationCode:I,phoneNumber:M,temporaryProof:U}=p;return I||_||M||U?new ys({verificationId:_,verificationCode:I,phoneNumber:M,temporaryProof:U}):null}}class va{constructor(p){var _,I,M,U,Ie,Ke;const mt=(0,W.zd)((0,W.pd)(p)),Dt=null!==(_=mt.apiKey)&&void 0!==_?_:null,Qt=null!==(I=mt.oobCode)&&void 0!==I?I:null,xn=function Hs(w){switch(w){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=mt.mode)&&void 0!==M?M:null);X(Dt&&Qt&&xn,"argument-error"),this.apiKey=Dt,this.operation=xn,this.code=Qt,this.continueUrl=null!==(U=mt.continueUrl)&&void 0!==U?U:null,this.languageCode=null!==(Ie=mt.languageCode)&&void 0!==Ie?Ie:null,this.tenantId=null!==(Ke=mt.tenantId)&&void 0!==Ke?Ke:null}static parseLink(p){const _=function Bf(w){const p=(0,W.zd)((0,W.pd)(w)).link,_=p?(0,W.zd)((0,W.pd)(p)).deep_link_id:null,I=(0,W.zd)((0,W.pd)(w)).deep_link_id;return(I?(0,W.zd)((0,W.pd)(I)).link:null)||I||_||p||w}(p);try{return new va(_)}catch{return null}}}let Td=(()=>{class w{constructor(){this.providerId=w.PROVIDER_ID}static credential(_,I){return ji._fromEmailAndPassword(_,I)}static credentialWithLink(_,I){const M=va.parseLink(I);return X(M,"argument-error"),ji._fromEmailAndCode(_,M.code,M.tenantId)}}return w.PROVIDER_ID="password",w.EMAIL_PASSWORD_SIGN_IN_METHOD="password",w.EMAIL_LINK_SIGN_IN_METHOD="emailLink",w})();class Gs{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class wa extends Gs{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class Qo extends wa{static credentialFromJSON(p){const _="string"==typeof p?JSON.parse(p):p;return X("providerId"in _&&"signInMethod"in _,"argument-error"),No._fromParams(_)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return X(p.idToken||p.accessToken,"argument-error"),No._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return Qo.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return Qo.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:_,oauthAccessToken:I,oauthTokenSecret:M,pendingToken:U,nonce:Ie,providerId:Ke}=p;if(!I&&!M&&!_&&!U||!Ke)return null;try{return new Qo(Ke)._credential({idToken:_,accessToken:I,nonce:Ie,pendingToken:U})}catch{return null}}}let Sd=(()=>{class w extends wa{constructor(){super("facebook.com")}static credential(_){return No._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return w.credentialFromTaggedObject(_)}static credentialFromError(_){return w.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return w.credential(_.oauthAccessToken)}catch{return null}}}return w.FACEBOOK_SIGN_IN_METHOD="facebook.com",w.PROVIDER_ID="facebook.com",w})(),Ad=(()=>{class w extends wa{constructor(){super("google.com"),this.addScope("profile")}static credential(_,I){return No._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:I})}static credentialFromResult(_){return w.credentialFromTaggedObject(_)}static credentialFromError(_){return w.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:I,oauthAccessToken:M}=_;if(!I&&!M)return null;try{return w.credential(I,M)}catch{return null}}}return w.GOOGLE_SIGN_IN_METHOD="google.com",w.PROVIDER_ID="google.com",w})(),Xl=(()=>{class w extends wa{constructor(){super("github.com")}static credential(_){return No._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return w.credentialFromTaggedObject(_)}static credentialFromError(_){return w.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return w.credential(_.oauthAccessToken)}catch{return null}}}return w.GITHUB_SIGN_IN_METHOD="github.com",w.PROVIDER_ID="github.com",w})();class vs extends se{constructor(p,_){super(p,p),this.pendingToken=_}_getIdTokenResponse(p){return _s(p,this.buildRequest())}_linkToIdToken(p,_){const I=this.buildRequest();return I.idToken=_,_s(p,I)}_getReauthenticationResolver(p){const _=this.buildRequest();return _.autoCreate=!1,_s(p,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p,{providerId:I,signInMethod:M,pendingToken:U}=_;return I&&M&&U&&I===M?new vs(I,U):null}static _create(p,_){return new vs(p,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Jl extends Gs{constructor(p){X(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Jl.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Jl.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const _=vs.fromJSON(p);return X(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:_,providerId:I}=p;if(!_||!I)return null;try{return vs._create(I,_)}catch{return null}}}let xd=(()=>{class w extends wa{constructor(){super("twitter.com")}static credential(_,I){return No._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:I})}static credentialFromResult(_){return w.credentialFromTaggedObject(_)}static credentialFromError(_){return w.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:I,oauthTokenSecret:M}=_;if(!I||!M)return null;try{return w.credential(I,M)}catch{return null}}}return w.TWITTER_SIGN_IN_METHOD="twitter.com",w.PROVIDER_ID="twitter.com",w})();function Ca(w,p){return zs.apply(this,arguments)}function zs(){return(zs=(0,a.Z)(function*(w,p){return Ce(w,"POST","/v1/accounts:signUp",qe(w,p))})).apply(this,arguments)}class Ir{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,_,I,M=!1){return(0,a.Z)(function*(){const U=yield rr._fromIdTokenResponse(p,I,M),Ie=cl(I);return new Ir({user:U,providerId:Ie,_tokenResponse:I,operationType:_})})()}static _forOperation(p,_,I){return(0,a.Z)(function*(){yield p._updateTokensIfNecessary(I,!0);const M=cl(I);return new Ir({user:p,providerId:M,_tokenResponse:I,operationType:_})})()}}function cl(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}function ec(w){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,a.Z)(function*(w){var p;const _=$n(w);if(yield _._initializationPromise,null!==(p=_.currentUser)&&void 0!==p&&p.isAnonymous)return new Ir({user:_.currentUser,providerId:null,operationType:"signIn"});const I=yield Ca(_,{returnSecureToken:!0}),M=yield Ir._fromIdTokenResponse(_,"signIn",I,!0);return yield _._updateCurrentUser(M.user),M})).apply(this,arguments)}class qs extends W.ZR{constructor(p,_,I,M){var U;super(_.code,_.message),this.operationType=I,this.user=M,Object.setPrototypeOf(this,qs.prototype),this.customData={appName:p.name,tenantId:null!==(U=p.tenantId)&&void 0!==U?U:void 0,_serverResponse:_.customData._serverResponse,operationType:I}}static _fromErrorAndOperation(p,_,I,M){return new qs(p,_,I,M)}}function Ws(w,p,_,I){return("reauthenticate"===p?_._getReauthenticationResolver(w):_._getIdTokenResponse(w)).catch(U=>{throw"auth/multi-factor-auth-required"===U.code?qs._fromErrorAndOperation(w,U,p,I):U})}function mi(w){return new Set(w.map(({providerId:p})=>p).filter(p=>!!p))}function jf(w,p){return tc.apply(this,arguments)}function tc(){return tc=(0,a.Z)(function*(w,p){const _=(0,W.m9)(w);yield ul(!0,_,p);const{providerUserInfo:I}=yield function un(w,p){return Nn.apply(this,arguments)}(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[p]}),M=mi(I||[]);return _.providerData=_.providerData.filter(U=>M.has(U.providerId)),M.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_}),tc.apply(this,arguments)}function Oi(w,p){return oi.apply(this,arguments)}function oi(){return(oi=(0,a.Z)(function*(w,p,_=!1){const I=yield dn(w,p._linkToIdToken(w.auth,yield w.getIdToken()),_);return Ir._forOperation(w,"link",I)})).apply(this,arguments)}function ul(w,p,_){return ws.apply(this,arguments)}function ws(){return(ws=(0,a.Z)(function*(w,p,_){yield kn(p);const M=!1===w?"provider-already-linked":"no-such-provider";X(mi(p.providerData).has(_)===w,p.auth,M)})).apply(this,arguments)}function Md(w,p){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,a.Z)(function*(w,p,_=!1){const{auth:I}=w,M="reauthenticate";try{const U=yield dn(w,Ws(I,M,p,w),_);X(U.idToken,I,"internal-error");const Ie=Or(U.idToken);X(Ie,I,"internal-error");const{sub:Ke}=Ie;return X(w.uid===Ke,I,"user-mismatch"),Ir._forOperation(w,M,U)}catch(U){throw"auth/user-not-found"===(null==U?void 0:U.code)&&De(I,"user-mismatch"),U}})).apply(this,arguments)}function dl(w,p){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,a.Z)(function*(w,p,_=!1){const I="signIn",M=yield Ws(w,I,p),U=yield Ir._fromIdTokenResponse(w,I,M);return _||(yield w._updateCurrentUser(U.user)),U})).apply(this,arguments)}function mn(w,p){return nc.apply(this,arguments)}function nc(){return(nc=(0,a.Z)(function*(w,p){return dl($n(w),p)})).apply(this,arguments)}function Hf(w,p){return ru.apply(this,arguments)}function ru(){return(ru=(0,a.Z)(function*(w,p){const _=(0,W.m9)(w);return yield ul(!1,_,p.providerId),Oi(_,p)})).apply(this,arguments)}function iu(w,p){return ou.apply(this,arguments)}function ou(){return(ou=(0,a.Z)(function*(w,p){return Md((0,W.m9)(w),p)})).apply(this,arguments)}function Rd(){return(Rd=(0,a.Z)(function*(w,p){return Ce(w,"POST","/v1/accounts:signInWithCustomToken",qe(w,p))})).apply(this,arguments)}function rm(w,p){return nt.apply(this,arguments)}function nt(){return nt=(0,a.Z)(function*(w,p){const _=$n(w),I=yield function Pd(w,p){return Rd.apply(this,arguments)}(_,{token:p,returnSecureToken:!0}),M=yield Ir._fromIdTokenResponse(_,"signIn",I);return yield _._updateCurrentUser(M.user),M}),nt.apply(this,arguments)}class bn{constructor(p,_){this.factorId=p,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(p,_){return"phoneInfo"in _?su._fromServerResponse(p,_):"totpInfo"in _?hl._fromServerResponse(p,_):De(p,"internal-error")}}class su extends bn{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,_){return new su(_)}}class hl extends bn{constructor(p){super("totp",p)}static _fromServerResponse(p,_){return new hl(_)}}function Lr(w,p,_){var I;X((null===(I=_.url)||void 0===I?void 0:I.length)>0,w,"invalid-continue-uri"),X(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,w,"invalid-dynamic-link-domain"),p.continueUrl=_.url,p.dynamicLinkDomain=_.dynamicLinkDomain,p.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(X(_.iOS.bundleId.length>0,w,"missing-ios-bundle-id"),p.iOSBundleId=_.iOS.bundleId),_.android&&(X(_.android.packageName.length>0,w,"missing-android-pkg-name"),p.androidInstallApp=_.android.installApp,p.androidMinimumVersionCode=_.android.minimumVersion,p.androidPackageName=_.android.packageName)}function Od(w,p,_){return Ia.apply(this,arguments)}function Ia(){return Ia=(0,a.Z)(function*(w,p,_){var I;const M=$n(w),U={requestType:"PASSWORD_RESET",email:p,clientType:"CLIENT_TYPE_WEB"};if(null!==(I=M._getRecaptchaConfig())&&void 0!==I&&I.emailPasswordEnabled){const Ie=yield Ar(M,U,"getOobCode",!0);_&&Lr(M,Ie,_),yield gi(M,Ie)}else _&&Lr(M,U,_),yield gi(M,U).catch(function(){var Ie=(0,a.Z)(function*(Ke){if("auth/missing-recaptcha-token"!==Ke.code)return Promise.reject(Ke);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const mt=yield Ar(M,U,"getOobCode",!0);_&&Lr(M,mt,_),yield gi(M,mt)}});return function(Ke){return Ie.apply(this,arguments)}}())}),Ia.apply(this,arguments)}function so(w,p,_){return rc.apply(this,arguments)}function rc(){return(rc=(0,a.Z)(function*(w,p,_){yield ce((0,W.m9)(w),{oobCode:p,newPassword:_})})).apply(this,arguments)}function kd(w,p){return Nd.apply(this,arguments)}function Nd(){return Nd=(0,a.Z)(function*(w,p){yield function st(w,p){return bt.apply(this,arguments)}((0,W.m9)(w),{oobCode:p})}),Nd.apply(this,arguments)}function Cs(w,p){return ba.apply(this,arguments)}function ba(){return(ba=(0,a.Z)(function*(w,p){const _=(0,W.m9)(w),I=yield ce(_,{oobCode:p}),M=I.requestType;switch(X(M,_,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":X(I.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":X(I.mfaInfo,_,"internal-error");default:X(I.email,_,"internal-error")}let U=null;return I.mfaInfo&&(U=bn._fromServerResponse($n(_),I.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.newEmail:I.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.email:I.newEmail)||null,multiFactorInfo:U},operation:M}})).apply(this,arguments)}function _i(w,p){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,a.Z)(function*(w,p){const{data:_}=yield Cs((0,W.m9)(w),p);return _.email})).apply(this,arguments)}function Es(w,p,_){return Jo.apply(this,arguments)}function Jo(){return Jo=(0,a.Z)(function*(w,p,_){var I;const M=$n(w),U={returnSecureToken:!0,email:p,password:_,clientType:"CLIENT_TYPE_WEB"};let Ie;if(null!==(I=M._getRecaptchaConfig())&&void 0!==I&&I.emailPasswordEnabled){const Dt=yield Ar(M,U,"signUpPassword");Ie=Ca(M,Dt)}else Ie=Ca(M,U).catch(function(){var Dt=(0,a.Z)(function*(Qt){if("auth/missing-recaptcha-token"===Qt.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const xn=yield Ar(M,U,"signUpPassword");return Ca(M,xn)}return Promise.reject(Qt)});return function(Qt){return Dt.apply(this,arguments)}}());const Ke=yield Ie.catch(Dt=>Promise.reject(Dt)),mt=yield Ir._fromIdTokenResponse(M,"signIn",Ke);return yield M._updateCurrentUser(mt.user),mt}),Jo.apply(this,arguments)}function Fo(w,p,_){return mn((0,W.m9)(w),Td.credential(p,_))}function Fd(w,p,_){return Zs.apply(this,arguments)}function Zs(){return Zs=(0,a.Z)(function*(w,p,_){var I;const M=$n(w),U={requestType:"EMAIL_SIGNIN",email:p,clientType:"CLIENT_TYPE_WEB"};function Ie(Ke,mt){X(mt.handleCodeInApp,M,"argument-error"),mt&&Lr(M,Ke,mt)}if(null!==(I=M._getRecaptchaConfig())&&void 0!==I&&I.emailPasswordEnabled){const Ke=yield Ar(M,U,"getOobCode",!0);Ie(Ke,_),yield Ko(M,Ke)}else Ie(U,_),yield Ko(M,U).catch(function(){var Ke=(0,a.Z)(function*(mt){if("auth/missing-recaptcha-token"!==mt.code)return Promise.reject(mt);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Dt=yield Ar(M,U,"getOobCode",!0);Ie(Dt,_),yield Ko(M,Dt)}});return function(mt){return Ke.apply(this,arguments)}}())}),Zs.apply(this,arguments)}function Ld(w,p){const _=va.parseLink(p);return"EMAIL_SIGNIN"===(null==_?void 0:_.operation)}function im(w,p,_){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,a.Z)(function*(w,p,_){const I=(0,W.m9)(w),M=Td.credentialWithLink(p,_||Te());return X(M._tenantId===(I.tenantId||null),I,"tenant-id-mismatch"),mn(I,M)})).apply(this,arguments)}function fl(){return(fl=(0,a.Z)(function*(w,p){return pt(w,"POST","/v1/accounts:createAuthUri",qe(w,p))})).apply(this,arguments)}function Ud(w,p){return oc.apply(this,arguments)}function oc(){return oc=(0,a.Z)(function*(w,p){const I={identifier:p,continueUri:Ge()?Te():"http://localhost"},{signinMethods:M}=yield function ic(w,p){return fl.apply(this,arguments)}((0,W.m9)(w),I);return M||[]}),oc.apply(this,arguments)}function Bd(w,p){return Da.apply(this,arguments)}function Da(){return Da=(0,a.Z)(function*(w,p){const _=(0,W.m9)(w),M={requestType:"VERIFY_EMAIL",idToken:yield w.getIdToken()};p&&Lr(_.auth,M,p);const{email:U}=yield function Ii(w,p){return oo.apply(this,arguments)}(_.auth,M);U!==w.email&&(yield w.reload())}),Da.apply(this,arguments)}function au(w,p,_){return pl.apply(this,arguments)}function pl(){return pl=(0,a.Z)(function*(w,p,_){const I=(0,W.m9)(w),U={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield w.getIdToken(),newEmail:p};_&&Lr(I.auth,U,_);const{email:Ie}=yield function wd(w,p){return Ri.apply(this,arguments)}(I.auth,U);Ie!==w.email&&(yield w.reload())}),pl.apply(this,arguments)}function sc(){return(sc=(0,a.Z)(function*(w,p){return pt(w,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function $d(w,p){return cu.apply(this,arguments)}function cu(){return cu=(0,a.Z)(function*(w,{displayName:p,photoURL:_}){if(void 0===p&&void 0===_)return;const I=(0,W.m9)(w),U={idToken:yield I.getIdToken(),displayName:p,photoUrl:_,returnSecureToken:!0},Ie=yield dn(I,function lu(w,p){return sc.apply(this,arguments)}(I.auth,U));I.displayName=Ie.displayName||null,I.photoURL=Ie.photoUrl||null;const Ke=I.providerData.find(({providerId:mt})=>"password"===mt);Ke&&(Ke.displayName=I.displayName,Ke.photoURL=I.photoURL),yield I._updateTokensIfNecessary(Ie)}),cu.apply(this,arguments)}function Vd(w,p){return Lo((0,W.m9)(w),p,null)}function bi(w,p){return Lo((0,W.m9)(w),null,p)}function Lo(w,p,_){return vr.apply(this,arguments)}function vr(){return(vr=(0,a.Z)(function*(w,p,_){const{auth:I}=w,U={idToken:yield w.getIdToken(),returnSecureToken:!0};p&&(U.email=p),_&&(U.password=_);const Ie=yield dn(w,Qe(I,U));yield w._updateTokensIfNecessary(Ie,!0)})).apply(this,arguments)}class Ta{constructor(p,_,I={}){this.isNewUser=p,this.providerId=_,this.profile=I}}class uu extends Ta{constructor(p,_,I,M){super(p,_,I),this.username=M}}class om extends Ta{constructor(p,_){super(p,"facebook.com",_)}}class Hd extends uu{constructor(p,_){super(p,"github.com",_,"string"==typeof(null==_?void 0:_.login)?null==_?void 0:_.login:null)}}class sm extends Ta{constructor(p,_){super(p,"google.com",_)}}class ac extends uu{constructor(p,_,I){super(p,"twitter.com",_,I)}}function du(w){const{user:p,_tokenResponse:_}=w;return p.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function jd(w){var p,_;if(!w)return null;const{providerId:I}=w,M=w.rawUserInfo?JSON.parse(w.rawUserInfo):{},U=w.isNewUser||"identitytoolkit#SignupNewUserResponse"===w.kind;if(!I&&null!=w&&w.idToken){const Ie=null===(_=null===(p=Or(w.idToken))||void 0===p?void 0:p.firebase)||void 0===_?void 0:_.sign_in_provider;if(Ie)return new Ta(U,"anonymous"!==Ie&&"custom"!==Ie?Ie:null)}if(!I)return null;switch(I){case"facebook.com":return new om(U,M);case"github.com":return new Hd(U,M);case"google.com":return new sm(U,M);case"twitter.com":return new ac(U,M,w.screenName||null);case"custom":case"anonymous":return new Ta(U,null);default:return new Ta(U,I,M)}}(_)}class ts{constructor(p,_,I){this.type=p,this.credential=_,this.auth=I}static _fromIdtoken(p,_){return new ts("enroll",p,_)}static _fromMfaPendingCredential(p){return new ts("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var _,I;if(null!=p&&p.multiFactorSession){if(null!==(_=p.multiFactorSession)&&void 0!==_&&_.pendingCredential)return ts._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(I=p.multiFactorSession)&&void 0!==I&&I.idToken)return ts._fromIdtoken(p.multiFactorSession.idToken)}return null}}class hu{constructor(p,_,I){this.session=p,this.hints=_,this.signInResolver=I}static _fromError(p,_){const I=$n(p),M=_.customData._serverResponse,U=(M.mfaInfo||[]).map(Ke=>bn._fromServerResponse(I,Ke));X(M.mfaPendingCredential,I,"internal-error");const Ie=ts._fromMfaPendingCredential(M.mfaPendingCredential);return new hu(Ie,U,function(){var Ke=(0,a.Z)(function*(mt){const Dt=yield mt._process(I,Ie);delete M.mfaInfo,delete M.mfaPendingCredential;const Qt=Object.assign(Object.assign({},M),{idToken:Dt.idToken,refreshToken:Dt.refreshToken});switch(_.operationType){case"signIn":const xn=yield Ir._fromIdTokenResponse(I,_.operationType,Qt);return yield I._updateCurrentUser(xn.user),xn;case"reauthenticate":return X(_.user,I,"internal-error"),Ir._forOperation(_.user,_.operationType,Qt);default:De(I,"internal-error")}});return function(mt){return Ke.apply(this,arguments)}}())}resolveSignIn(p){var _=this;return(0,a.Z)(function*(){return _.signInResolver(p)})()}}function ml(w,p){var _;const I=(0,W.m9)(w),M=p;return X(p.customData.operationType,I,"argument-error"),X(null===(_=M.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,I,"argument-error"),hu._fromError(I,M)}class xa{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(I=>bn._fromServerResponse(p.auth,I)))})}static _fromUser(p){return new xa(p)}getSession(){var p=this;return(0,a.Z)(function*(){return ts._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,_){var I=this;return(0,a.Z)(function*(){const M=p,U=yield I.getSession(),Ie=yield dn(I.user,M._process(I.user.auth,U,_));return yield I.user._updateTokensIfNecessary(Ie),I.user.reload()})()}unenroll(p){var _=this;return(0,a.Z)(function*(){const I="string"==typeof p?p:p.uid,M=yield _.user.getIdToken();try{const U=yield dn(_.user,function Ys(w,p){return pt(w,"POST","/v2/accounts/mfaEnrollment:withdraw",qe(w,p))}(_.user.auth,{idToken:M,mfaEnrollmentId:I}));_.enrolledFactors=_.enrolledFactors.filter(({uid:Ie})=>Ie!==I),yield _.user._updateTokensIfNecessary(U),yield _.user.reload()}catch(U){throw U}})()}}const Ks=new WeakMap;function Ma(w){const p=(0,W.m9)(w);return Ks.has(p)||Ks.set(p,xa._fromUser(p)),Ks.get(p)}const _l="__sak";class yl{constructor(p,_){this.storageRetriever=p,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(_l,"1"),this.storage.removeItem(_l),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,_){return this.storage.setItem(p,JSON.stringify(_)),Promise.resolve()}_get(p){const _=this.storage.getItem(p);return Promise.resolve(_?JSON.parse(_):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const dc=(()=>{class w extends yl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,I)=>this.onStorageEvent(_,I),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function fu(){const w=(0,W.z$)();return B(w)||Zt(w)}()&&function _r(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=vn(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const I of Object.keys(this.listeners)){const M=this.storage.getItem(I),U=this.localCache[I];M!==U&&_(I,U,M)}}onStorageEvent(_,I=!1){if(!_.key)return void this.forAllChangedKeys((Ke,mt,Dt)=>{this.notifyListeners(Ke,Dt)});const M=_.key;if(I?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ke=this.storage.getItem(M);if(_.newValue!==Ke)null!==_.newValue?this.storage.setItem(M,_.newValue):this.storage.removeItem(M);else if(this.localCache[M]===_.newValue&&!I)return}const U=()=>{const Ke=this.storage.getItem(M);!I&&this.localCache[M]===Ke||this.notifyListeners(M,Ke)},Ie=this.storage.getItem(M);!function Kn(){return(0,W.w1)()&&10===document.documentMode}()||Ie===_.newValue||_.newValue===_.oldValue?U():setTimeout(U,10)}notifyListeners(_,I){this.localCache[_]=I;const M=this.listeners[_];if(M)for(const U of Array.from(M))U(I&&JSON.parse(I))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,I,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:I,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,I){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(I)}_removeListener(_,I){this.listeners[_]&&(this.listeners[_].delete(I),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,I){var M=()=>super._set,U=this;return(0,a.Z)(function*(){yield M().call(U,_,I),U.localCache[_]=JSON.stringify(I)})()}_get(_){var I=()=>super._get,M=this;return(0,a.Z)(function*(){const U=yield I().call(M,_);return M.localCache[_]=JSON.stringify(U),U})()}_remove(_){var I=()=>super._remove,M=this;return(0,a.Z)(function*(){yield I().call(M,_),delete M.localCache[_]})()}}return w.type="LOCAL",w})(),Gi=(()=>{class w extends yl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,I){}_removeListener(_,I){}}return w.type="SESSION",w})();let mu=(()=>{class w{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const I=this.receivers.find(U=>U.isListeningto(_));if(I)return I;const M=new w(_);return this.receivers.push(M),M}isListeningto(_){return this.eventTarget===_}handleEvent(_){var I=this;return(0,a.Z)(function*(){const M=_,{eventId:U,eventType:Ie,data:Ke}=M.data,mt=I.handlersMap[Ie];if(null==mt||!mt.size)return;M.ports[0].postMessage({status:"ack",eventId:U,eventType:Ie});const Dt=Array.from(mt).map(function(){var xn=(0,a.Z)(function*(qi){return qi(M.origin,Ke)});return function(qi){return xn.apply(this,arguments)}}()),Qt=yield function Zd(w){return Promise.all(w.map(function(){var p=(0,a.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(I){return{fulfilled:!1,reason:I}}});return function(_){return p.apply(this,arguments)}}()))}(Dt);M.ports[0].postMessage({status:"done",eventId:U,eventType:Ie,response:Qt})})()}_subscribe(_,I){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(I)}_unsubscribe(_,I){this.handlersMap[_]&&I&&this.handlersMap[_].delete(I),(!I||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return w.receivers=[],w})();function Uo(w="",p=10){let _="";for(let I=0;I<p;I++)_+=Math.floor(10*Math.random());return w+_}class Yd{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,_,I=50){var M=this;return(0,a.Z)(function*(){const U=typeof MessageChannel<"u"?new MessageChannel:null;if(!U)throw new Error("connection_unavailable");let Ie,Ke;return new Promise((mt,Dt)=>{const Qt=Uo("",20);U.port1.start();const xn=setTimeout(()=>{Dt(new Error("unsupported_event"))},I);Ke={messageChannel:U,onMessage(qi){const sa=qi;if(sa.data.eventId===Qt)switch(sa.data.status){case"ack":clearTimeout(xn),Ie=setTimeout(()=>{Dt(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ie),mt(sa.data.response);break;default:clearTimeout(xn),clearTimeout(Ie),Dt(new Error("invalid_response"))}}},M.handlers.add(Ke),U.port1.addEventListener("message",Ke.onMessage),M.target.postMessage({eventType:p,eventId:Qt,data:_},[U.port2])}).finally(()=>{Ke&&M.removeMessageHandler(Ke)})})()}}function Br(){return window}function hc(){return typeof Br().WorkerGlobalScope<"u"&&"function"==typeof Br().importScripts}function wl(){return(wl=(0,a.Z)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Yr="firebaseLocalStorageDb",Pa=1,br="firebaseLocalStorage",qf="fbase_key";class Ds{constructor(p){this.request=p}toPromise(){return new Promise((p,_)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function pc(w,p){return w.transaction([br],p?"readwrite":"readonly").objectStore(br)}function _u(){const w=indexedDB.open(Yr,Pa);return new Promise((p,_)=>{w.addEventListener("error",()=>{_(w.error)}),w.addEventListener("upgradeneeded",()=>{const I=w.result;try{I.createObjectStore(br,{keyPath:qf})}catch(M){_(M)}}),w.addEventListener("success",(0,a.Z)(function*(){const I=w.result;I.objectStoreNames.contains(br)?p(I):(I.close(),yield function Ra(){const w=indexedDB.deleteDatabase(Yr);return new Ds(w).toPromise()}(),p(yield _u()))}))})}function yu(w,p,_){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,a.Z)(function*(w,p,_){const I=pc(w,!0).put({[qf]:p,value:_});return new Ds(I).toPromise()})).apply(this,arguments)}function Qs(){return(Qs=(0,a.Z)(function*(w,p){const _=pc(w,!1).get(p),I=yield new Ds(_).toPromise();return void 0===I?null:I.value})).apply(this,arguments)}function Cl(w,p){const _=pc(w,!0).delete(p);return new Ds(_).toPromise()}const vu=(()=>{class w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,a.Z)(function*(){return _.db||(_.db=yield _u()),_.db})()}_withRetries(_){var I=this;return(0,a.Z)(function*(){let M=0;for(;;)try{const U=yield I._openDb();return yield _(U)}catch(U){if(M++>3)throw U;I.db&&(I.db.close(),I.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,a.Z)(function*(){return hc()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,a.Z)(function*(){_.receiver=mu._getInstance(function fc(){return hc()?self:null}()),_.receiver._subscribe("keyChanged",function(){var I=(0,a.Z)(function*(M,U){return{keyProcessed:(yield _._poll()).includes(U.key)}});return function(M,U){return I.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var I=(0,a.Z)(function*(M,U){return["keyChanged"]});return function(M,U){return I.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,a.Z)(function*(){var I,M;if(_.activeServiceWorker=yield function Kd(){return wl.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new Yd(_.activeServiceWorker);const U=yield _.sender._send("ping",{},800);U&&null!==(I=U[0])&&void 0!==I&&I.fulfilled&&null!==(M=U[0])&&void 0!==M&&M.value.includes("keyChanged")&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var I=this;return(0,a.Z)(function*(){if(I.sender&&I.activeServiceWorker&&function Qd(){var w;return(null===(w=null==navigator?void 0:navigator.serviceWorker)||void 0===w?void 0:w.controller)||null}()===I.activeServiceWorker)try{yield I.sender._send("keyChanged",{key:_},I.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,a.Z)(function*(){try{if(!indexedDB)return!1;const _=yield _u();return yield yu(_,_l,"1"),yield Cl(_,_l),!0}catch{}return!1})()}_withPendingWrite(_){var I=this;return(0,a.Z)(function*(){I.pendingWrites++;try{yield _()}finally{I.pendingWrites--}})()}_set(_,I){var M=this;return(0,a.Z)(function*(){return M._withPendingWrite((0,a.Z)(function*(){return yield M._withRetries(U=>yu(U,_,I)),M.localCache[_]=I,M.notifyServiceWorker(_)}))})()}_get(_){var I=this;return(0,a.Z)(function*(){const M=yield I._withRetries(U=>function Wf(w,p){return Qs.apply(this,arguments)}(U,_));return I.localCache[_]=M,M})()}_remove(_){var I=this;return(0,a.Z)(function*(){return I._withPendingWrite((0,a.Z)(function*(){return yield I._withRetries(M=>Cl(M,_)),delete I.localCache[_],I.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,a.Z)(function*(){const I=yield _._withRetries(Ie=>{const Ke=pc(Ie,!1).getAll();return new Ds(Ke).toPromise()});if(!I)return[];if(0!==_.pendingWrites)return[];const M=[],U=new Set;for(const{fbase_key:Ie,value:Ke}of I)U.add(Ie),JSON.stringify(_.localCache[Ie])!==JSON.stringify(Ke)&&(_.notifyListeners(Ie,Ke),M.push(Ie));for(const Ie of Object.keys(_.localCache))_.localCache[Ie]&&!U.has(Ie)&&(_.notifyListeners(Ie,null),M.push(Ie));return M})()}notifyListeners(_,I){this.localCache[_]=I;const M=this.listeners[_];if(M)for(const U of Array.from(M))U(I)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,a.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,I){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(I)}_removeListener(_,I){this.listeners[_]&&(this.listeners[_].delete(I),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return w.type="LOCAL",w})(),wu=1e12;class eh{constructor(p){this.auth=p,this.counter=wu,this._widgets=new Map}render(p,_){const I=this.counter;return this._widgets.set(I,new Cu(p,this.auth.name,_||{})),this.counter++,I}reset(p){var _;const I=p||wu;null===(_=this._widgets.get(I))||void 0===_||_.delete(),this._widgets.delete(I)}getResponse(p){var _;return(null===(_=this._widgets.get(p||wu))||void 0===_?void 0:_.getResponse())||""}execute(p){var _=this;return(0,a.Z)(function*(){var I;return null===(I=_._widgets.get(p||wu))||void 0===I||I.execute(),""})()}}class Cu{constructor(p,_,I){this.params=I,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof p?document.getElementById(p):p;X(M,"argument-error",{appName:_}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Eu(w){const p=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let I=0;I<w;I++)p.push(_.charAt(Math.floor(Math.random()*_.length)));return p.join("")}(50);const{callback:p,"expired-callback":_}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Yf=hn("rcb"),Zy=new Be(3e4,6e4);class ea{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=Br().grecaptcha)||void 0===p||!p.render)}load(p,_=""){return X(function Ky(w){return w.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(w)}(_),p,"argument-error"),this.shouldResolveImmediately(_)&&Jt(Br().grecaptcha)?Promise.resolve(Br().grecaptcha):new Promise((I,M)=>{const U=Br().setTimeout(()=>{M(be(p,"network-request-failed"))},Zy.get());Br()[Yf]=()=>{Br().clearTimeout(U),delete Br()[Yf];const Ke=Br().grecaptcha;if(!Ke||!Jt(Ke))return void M(be(p,"internal-error"));const mt=Ke.render;Ke.render=(Dt,Qt)=>{const xn=mt(Dt,Qt);return this.counter++,xn},this.hostLanguage=_,I(Ke)},wn(`https://www.google.com/recaptcha/api.js??${(0,W.xO)({onload:Yf,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(U),M(be(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var _;return!(null===(_=Br().grecaptcha)||void 0===_||!_.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Kf{load(p){return(0,a.Z)(function*(){return new eh(p)})()}clearedOneInstance(){}}const Kr="recaptcha",mc={theme:"light",type:"image"};class _c{constructor(p,_=Object.assign({},mc),I){this.parameters=_,this.type=Kr,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=$n(I),this.isInvisible="invisible"===this.parameters.size,X(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof p?document.getElementById(p):p;X(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Kf:new ea,this.validateStartingState()}verify(){var p=this;return(0,a.Z)(function*(){p.assertNotDestroyed();const _=yield p.render(),I=p.getAssertedRecaptcha();return I.getResponse(_)||new Promise(U=>{const Ie=Ke=>{Ke&&(p.tokenChangeListeners.delete(Ie),U(Ke))};p.tokenChangeListeners.add(Ie),p.isInvisible&&I.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){X(!this.parameters.sitekey,this.auth,"argument-error"),X(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),X(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return _=>{if(this.tokenChangeListeners.forEach(I=>I(_)),"function"==typeof p)p(_);else if("string"==typeof p){const I=Br()[p];"function"==typeof I&&I(_)}}}assertNotDestroyed(){X(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,a.Z)(function*(){if(yield p.init(),!p.widgetId){let _=p.container;if(!p.isInvisible){const I=document.createElement("div");_.appendChild(I),_=I}p.widgetId=p.getAssertedRecaptcha().render(_,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,a.Z)(function*(){X(Ge()&&!hc(),p.auth,"internal-error"),yield function Iu(){let w=null;return new Promise(p=>{"complete"!==document.readyState?(w=()=>p(),window.addEventListener("load",w)):p()}).catch(p=>{throw w&&window.removeEventListener("load",w),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const _=yield function et(w){return ke.apply(this,arguments)}(p.auth);X(_,p.auth,"internal-error"),p.parameters.sitekey=_})()}getAssertedRecaptcha(){return X(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Qi{constructor(p,_){this.verificationId=p,this.onConfirmation=_}confirm(p){const _=ys._fromVerification(this.verificationId,p);return this.onConfirmation(_)}}function Ss(w,p,_){return bu.apply(this,arguments)}function bu(){return(bu=(0,a.Z)(function*(w,p,_){const I=$n(w),M=yield yc(I,p,(0,W.m9)(_));return new Qi(M,U=>mn(I,U))})).apply(this,arguments)}function El(w,p,_){return ka.apply(this,arguments)}function ka(){return(ka=(0,a.Z)(function*(w,p,_){const I=(0,W.m9)(w);yield ul(!1,I,"phone");const M=yield yc(I.auth,p,(0,W.m9)(_));return new Qi(M,U=>Hf(I,U))})).apply(this,arguments)}function th(w,p,_){return Du.apply(this,arguments)}function Du(){return(Du=(0,a.Z)(function*(w,p,_){const I=(0,W.m9)(w),M=yield yc(I.auth,p,(0,W.m9)(_));return new Qi(M,U=>iu(I,U))})).apply(this,arguments)}function yc(w,p,_){return Tu.apply(this,arguments)}function Tu(){return Tu=(0,a.Z)(function*(w,p,_){var I;const M=yield _.verify();try{let U;if(X("string"==typeof M,w,"argument-error"),X(_.type===Kr,w,"argument-error"),U="string"==typeof p?{phoneNumber:p}:p,"session"in U){const Ie=U.session;if("phoneNumber"in U)return X("enroll"===Ie.type,w,"internal-error"),(yield function uc(w,p){return pt(w,"POST","/v2/accounts/mfaEnrollment:start",qe(w,p))}(w,{idToken:Ie.credential,phoneEnrollmentInfo:{phoneNumber:U.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{X("signin"===Ie.type,w,"internal-error");const Ke=(null===(I=U.multiFactorHint)||void 0===I?void 0:I.uid)||U.multiFactorUid;return X(Ke,w,"missing-multi-factor-info"),(yield function Xd(w,p){return pt(w,"POST","/v2/accounts/mfaSignIn:start",qe(w,p))}(w,{mfaPendingCredential:Ie.credential,mfaEnrollmentId:Ke,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ie}=yield function tm(w,p){return Cd.apply(this,arguments)}(w,{phoneNumber:U.phoneNumber,recaptchaToken:M});return Ie}}finally{_._reset()}}),Tu.apply(this,arguments)}function ao(w,p){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,a.Z)(function*(w,p){yield Oi((0,W.m9)(w),p)})).apply(this,arguments)}let lo=(()=>{class w{constructor(_){this.providerId=w.PROVIDER_ID,this.auth=$n(_)}verifyPhoneNumber(_,I){return yc(this.auth,_,(0,W.m9)(I))}static credential(_,I){return ys._fromVerification(_,I)}static credentialFromResult(_){return w.credentialFromTaggedObject(_)}static credentialFromError(_){return w.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:I,temporaryProof:M}=_;return I&&M?ys._fromTokenResponse(I,M):null}}return w.PROVIDER_ID="phone",w.PHONE_SIGN_IN_METHOD="phone",w})();function Nt(w,p){return p?lr(p):(X(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}class yi extends se{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return _s(p,this._buildIdpRequest())}_linkToIdToken(p,_){return _s(p,this._buildIdpRequest(_))}_getReauthenticationResolver(p){return _s(p,this._buildIdpRequest())}_buildIdpRequest(p){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(_.idToken=p),_}}function Mr(w){return dl(w.auth,new yi(w),w.bypassAuthState)}function nh(w){const{auth:p,user:_}=w;return X(_,p,"internal-error"),Md(_,new yi(w),w.bypassAuthState)}function Il(w){return si.apply(this,arguments)}function si(){return(si=(0,a.Z)(function*(w){const{auth:p,user:_}=w;return X(_,p,"internal-error"),Oi(_,new yi(w),w.bypassAuthState)})).apply(this,arguments)}class Su{constructor(p,_,I,M,U=!1){this.auth=p,this.resolver=I,this.user=M,this.bypassAuthState=U,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var p=this;return new Promise(function(){var _=(0,a.Z)(function*(I,M){p.pendingPromise={resolve:I,reject:M};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(U){p.reject(U)}});return function(I,M){return _.apply(this,arguments)}}())}onAuthEvent(p){var _=this;return(0,a.Z)(function*(){const{urlResponse:I,sessionId:M,postBody:U,tenantId:Ie,error:Ke,type:mt}=p;if(Ke)return void _.reject(Ke);const Dt={auth:_.auth,requestUri:I,sessionId:M,tenantId:Ie||void 0,postBody:U||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(mt)(Dt))}catch(Qt){_.reject(Qt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Mr;case"linkViaPopup":case"linkViaRedirect":return Il;case"reauthViaPopup":case"reauthViaRedirect":return nh;default:De(this.auth,"internal-error")}}resolve(p){he(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){he(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const rh=new Be(2e3,1e4);function co(w,p,_){return As.apply(this,arguments)}function As(){return(As=(0,a.Z)(function*(w,p,_){const I=$n(w);Fe(w,p,Gs);const M=Nt(I,_);return new xu(I,"signInViaPopup",p,M).executeNotNull()})).apply(this,arguments)}function Au(w,p,_){return ta.apply(this,arguments)}function ta(){return(ta=(0,a.Z)(function*(w,p,_){const I=(0,W.m9)(w);Fe(I.auth,p,Gs);const M=Nt(I.auth,_);return new xu(I.auth,"reauthViaPopup",p,M,I).executeNotNull()})).apply(this,arguments)}function na(w,p,_){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,a.Z)(function*(w,p,_){const I=(0,W.m9)(w);Fe(I.auth,p,Gs);const M=Nt(I.auth,_);return new xu(I.auth,"linkViaPopup",p,M,I).executeNotNull()})).apply(this,arguments)}let xu=(()=>{class w extends Su{constructor(_,I,M,U,Ie){super(_,I,U,Ie),this.provider=M,this.authWindow=null,this.pollId=null,w.currentPopupAction&&w.currentPopupAction.cancel(),w.currentPopupAction=this}executeNotNull(){var _=this;return(0,a.Z)(function*(){const I=yield _.execute();return X(I,_.auth,"internal-error"),I})()}onExecution(){var _=this;return(0,a.Z)(function*(){he(1===_.filter.length,"Popup operations only handle one event");const I=Uo();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],I),_.authWindow.associatedEvent=I,_.resolver._originValidation(_.auth).catch(M=>{_.reject(M)}),_.resolver._isIframeWebStorageSupported(_.auth,M=>{M||_.reject(be(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(be(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,w.currentPopupAction=null}pollUserCancellation(){const _=()=>{var I,M;this.pollId=null!==(M=null===(I=this.authWindow)||void 0===I?void 0:I.window)&&void 0!==M&&M.closed?window.setTimeout(()=>{this.pollId=null,this.reject(be(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(_,rh.get())};_()}}return w.currentPopupAction=null,w})();const ih="pendingRedirect",Xi=new Map;class vc extends Su{constructor(p,_,I=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,I),this.eventId=null}execute(){var p=()=>super.execute,_=this;return(0,a.Z)(function*(){let I=Xi.get(_.auth._key());if(!I){try{const U=(yield function jr(w,p){return bl.apply(this,arguments)}(_.resolver,_.auth))?yield p().call(_):null;I=()=>Promise.resolve(U)}catch(M){I=()=>Promise.reject(M)}Xi.set(_.auth._key(),I)}return _.bypassAuthState||Xi.set(_.auth._key(),()=>Promise.resolve(null)),I()})()}onAuthEvent(p){var _=()=>super.onAuthEvent,I=this;return(0,a.Z)(function*(){if("signInViaRedirect"===p.type)return _().call(I,p);if("unknown"!==p.type){if(p.eventId){const M=yield I.auth._redirectUserForId(p.eventId);if(M)return I.user=M,_().call(I,p);I.resolve(null)}}else I.resolve(null)})()}onExecution(){return(0,a.Z)(function*(){})()}cleanUp(){}}function bl(){return(bl=(0,a.Z)(function*(w,p){const _=wc(p),I=Qf(w);if(!(yield I._isAvailable()))return!1;const M="true"===(yield I._get(_));return yield I._remove(_),M})).apply(this,arguments)}function Mu(w,p){return ra.apply(this,arguments)}function ra(){return(ra=(0,a.Z)(function*(w,p){return Qf(w)._set(wc(p),"true")})).apply(this,arguments)}function Dl(){Xi.clear()}function Tl(w,p){Xi.set(w._key(),p)}function Qf(w){return lr(w._redirectPersistence)}function wc(w){return pr(ih,w.config.apiKey,w.name)}function ia(w,p,_){return function oh(w,p,_){return Pu.apply(this,arguments)}(w,p,_)}function Pu(){return(Pu=(0,a.Z)(function*(w,p,_){const I=$n(w);Fe(w,p,Gs),yield I._initializationPromise;const M=Nt(I,_);return yield Mu(M,I),M._openRedirect(I,p,"signInViaRedirect")})).apply(this,arguments)}function Bo(w,p,_){return function Sl(w,p,_){return Ji.apply(this,arguments)}(w,p,_)}function Ji(){return(Ji=(0,a.Z)(function*(w,p,_){const I=(0,W.m9)(w);Fe(I.auth,p,Gs),yield I.auth._initializationPromise;const M=Nt(I.auth,_);yield Mu(M,I.auth);const U=yield ki(I);return M._openRedirect(I.auth,p,"reauthViaRedirect",U)})).apply(this,arguments)}function Ru(w,p,_){return function ai(w,p,_){return Al.apply(this,arguments)}(w,p,_)}function Al(){return(Al=(0,a.Z)(function*(w,p,_){const I=(0,W.m9)(w);Fe(I.auth,p,Gs),yield I.auth._initializationPromise;const M=Nt(I.auth,_);yield ul(!1,I,p.providerId),yield Mu(M,I.auth);const U=yield ki(I);return M._openRedirect(I.auth,p,"linkViaRedirect",U)})).apply(this,arguments)}function Xf(w,p){return ur.apply(this,arguments)}function ur(){return(ur=(0,a.Z)(function*(w,p){return yield $n(w)._initializationPromise,xs(w,p,!1)})).apply(this,arguments)}function xs(w,p){return Na.apply(this,arguments)}function Na(){return(Na=(0,a.Z)(function*(w,p,_=!1){const I=$n(w),M=Nt(I,p),Ie=yield new vc(I,M,_).execute();return Ie&&!_&&(delete Ie.user._redirectEventId,yield I._persistUserIfCurrent(Ie.user),yield I._setRedirectUser(null,p)),Ie})).apply(this,arguments)}function ki(w){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,a.Z)(function*(w){const p=Uo(`${w.uid}:::`);return w._redirectEventId=p,yield w.auth._setRedirectUser(w),yield w.auth._persistUserIfCurrent(w),p})).apply(this,arguments)}class Cc{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let _=!1;return this.consumers.forEach(I=>{this.isEventForConsumer(p,I)&&(_=!0,this.sendToConsumer(p,I),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function ns(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Io(w);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=p,_=!0)),_}sendToConsumer(p,_){var I;if(p.error&&!Io(p)){const M=(null===(I=p.error.code)||void 0===I?void 0:I.split("auth/")[1])||"internal-error";_.onError(be(this.auth,M))}else _.onAuthEvent(p)}isEventForConsumer(p,_){const I=null===_.eventId||!!p.eventId&&p.eventId===_.eventId;return _.filter.includes(p.type)&&I}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Fa(p))}saveEventToCache(p){this.cachedEventUids.add(Fa(p)),this.lastProcessedEventTime=Date.now()}}function Fa(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter(p=>p).join("-")}function Io({type:w,error:p}){return"unknown"===w&&"auth/no-auth-event"===(null==p?void 0:p.code)}function Qr(w){return $o.apply(this,arguments)}function $o(){return($o=(0,a.Z)(function*(w,p={}){return pt(w,"GET","/v1/projects",p)})).apply(this,arguments)}const Qy=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,La=/^https?/;function Ua(){return(Ua=(0,a.Z)(function*(w){if(w.config.emulator)return;const{authorizedDomains:p}=yield Qr(w);for(const _ of p)try{if(oa(_))return}catch{}De(w,"unauthorized-domain")})).apply(this,arguments)}function oa(w){const p=Te(),{protocol:_,hostname:I}=new URL(p);if(w.startsWith("chrome-extension://")){const Ie=new URL(w);return""===Ie.hostname&&""===I?"chrome-extension:"===_&&w.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===_&&Ie.hostname===I}if(!La.test(_))return!1;if(Qy.test(w))return I===w;const M=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(I)}const Ou=new Be(3e4,6e4);function Ml(){const w=Br().___jsl;if(null!=w&&w.H)for(const p of Object.keys(w.H))if(w.H[p].r=w.H[p].r||[],w.H[p].L=w.H[p].L||[],w.H[p].r=[...w.H[p].L],w.CP)for(let _=0;_<w.CP.length;_++)w.CP[_]=null}let zi=null;const uo=new Be(5e3,15e3),sh="__/auth/iframe",ah="emulator/auth/iframe",bo={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ch(w){const p=w.config;X(p.authDomain,w,"auth-domain-config-required");const _=p.emulator?le(p,ah):`https://${w.config.authDomain}/${sh}`,I={apiKey:p.apiKey,appName:w.name,v:O.SDK_VERSION},M=lh.get(w.config.apiHost);M&&(I.eid=M);const U=w._getFrameworks();return U.length&&(I.fw=U.join(",")),`${_}?${(0,W.xO)(I).slice(1)}`}function C(){return C=(0,a.Z)(function*(w){const p=yield function Jf(w){return zi=zi||function nn(w){return new Promise((p,_)=>{var I,M,U;function Ie(){Ml(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Ml(),_(be(w,"network-request-failed"))},timeout:Ou.get()})}if(null!==(M=null===(I=Br().gapi)||void 0===I?void 0:I.iframes)&&void 0!==M&&M.Iframe)p(gapi.iframes.getContext());else{if(null===(U=Br().gapi)||void 0===U||!U.load){const Ke=hn("iframefcb");return Br()[Ke]=()=>{gapi.load?Ie():_(be(w,"network-request-failed"))},wn(`https://apis.google.com/js/api.js?onload=${Ke}`).catch(mt=>_(mt))}Ie()}}).catch(p=>{throw zi=null,p})}(w),zi}(w),_=Br().gapi;return X(_,w,"internal-error"),p.open({where:document.body,url:ch(w),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bo,dontclear:!0},I=>new Promise(function(){var M=(0,a.Z)(function*(U,Ie){yield I.restyle({setHideOnLeave:!1});const Ke=be(w,"network-request-failed"),mt=Br().setTimeout(()=>{Ie(Ke)},uo.get());function Dt(){Br().clearTimeout(mt),U(I)}I.ping(Dt).then(Dt,()=>{Ie(Ke)})});return function(U,Ie){return M.apply(this,arguments)}}()))}),C.apply(this,arguments)}const D={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},x=500,q=600,ge="_blank",Ae="http://localhost";class Ve{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Ht="__/auth/handler",_n="emulator/auth/handler",yn=encodeURIComponent("fac");function vi(w,p,_,I,M,U){return or.apply(this,arguments)}function or(){return(or=(0,a.Z)(function*(w,p,_,I,M,U){X(w.config.authDomain,w,"auth-domain-config-required"),X(w.config.apiKey,w,"invalid-api-key");const Ie={apiKey:w.config.apiKey,appName:w.name,authType:_,redirectUrl:I,v:O.SDK_VERSION,eventId:M};if(p instanceof Gs){p.setDefaultLanguage(w.languageCode),Ie.providerId=p.providerId||"",(0,W.xb)(p.getCustomParameters())||(Ie.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Qt,xn]of Object.entries(U||{}))Ie[Qt]=xn}if(p instanceof wa){const Qt=p.getScopes().filter(xn=>""!==xn);Qt.length>0&&(Ie.scopes=Qt.join(","))}w.tenantId&&(Ie.tid=w.tenantId);const Ke=Ie;for(const Qt of Object.keys(Ke))void 0===Ke[Qt]&&delete Ke[Qt];const mt=yield w._getAppCheckToken(),Dt=mt?`#${yn}=${encodeURIComponent(mt)}`:"";return`${function An({config:w}){return w.emulator?le(w,_n):`https://${w.authDomain}/${Ht}`}(w)}?${(0,W.xO)(Ke).slice(1)}${Dt}`})).apply(this,arguments)}const Vo="webStorageSupport",li=class Pl{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Gi,this._completeRedirectFn=xs,this._overrideRedirectResult=Tl}_openPopup(p,_,I,M){var U=this;return(0,a.Z)(function*(){var Ie;he(null===(Ie=U.eventManagers[p._key()])||void 0===Ie?void 0:Ie.manager,"_initialize() not called before _openPopup()");const Ke=yield vi(p,_,I,Te(),M);return function vt(w,p,_,I=x,M=q){const U=Math.max((window.screen.availHeight-M)/2,0).toString(),Ie=Math.max((window.screen.availWidth-I)/2,0).toString();let Ke="";const mt=Object.assign(Object.assign({},D),{width:I.toString(),height:M.toString(),top:U,left:Ie}),Dt=(0,W.z$)().toLowerCase();_&&(Ke=N(Dt)?ge:_),L(Dt)&&(p=p||Ae,mt.scrollbars="yes");const Qt=Object.entries(mt).reduce((qi,[sa,$a])=>`${qi}${sa}=${$a},`,"");if(function tn(w=(0,W.z$)()){var p;return Zt(w)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(Dt)&&"_self"!==Ke)return function _t(w,p){const _=document.createElement("a");_.href=w,_.target=p;const I=document.createEvent("MouseEvent");I.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(I)}(p||"",Ke),new Ve(null);const xn=window.open(p||"",Ke,Qt);X(xn,w,"popup-blocked");try{xn.focus()}catch{}return new Ve(xn)}(p,Ke,Uo())})()}_openRedirect(p,_,I,M){var U=this;return(0,a.Z)(function*(){return yield U._originValidation(p),function bs(w){Br().location.href=w}(yield vi(p,_,I,Te(),M)),new Promise(()=>{})})()}_initialize(p){const _=p._key();if(this.eventManagers[_]){const{manager:M,promise:U}=this.eventManagers[_];return M?Promise.resolve(M):(he(U,"If manager is not set, promise should be"),U)}const I=this.initAndGetManager(p);return this.eventManagers[_]={promise:I},I.catch(()=>{delete this.eventManagers[_]}),I}initAndGetManager(p){var _=this;return(0,a.Z)(function*(){const I=yield function uh(w){return C.apply(this,arguments)}(p),M=new Cc(p);return I.register("authEvent",U=>(X(null==U?void 0:U.authEvent,p,"invalid-auth-event"),{status:M.onEvent(U.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[p._key()]={manager:M},_.iframes[p._key()]=I,M})()}_isIframeWebStorageSupported(p,_){this.iframes[p._key()].send(Vo,{type:Vo},M=>{var U;const Ie=null===(U=null==M?void 0:M[0])||void 0===U?void 0:U[Vo];void 0!==Ie&&_(!!Ie),De(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const _=p._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Ec(w){return Ua.apply(this,arguments)}(p)),this.originValidationPromises[_]}get _shouldInitProactively(){return vn()||B()||Zt()}};class jo{constructor(p){this.factorId=p}_process(p,_,I){switch(_.type){case"enroll":return this._finalizeEnroll(p,_.credential,I);case"signin":return this._finalizeSignIn(p,_.credential);default:return Ue("unexpected MultiFactorSessionType")}}}class Do extends jo{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Do(p)}_finalizeEnroll(p,_,I){return function Aa(w,p){return pt(w,"POST","/v2/accounts/mfaEnrollment:finalize",qe(w,p))}(p,{idToken:_,displayName:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,_){return function Js(w,p){return pt(w,"POST","/v2/accounts/mfaSignIn:finalize",qe(w,p))}(p,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ep=(()=>{class w{constructor(){}static assertion(_){return Do._fromCredential(_)}}return w.FACTOR_ID="phone",w})();var Ol="@firebase/auth";class Ba{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var _=this;return(0,a.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const _=this.auth.onIdTokenChanged(I=>{p((null==I?void 0:I.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,_),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const _=this.internalListeners.get(p);_&&(this.internalListeners.delete(p),_(),this.updateProactiveRefresh())}assertAuthConfigured(){X(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,W.Pz)("authIdTokenMaxAge"),function np(w){(0,O._registerComponent)(new _e.wA("auth",(p,{options:_})=>{const I=p.getProvider("app").getImmediate(),M=p.getProvider("heartbeat"),U=p.getProvider("app-check-internal"),{apiKey:Ie,authDomain:Ke}=I.options;X(Ie&&!Ie.includes(":"),"invalid-api-key",{appName:I.name}),X(!(null!=Ke&&Ke.includes(":")),"argument-error",{appName:I.name});const mt={apiKey:Ie,authDomain:Ke,clientPlatform:w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Fr(w)},Dt=new Jn(I,M,U,mt);return function Vi(w,p){const _=(null==p?void 0:p.persistence)||[],I=(Array.isArray(_)?_:[_]).map(lr);null!=p&&p.errorMap&&w._updateErrorMap(p.errorMap),w._initializeWithPersistence(I,null==p?void 0:p.popupRedirectResolver)}(Dt,_),Dt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,_,I)=>{p.getProvider("auth-internal").initialize()})),(0,O._registerComponent)(new _e.wA("auth-internal",p=>{const _=$n(p.getProvider("auth").getImmediate());return new Ba(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,O.registerVersion)(Ol,"0.23.1",function Dc(w){switch(w){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(w)),(0,O.registerVersion)(Ol,"0.23.1","esm2017")}("Browser")},2090:(St,We,R)=>{"use strict";R.d(We,{$s:()=>lr,BH:()=>Re,DV:()=>Nn,Dv:()=>kn,G6:()=>le,GJ:()=>zt,L:()=>Ee,LL:()=>dt,Pz:()=>be,Sg:()=>Fe,UG:()=>Ue,UI:()=>Un,US:()=>_e,Wj:()=>mr,Wl:()=>Je,Yr:()=>Be,ZB:()=>Z,ZR:()=>pt,aH:()=>De,b$:()=>Ge,cI:()=>Ce,dS:()=>ri,eu:()=>pe,g5:()=>O,gK:()=>kr,gQ:()=>On,h$:()=>ye,hl:()=>oe,hu:()=>W,jU:()=>he,lb:()=>Cn,m9:()=>pr,ne:()=>dn,p$:()=>z,pd:()=>Or,r3:()=>un,ru:()=>Te,tV:()=>Q,uI:()=>X,ug:()=>pn,vZ:()=>Ut,w1:()=>Se,w9:()=>$t,xO:()=>Rn,xb:()=>ar,z$:()=>ae,zI:()=>Le,zd:()=>Rr});const a={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},W=function(re,K){if(!re)throw O(K)},O=function(re){return new Error("Firebase Database ("+a.SDK_VERSION+") INTERNAL ASSERT FAILED: "+re)},ve=function(re){const K=[];let L=0;for(let B=0;B<re.length;B++){let N=re.charCodeAt(B);N<128?K[L++]=N:N<2048?(K[L++]=N>>6|192,K[L++]=63&N|128):55296==(64512&N)&&B+1<re.length&&56320==(64512&re.charCodeAt(B+1))?(N=65536+((1023&N)<<10)+(1023&re.charCodeAt(++B)),K[L++]=N>>18|240,K[L++]=N>>12&63|128,K[L++]=N>>6&63|128,K[L++]=63&N|128):(K[L++]=N>>12|224,K[L++]=N>>6&63|128,K[L++]=63&N|128)}return K},_e={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(re,K){if(!Array.isArray(re))throw Error("encodeByteArray takes an array as a parameter");this.init_();const L=K?this.byteToCharMapWebSafe_:this.byteToCharMap_,B=[];for(let N=0;N<re.length;N+=3){const me=re[N],it=N+1<re.length,At=it?re[N+1]:0,Xt=N+2<re.length,Zt=Xt?re[N+2]:0;let Kn=(15&At)<<2|Zt>>6,vn=63&Zt;Xt||(vn=64,it||(Kn=64)),B.push(L[me>>2],L[(3&me)<<4|At>>4],L[Kn],L[vn])}return B.join("")},encodeString(re,K){return this.HAS_NATIVE_SUPPORT&&!K?btoa(re):this.encodeByteArray(ve(re),K)},decodeString(re,K){return this.HAS_NATIVE_SUPPORT&&!K?atob(re):function(re){const K=[];let L=0,B=0;for(;L<re.length;){const N=re[L++];if(N<128)K[B++]=String.fromCharCode(N);else if(N>191&&N<224){const me=re[L++];K[B++]=String.fromCharCode((31&N)<<6|63&me)}else if(N>239&&N<365){const Xt=((7&N)<<18|(63&re[L++])<<12|(63&re[L++])<<6|63&re[L++])-65536;K[B++]=String.fromCharCode(55296+(Xt>>10)),K[B++]=String.fromCharCode(56320+(1023&Xt))}else{const me=re[L++],it=re[L++];K[B++]=String.fromCharCode((15&N)<<12|(63&me)<<6|63&it)}}return K.join("")}(this.decodeStringToByteArray(re,K))},decodeStringToByteArray(re,K){this.init_();const L=K?this.charToByteMapWebSafe_:this.charToByteMap_,B=[];for(let N=0;N<re.length;){const me=L[re.charAt(N++)],At=N<re.length?L[re.charAt(N)]:0;++N;const Zt=N<re.length?L[re.charAt(N)]:64;++N;const tn=N<re.length?L[re.charAt(N)]:64;if(++N,null==me||null==At||null==Zt||null==tn)throw new ee;B.push(me<<2|At>>4),64!==Zt&&(B.push(At<<4&240|Zt>>2),64!==tn&&B.push(Zt<<6&192|tn))}return B},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let re=0;re<this.ENCODED_VALS.length;re++)this.byteToCharMap_[re]=this.ENCODED_VALS.charAt(re),this.charToByteMap_[this.byteToCharMap_[re]]=re,this.byteToCharMapWebSafe_[re]=this.ENCODED_VALS_WEBSAFE.charAt(re),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[re]]=re,re>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(re)]=re,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(re)]=re)}}};class ee extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ye=function(re){const K=ve(re);return _e.encodeByteArray(K,!0)},Ee=function(re){return ye(re).replace(/\./g,"")},Q=function(re){try{return _e.decodeString(re,!0)}catch(K){console.error("base64Decode failed: ",K)}return null};function z(re){return Z(void 0,re)}function Z(re,K){if(!(K instanceof Object))return K;switch(K.constructor){case Date:return new Date(K.getTime());case Object:void 0===re&&(re={});break;case Array:re=[];break;default:return K}for(const L in K)!K.hasOwnProperty(L)||!ie(L)||(re[L]=Z(re[L],K[L]));return re}function ie(re){return"__proto__"!==re}const Y=()=>{try{return function ue(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const re=process.env.__FIREBASE_DEFAULTS__;return re?JSON.parse(re):void 0})()||(()=>{if(typeof document>"u")return;let re;try{re=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const K=re&&Q(re[1]);return K&&JSON.parse(K)})()}catch(re){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${re}`)}},De=()=>{var re;return null===(re=Y())||void 0===re?void 0:re.config},be=re=>{var K;return null===(K=Y())||void 0===K?void 0:K[`_${re}`]};class Re{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((K,L)=>{this.resolve=K,this.reject=L})}wrapCallback(K){return(L,B)=>{L?this.reject(L):this.resolve(B),"function"==typeof K&&(this.promise.catch(()=>{}),1===K.length?K(L):K(L,B))}}}function Fe(re,K){if(re.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const B=K||"demo-project",N=re.iat||0,me=re.sub||re.user_id;if(!me)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const it=Object.assign({iss:`https://securetoken.google.com/${B}`,aud:B,iat:N,exp:N+3600,auth_time:N,sub:me,user_id:me,firebase:{sign_in_provider:"custom",identities:{}}},re);return[Ee(JSON.stringify({alg:"none",type:"JWT"})),Ee(JSON.stringify(it)),""].join(".")}function ae(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function X(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ae())}function Ue(){var re;const K=null===(re=Y())||void 0===re?void 0:re.forceEnvironment;if("node"===K)return!0;if("browser"===K)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function he(){return"object"==typeof self&&self.self===self}function Te(){const re="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof re&&void 0!==re.id}function Ge(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Se(){const re=ae();return re.indexOf("MSIE ")>=0||re.indexOf("Trident/")>=0}function Be(){return!0===a.NODE_CLIENT||!0===a.NODE_ADMIN}function le(){return!Ue()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function oe(){try{return"object"==typeof indexedDB}catch{return!1}}function pe(){return new Promise((re,K)=>{try{let L=!0;const B="validate-browser-context-for-indexeddb-analytics-module",N=self.indexedDB.open(B);N.onsuccess=()=>{N.result.close(),L||self.indexedDB.deleteDatabase(B),re(!0)},N.onupgradeneeded=()=>{L=!1},N.onerror=()=>{var me;K((null===(me=N.error)||void 0===me?void 0:me.message)||"")}}catch(L){K(L)}})}function Le(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class pt extends Error{constructor(K,L,B){super(L),this.code=K,this.customData=B,this.name="FirebaseError",Object.setPrototypeOf(this,pt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dt.prototype.create)}}class dt{constructor(K,L,B){this.service=K,this.serviceName=L,this.errors=B}create(K,...L){const B=L[0]||{},N=`${this.service}/${K}`,me=this.errors[K],it=me?function Rt(re,K){return re.replace($e,(L,B)=>{const N=K[B];return null!=N?String(N):`<${B}?>`})}(me,B):"Error";return new pt(N,`${this.serviceName}: ${it} (${N}).`,B)}}const $e=/\{\$([^}]+)}/g;function Ce(re){return JSON.parse(re)}function Je(re){return JSON.stringify(re)}const ht=function(re){let K={},L={},B={},N="";try{const me=re.split(".");K=Ce(Q(me[0])||""),L=Ce(Q(me[1])||""),N=me[2],B=L.d||{},delete L.d}catch{}return{header:K,claims:L,data:B,signature:N}},$t=function(re){const L=ht(re).claims;return!!L&&"object"==typeof L&&L.hasOwnProperty("iat")},zt=function(re){const K=ht(re).claims;return"object"==typeof K&&!0===K.admin};function un(re,K){return Object.prototype.hasOwnProperty.call(re,K)}function Nn(re,K){if(Object.prototype.hasOwnProperty.call(re,K))return re[K]}function ar(re){for(const K in re)if(Object.prototype.hasOwnProperty.call(re,K))return!1;return!0}function Un(re,K,L){const B={};for(const N in re)Object.prototype.hasOwnProperty.call(re,N)&&(B[N]=K.call(L,re[N],N,re));return B}function Ut(re,K){if(re===K)return!0;const L=Object.keys(re),B=Object.keys(K);for(const N of L){if(!B.includes(N))return!1;const me=re[N],it=K[N];if(Bn(me)&&Bn(it)){if(!Ut(me,it))return!1}else if(me!==it)return!1}for(const N of B)if(!L.includes(N))return!1;return!0}function Bn(re){return null!==re&&"object"==typeof re}function Rn(re){const K=[];for(const[L,B]of Object.entries(re))Array.isArray(B)?B.forEach(N=>{K.push(encodeURIComponent(L)+"="+encodeURIComponent(N))}):K.push(encodeURIComponent(L)+"="+encodeURIComponent(B));return K.length?"&"+K.join("&"):""}function Rr(re){const K={};return re.replace(/^\?/,"").split("&").forEach(B=>{if(B){const[N,me]=B.split("=");K[decodeURIComponent(N)]=decodeURIComponent(me)}}),K}function Or(re){const K=re.indexOf("?");if(!K)return"";const L=re.indexOf("#",K);return re.substring(K,L>0?L:void 0)}class On{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let K=1;K<this.blockSize;++K)this.pad_[K]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(K,L){L||(L=0);const B=this.W_;if("string"==typeof K)for(let tn=0;tn<16;tn++)B[tn]=K.charCodeAt(L)<<24|K.charCodeAt(L+1)<<16|K.charCodeAt(L+2)<<8|K.charCodeAt(L+3),L+=4;else for(let tn=0;tn<16;tn++)B[tn]=K[L]<<24|K[L+1]<<16|K[L+2]<<8|K[L+3],L+=4;for(let tn=16;tn<80;tn++){const Kn=B[tn-3]^B[tn-8]^B[tn-14]^B[tn-16];B[tn]=4294967295&(Kn<<1|Kn>>>31)}let Zt,En,N=this.chain_[0],me=this.chain_[1],it=this.chain_[2],At=this.chain_[3],Xt=this.chain_[4];for(let tn=0;tn<80;tn++){tn<40?tn<20?(Zt=At^me&(it^At),En=1518500249):(Zt=me^it^At,En=1859775393):tn<60?(Zt=me&it|At&(me|it),En=2400959708):(Zt=me^it^At,En=3395469782);const Kn=(N<<5|N>>>27)+Zt+Xt+En+B[tn]&4294967295;Xt=At,At=it,it=4294967295&(me<<30|me>>>2),me=N,N=Kn}this.chain_[0]=this.chain_[0]+N&4294967295,this.chain_[1]=this.chain_[1]+me&4294967295,this.chain_[2]=this.chain_[2]+it&4294967295,this.chain_[3]=this.chain_[3]+At&4294967295,this.chain_[4]=this.chain_[4]+Xt&4294967295}update(K,L){if(null==K)return;void 0===L&&(L=K.length);const B=L-this.blockSize;let N=0;const me=this.buf_;let it=this.inbuf_;for(;N<L;){if(0===it)for(;N<=B;)this.compress_(K,N),N+=this.blockSize;if("string"==typeof K){for(;N<L;)if(me[it]=K.charCodeAt(N),++it,++N,it===this.blockSize){this.compress_(me),it=0;break}}else for(;N<L;)if(me[it]=K[N],++it,++N,it===this.blockSize){this.compress_(me),it=0;break}}this.inbuf_=it,this.total_+=L}digest(){const K=[];let L=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let N=this.blockSize-1;N>=56;N--)this.buf_[N]=255&L,L/=256;this.compress_(this.buf_);let B=0;for(let N=0;N<5;N++)for(let me=24;me>=0;me-=8)K[B]=this.chain_[N]>>me&255,++B;return K}}function dn(re,K){const L=new Ft(re,K);return L.subscribe.bind(L)}class Ft{constructor(K,L){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=L,this.task.then(()=>{K(this)}).catch(B=>{this.error(B)})}next(K){this.forEachObserver(L=>{L.next(K)})}error(K){this.forEachObserver(L=>{L.error(K)}),this.close(K)}complete(){this.forEachObserver(K=>{K.complete()}),this.close()}subscribe(K,L,B){let N;if(void 0===K&&void 0===L&&void 0===B)throw new Error("Missing Observer.");N=function zn(re,K){if("object"!=typeof re||null===re)return!1;for(const L of K)if(L in re&&"function"==typeof re[L])return!0;return!1}(K,["next","error","complete"])?K:{next:K,error:L,complete:B},void 0===N.next&&(N.next=Sr),void 0===N.error&&(N.error=Sr),void 0===N.complete&&(N.complete=Sr);const me=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?N.error(this.finalError):N.complete()}catch{}}),this.observers.push(N),me}unsubscribeOne(K){void 0===this.observers||void 0===this.observers[K]||(delete this.observers[K],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(K){if(!this.finalized)for(let L=0;L<this.observers.length;L++)this.sendOne(L,K)}sendOne(K,L){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[K])try{L(this.observers[K])}catch(B){typeof console<"u"&&console.error&&console.error(B)}})}close(K){this.finalized||(this.finalized=!0,void 0!==K&&(this.finalError=K),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Sr(){}const kn=function(re,K,L,B){let N;if(B<K?N="at least "+K:B>L&&(N=0===L?"none":"no more than "+L),N)throw new Error(re+" failed: Was called with "+B+(1===B?" argument.":" arguments.")+" Expects "+N+".")};function kr(re,K){return`${re} failed: ${K} argument `}function mr(re,K,L,B){if((!B||L)&&"function"!=typeof L)throw new Error(kr(re,K)+"must be a valid function.")}function Cn(re,K,L,B){if((!B||L)&&("object"!=typeof L||null===L))throw new Error(kr(re,K)+"must be a valid context object.")}const ri=function(re){const K=[];let L=0;for(let B=0;B<re.length;B++){let N=re.charCodeAt(B);if(N>=55296&&N<=56319){const me=N-55296;B++,W(B<re.length,"Surrogate pair missing trail surrogate."),N=65536+(me<<10)+(re.charCodeAt(B)-56320)}N<128?K[L++]=N:N<2048?(K[L++]=N>>6|192,K[L++]=63&N|128):N<65536?(K[L++]=N>>12|224,K[L++]=N>>6&63|128,K[L++]=63&N|128):(K[L++]=N>>18|240,K[L++]=N>>12&63|128,K[L++]=N>>6&63|128,K[L++]=63&N|128)}return K},pn=function(re){let K=0;for(let L=0;L<re.length;L++){const B=re.charCodeAt(L);B<128?K++:B<2048?K+=2:B>=55296&&B<=56319?(K+=4,L++):K+=3}return K},gn=1e3,hr=2,rr=144e5,Nr=.5;function lr(re,K=gn,L=hr){const B=K*Math.pow(L,re),N=Math.round(Nr*B*(Math.random()-.5)*2);return Math.min(rr,B+N)}function pr(re){return re&&re._delegate?re._delegate:re}},9613:(St,We,R)=>{"use strict";R.d(We,{c:()=>He});var a=R(3577),W=R(3457);let O;const we=J=>J.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_e=J=>(void 0===O&&(O=void 0===J.style.animationName&&void 0!==J.style.webkitAnimationName?"-webkit-":""),O),ee=(J,Y,fe)=>{const Me=Y.startsWith("animation")?_e(J):"";J.style.setProperty(Me+Y,fe)},ye=(J,Y)=>{const fe=Y.startsWith("animation")?_e(J):"";J.style.removeProperty(fe+Y)},z=[],xe=(J=[],Y)=>{if(void 0!==Y){const fe=Array.isArray(Y)?Y:[Y];return[...J,...fe]}return J},He=J=>{let Y,fe,Me,De,be,Re,he,oe,pe,Le,qe,$e,Ce,Fe=[],ae=[],X=[],Ue=!1,Te={},Ge=[],Ze=[],Se={},Oe=0,Be=!1,le=!1,pt=!0,dt=!1,Rt=!0,Je=!1;const ht=J,jt=[],Kt=[],$t=[],zt=[],un=[],Nn=[],ar=[],Un=[],Ut=[],Bn=[],pi="function"==typeof AnimationEffect||void 0!==W.w&&"function"==typeof W.w.AnimationEffect,Rn="function"==typeof Element&&"function"==typeof Element.prototype.animate&&pi,Or=()=>Bn,zn=($,se)=>((null!=se&&se.oneTimeCallback?Kt:jt).push({c:$,o:se}),Ce),kn=()=>{if(Rn)Bn.forEach($=>{$.cancel()}),Bn.length=0;else{const $=$t.slice();(0,a.r)(()=>{$.forEach(se=>{ye(se,"animation-name"),ye(se,"animation-duration"),ye(se,"animation-timing-function"),ye(se,"animation-iteration-count"),ye(se,"animation-delay"),ye(se,"animation-play-state"),ye(se,"animation-fill-mode"),ye(se,"animation-direction")})})}},kr=()=>{un.forEach($=>{null!=$&&$.parentNode&&$.parentNode.removeChild($)}),un.length=0},fr=()=>void 0!==be?be:he?he.getFill():"both",pr=()=>void 0!==pe?pe:void 0!==Re?Re:he?he.getDirection():"normal",re=()=>Be?"linear":void 0!==Me?Me:he?he.getEasing():"linear",K=()=>le?0:void 0!==Le?Le:void 0!==fe?fe:he?he.getDuration():0,L=()=>void 0!==De?De:he?he.getIterations():1,B=()=>void 0!==qe?qe:void 0!==Y?Y:he?he.getDelay():0,at=()=>{0!==Oe&&(Oe--,0===Oe&&((()=>{an(),Un.forEach(Qe=>Qe()),Ut.forEach(Qe=>Qe());const $=pt?1:0,se=Ge,ce=Ze,Ye=Se;$t.forEach(Qe=>{const rt=Qe.classList;se.forEach(st=>rt.add(st)),ce.forEach(st=>rt.remove(st));for(const st in Ye)Ye.hasOwnProperty(st)&&ee(Qe,st,Ye[st])}),jt.forEach(Qe=>Qe.c($,Ce)),Kt.forEach(Qe=>Qe.c($,Ce)),Kt.length=0,Rt=!0,pt&&(dt=!0),pt=!0})(),he&&he.animationFinish()))},Ot=($=!0)=>{kr();const se=(J=>(J.forEach(Y=>{for(const fe in Y)if(Y.hasOwnProperty(fe)){const Me=Y[fe];if("easing"===fe)Y["animation-timing-function"]=Me,delete Y[fe];else{const De=we(fe);De!==fe&&(Y[De]=Me,delete Y[fe])}}}),J))(Fe);$t.forEach(ce=>{if(se.length>0){const Ye=((J=[])=>J.map(Y=>{const fe=Y.offset,Me=[];for(const De in Y)Y.hasOwnProperty(De)&&"offset"!==De&&Me.push(`${De}: ${Y[De]};`);return`${100*fe}% { ${Me.join(" ")} }`}).join(" "))(se);$e=void 0!==J?J:(J=>{let Y=z.indexOf(J);return Y<0&&(Y=z.push(J)-1),`ion-animation-${Y}`})(Ye);const Qe=((J,Y,fe)=>{var Me;const De=(J=>{const Y=void 0!==J.getRootNode?J.getRootNode():J;return Y.head||Y})(fe),be=_e(fe),Re=De.querySelector("#"+J);if(Re)return Re;const Fe=(null!==(Me=fe.ownerDocument)&&void 0!==Me?Me:document).createElement("style");return Fe.id=J,Fe.textContent=`@${be}keyframes ${J} { ${Y} } @${be}keyframes ${J}-alt { ${Y} }`,De.appendChild(Fe),Fe})($e,Ye,ce);un.push(Qe),ee(ce,"animation-duration",`${K()}ms`),ee(ce,"animation-timing-function",re()),ee(ce,"animation-delay",`${B()}ms`),ee(ce,"animation-fill-mode",fr()),ee(ce,"animation-direction",pr());const rt=L()===1/0?"infinite":L().toString();ee(ce,"animation-iteration-count",rt),ee(ce,"animation-play-state","paused"),$&&ee(ce,"animation-name",`${Qe.id}-alt`),(0,a.r)(()=>{ee(ce,"animation-name",Qe.id||null)})}})},In=($=!0)=>{(()=>{Nn.forEach(Ye=>Ye()),ar.forEach(Ye=>Ye());const $=ae,se=X,ce=Te;$t.forEach(Ye=>{const Qe=Ye.classList;$.forEach(rt=>Qe.add(rt)),se.forEach(rt=>Qe.remove(rt));for(const rt in ce)ce.hasOwnProperty(rt)&&ee(Ye,rt,ce[rt])})})(),Fe.length>0&&(Rn?($t.forEach($=>{const se=$.animate(Fe,{id:ht,delay:B(),duration:K(),easing:re(),iterations:L(),fill:fr(),direction:pr()});se.pause(),Bn.push(se)}),Bn.length>0&&(Bn[0].onfinish=()=>{at()})):Ot($)),Ue=!0},Lt=$=>{if($=Math.min(Math.max($,0),.9999),Rn)Bn.forEach(se=>{se.currentTime=se.effect.getComputedTiming().delay+K()*$,se.pause()});else{const se=`-${K()*$}ms`;$t.forEach(ce=>{Fe.length>0&&(ee(ce,"animation-delay",se),ee(ce,"animation-play-state","paused"))})}},Fn=$=>{Bn.forEach(se=>{se.effect.updateTiming({delay:B(),duration:K(),easing:re(),iterations:L(),fill:fr(),direction:pr()})}),void 0!==$&&Lt($)},wn=($=!0,se)=>{(0,a.r)(()=>{$t.forEach(ce=>{ee(ce,"animation-name",$e||null),ee(ce,"animation-duration",`${K()}ms`),ee(ce,"animation-timing-function",re()),ee(ce,"animation-delay",void 0!==se?`-${se*K()}ms`:`${B()}ms`),ee(ce,"animation-fill-mode",fr()||null),ee(ce,"animation-direction",pr()||null);const Ye=L()===1/0?"infinite":L().toString();ee(ce,"animation-iteration-count",Ye),$&&ee(ce,"animation-name",`${$e}-alt`),(0,a.r)(()=>{ee(ce,"animation-name",$e||null)})})})},hn=($=!1,se=!0,ce)=>($&&zt.forEach(Ye=>{Ye.update($,se,ce)}),Rn?Fn(ce):wn(se,ce),Ce),Bi=()=>{Ue&&(Rn?Bn.forEach($=>{$.pause()}):$t.forEach($=>{ee($,"animation-play-state","paused")}),Je=!0)},wt=()=>{oe=void 0,at()},an=()=>{oe&&clearTimeout(oe)},Vi=$=>new Promise(se=>{null!=$&&$.sync&&(le=!0,zn(()=>le=!1,{oneTimeCallback:!0})),Ue||In(),dt&&(Rn?(Lt(0),Fn()):wn(),dt=!1),Rt&&(Oe=zt.length+1,Rt=!1),zn(()=>se(),{oneTimeCallback:!0}),zt.forEach(ce=>{ce.play()}),Rn?(Bn.forEach($=>{$.play()}),(0===Fe.length||0===$t.length)&&at()):(()=>{if(an(),(0,a.r)(()=>{$t.forEach($=>{Fe.length>0&&ee($,"animation-play-state","running")})}),0===Fe.length||0===$t.length)at();else{const $=B()||0,se=K()||0,ce=L()||1;isFinite(ce)&&(oe=setTimeout(wt,$+se*ce+100)),((J,Y)=>{let fe;const Me={passive:!0},be=Re=>{J===Re.target&&(fe&&fe(),an(),(0,a.r)(()=>{$t.forEach($=>{ye($,"animation-duration"),ye($,"animation-delay"),ye($,"animation-play-state")}),(0,a.r)(at)}))};J&&(J.addEventListener("webkitAnimationEnd",be,Me),J.addEventListener("animationend",be,Me),fe=()=>{J.removeEventListener("webkitAnimationEnd",be,Me),J.removeEventListener("animationend",be,Me)})})($t[0])}})(),Je=!1}),k=($,se)=>{const ce=Fe[0];return void 0===ce||void 0!==ce.offset&&0!==ce.offset?Fe=[{offset:0,[$]:se},...Fe]:ce[$]=se,Ce};return Ce={parentAnimation:he,elements:$t,childAnimations:zt,id:ht,animationFinish:at,from:k,to:($,se)=>{const ce=Fe[Fe.length-1];return void 0===ce||void 0!==ce.offset&&1!==ce.offset?Fe=[...Fe,{offset:1,[$]:se}]:ce[$]=se,Ce},fromTo:($,se,ce)=>k($,se).to($,ce),parent:$=>(he=$,Ce),play:Vi,pause:()=>(zt.forEach($=>{$.pause()}),Bi(),Ce),stop:()=>{zt.forEach($=>{$.stop()}),Ue&&(kn(),Ue=!1),Be=!1,le=!1,Rt=!0,pe=void 0,Le=void 0,qe=void 0,Oe=0,dt=!1,pt=!0,Je=!1},destroy:$=>(zt.forEach(se=>{se.destroy($)}),($=>{kn(),$&&kr()})($),$t.length=0,zt.length=0,Fe.length=0,jt.length=0,Kt.length=0,Ue=!1,Rt=!0,Ce),keyframes:$=>{const se=Fe!==$;return Fe=$,se&&($=>{Rn?Or().forEach(se=>{if(se.effect.setKeyframes)se.effect.setKeyframes($);else{const ce=new KeyframeEffect(se.effect.target,$,se.effect.getTiming());se.effect=ce}}):Ot()})(Fe),Ce},addAnimation:$=>{if(null!=$)if(Array.isArray($))for(const se of $)se.parent(Ce),zt.push(se);else $.parent(Ce),zt.push($);return Ce},addElement:$=>{if(null!=$)if(1===$.nodeType)$t.push($);else if($.length>=0)for(let se=0;se<$.length;se++)$t.push($[se]);else console.error("Invalid addElement value");return Ce},update:hn,fill:$=>(be=$,hn(!0),Ce),direction:$=>(Re=$,hn(!0),Ce),iterations:$=>(De=$,hn(!0),Ce),duration:$=>(!Rn&&0===$&&($=1),fe=$,hn(!0),Ce),easing:$=>(Me=$,hn(!0),Ce),delay:$=>(Y=$,hn(!0),Ce),getWebAnimations:Or,getKeyframes:()=>Fe,getFill:fr,getDirection:pr,getDelay:B,getIterations:L,getEasing:re,getDuration:K,afterAddRead:$=>(Un.push($),Ce),afterAddWrite:$=>(Ut.push($),Ce),afterClearStyles:($=[])=>{for(const se of $)Se[se]="";return Ce},afterStyles:($={})=>(Se=$,Ce),afterRemoveClass:$=>(Ze=xe(Ze,$),Ce),afterAddClass:$=>(Ge=xe(Ge,$),Ce),beforeAddRead:$=>(Nn.push($),Ce),beforeAddWrite:$=>(ar.push($),Ce),beforeClearStyles:($=[])=>{for(const se of $)Te[se]="";return Ce},beforeStyles:($={})=>(Te=$,Ce),beforeRemoveClass:$=>(X=xe(X,$),Ce),beforeAddClass:$=>(ae=xe(ae,$),Ce),onFinish:zn,isRunning:()=>0!==Oe&&!Je,progressStart:($=!1,se)=>(zt.forEach(ce=>{ce.progressStart($,se)}),Bi(),Be=$,Ue||In(),hn(!1,!0,se),Ce),progressStep:$=>(zt.forEach(se=>{se.progressStep($)}),Lt($),Ce),progressEnd:($,se,ce)=>(Be=!1,zt.forEach(Ye=>{Ye.progressEnd($,se,ce)}),void 0!==ce&&(Le=ce),dt=!1,pt=!0,0===$?(pe="reverse"===pr()?"normal":"reverse","reverse"===pe&&(pt=!1),Rn?(hn(),Lt(1-se)):(qe=(1-se)*K()*-1,hn(!1,!1))):1===$&&(Rn?(hn(),Lt(se)):(qe=se*K()*-1,hn(!1,!1))),void 0!==$&&(zn(()=>{Le=void 0,pe=void 0,qe=void 0},{oneTimeCallback:!0}),he||Vi()),Ce)}}},3982:(St,We,R)=>{"use strict";R.d(We,{E:()=>Q,a:()=>a,s:()=>ye});const a=z=>{try{if(z instanceof ee)return z.value;if(!ve()||"string"!=typeof z||""===z)return z;if(z.includes("onload="))return"";const Z=document.createDocumentFragment(),ie=document.createElement("div");Z.appendChild(ie),ie.innerHTML=z,_e.forEach(J=>{const Y=Z.querySelectorAll(J);for(let fe=Y.length-1;fe>=0;fe--){const Me=Y[fe];Me.parentNode?Me.parentNode.removeChild(Me):Z.removeChild(Me);const De=O(Me);for(let be=0;be<De.length;be++)W(De[be])}});const ue=O(Z);for(let J=0;J<ue.length;J++)W(ue[J]);const xe=document.createElement("div");xe.appendChild(Z);const He=xe.querySelector("div");return null!==He?He.innerHTML:xe.innerHTML}catch(Z){return console.error(Z),""}},W=z=>{if(z.nodeType&&1!==z.nodeType)return;if(typeof NamedNodeMap<"u"&&!(z.attributes instanceof NamedNodeMap))return void z.remove();for(let ie=z.attributes.length-1;ie>=0;ie--){const ue=z.attributes.item(ie),xe=ue.name;if(!we.includes(xe.toLowerCase())){z.removeAttribute(xe);continue}const He=ue.value,J=z[xe];(null!=He&&He.toLowerCase().includes("javascript:")||null!=J&&J.toLowerCase().includes("javascript:"))&&z.removeAttribute(xe)}const Z=O(z);for(let ie=0;ie<Z.length;ie++)W(Z[ie])},O=z=>null!=z.children?z.children:z.childNodes,ve=()=>{var z;const Z=window,ie=null===(z=null==Z?void 0:Z.Ionic)||void 0===z?void 0:z.config;return!ie||(ie.get?ie.get("sanitizerEnabled",!0):!0===ie.sanitizerEnabled||void 0===ie.sanitizerEnabled)},we=["class","id","href","src","name","slot"],_e=["script","style","iframe","meta","link","object","embed"];class ee{constructor(Z){this.value=Z}}const ye=z=>{const Z=window,ie=Z.Ionic;if(!ie||!ie.config||"Object"===ie.config.constructor.name)return Z.Ionic=Z.Ionic||{},Z.Ionic.config=Object.assign(Object.assign({},Z.Ionic.config),z),Z.Ionic.config},Q=!1},6782:(St,We,R)=>{"use strict";R.d(We,{C:()=>we,a:()=>O,d:()=>ve});var a=R(5861),W=R(3577);const O=function(){var _e=(0,a.Z)(function*(ee,ye,Ee,Q,z,Z){var ie;if(ee)return ee.attachViewToDom(ye,Ee,z,Q);if(!(Z||"string"==typeof Ee||Ee instanceof HTMLElement))throw new Error("framework delegate is missing");const ue="string"==typeof Ee?null===(ie=ye.ownerDocument)||void 0===ie?void 0:ie.createElement(Ee):Ee;return Q&&Q.forEach(xe=>ue.classList.add(xe)),z&&Object.assign(ue,z),ye.appendChild(ue),yield new Promise(xe=>(0,W.c)(ue,xe)),ue});return function(ye,Ee,Q,z,Z,ie){return _e.apply(this,arguments)}}(),ve=(_e,ee)=>{if(ee){if(_e)return _e.removeViewFromDom(ee.parentElement,ee);ee.remove()}return Promise.resolve()},we=()=>{let _e,ee;return{attachViewToDom:function(){var Q=(0,a.Z)(function*(z,Z,ie={},ue=[]){var xe,He;if(_e=z,Z){const Y="string"==typeof Z?null===(xe=_e.ownerDocument)||void 0===xe?void 0:xe.createElement(Z):Z;ue.forEach(fe=>Y.classList.add(fe)),Object.assign(Y,ie),_e.appendChild(Y),yield new Promise(fe=>(0,W.c)(Y,fe))}else if(_e.children.length>0&&("ION-MODAL"===_e.tagName||"ION-POPOVER"===_e.tagName)&&!_e.children[0].classList.contains("ion-delegate-host")){const fe=null===(He=_e.ownerDocument)||void 0===He?void 0:He.createElement("div");fe.classList.add("ion-delegate-host"),ue.forEach(Me=>fe.classList.add(Me)),fe.append(..._e.children),_e.appendChild(fe)}const J=document.querySelector("ion-app")||document.body;return ee=document.createComment("ionic teleport"),_e.parentNode.insertBefore(ee,_e),J.appendChild(_e),_e});return function(Z,ie){return Q.apply(this,arguments)}}(),removeViewFromDom:()=>(_e&&ee&&(ee.parentNode.insertBefore(_e,ee),ee.remove()),Promise.resolve())}}},4349:(St,We,R)=>{"use strict";R.d(We,{G:()=>we});class W{constructor(ee,ye,Ee,Q,z){this.id=ye,this.name=Ee,this.disableScroll=z,this.priority=1e6*Q+ye,this.ctrl=ee}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const ee=this.ctrl.capture(this.name,this.id,this.priority);return ee&&this.disableScroll&&this.ctrl.disableScroll(this.id),ee}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class O{constructor(ee,ye,Ee,Q){this.id=ye,this.disable=Ee,this.disableScroll=Q,this.ctrl=ee}block(){if(this.ctrl){if(this.disable)for(const ee of this.disable)this.ctrl.disableGesture(ee,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const ee of this.disable)this.ctrl.enableGesture(ee,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const ve="backdrop-no-scroll",we=new class a{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(ee){var ye;return new W(this,this.newID(),ee.name,null!==(ye=ee.priority)&&void 0!==ye?ye:0,!!ee.disableScroll)}createBlocker(ee={}){return new O(this,this.newID(),ee.disable,!!ee.disableScroll)}start(ee,ye,Ee){return this.canStart(ee)?(this.requestedStart.set(ye,Ee),!0):(this.requestedStart.delete(ye),!1)}capture(ee,ye,Ee){if(!this.start(ee,ye,Ee))return!1;const Q=this.requestedStart;let z=-1e4;if(Q.forEach(Z=>{z=Math.max(z,Z)}),z===Ee){this.capturedId=ye,Q.clear();const Z=new CustomEvent("ionGestureCaptured",{detail:{gestureName:ee}});return document.dispatchEvent(Z),!0}return Q.delete(ye),!1}release(ee){this.requestedStart.delete(ee),this.capturedId===ee&&(this.capturedId=void 0)}disableGesture(ee,ye){let Ee=this.disabledGestures.get(ee);void 0===Ee&&(Ee=new Set,this.disabledGestures.set(ee,Ee)),Ee.add(ye)}enableGesture(ee,ye){const Ee=this.disabledGestures.get(ee);void 0!==Ee&&Ee.delete(ye)}disableScroll(ee){this.disabledScroll.add(ee),1===this.disabledScroll.size&&document.body.classList.add(ve)}enableScroll(ee){this.disabledScroll.delete(ee),0===this.disabledScroll.size&&document.body.classList.remove(ve)}canStart(ee){return!(void 0!==this.capturedId||this.isDisabled(ee))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(ee){const ye=this.disabledGestures.get(ee);return!!(ye&&ye.size>0)}newID(){return this.gestureId++,this.gestureId}}},7593:(St,We,R)=>{"use strict";R.r(We),R.d(We,{MENU_BACK_BUTTON_PRIORITY:()=>we,OVERLAY_BACK_BUTTON_PRIORITY:()=>ve,blockHardwareBackButton:()=>W,startHardwareBackButton:()=>O});var a=R(5861);const W=()=>{document.addEventListener("backbutton",()=>{})},O=()=>{const _e=document;let ee=!1;_e.addEventListener("backbutton",()=>{if(ee)return;let ye=0,Ee=[];const Q=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(ie,ue){Ee.push({priority:ie,handler:ue,id:ye++})}}});_e.dispatchEvent(Q);const z=function(){var ie=(0,a.Z)(function*(ue){try{if(null!=ue&&ue.handler){const xe=ue.handler(Z);null!=xe&&(yield xe)}}catch(xe){console.error(xe)}});return function(xe){return ie.apply(this,arguments)}}(),Z=()=>{if(Ee.length>0){let ie={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};Ee.forEach(ue=>{ue.priority>=ie.priority&&(ie=ue)}),ee=!0,Ee=Ee.filter(ue=>ue.id!==ie.id),z(ie).then(()=>ee=!1)}};Z()})},ve=100,we=99},3577:(St,We,R)=>{"use strict";R.d(We,{a:()=>ye,b:()=>Ee,c:()=>O,d:()=>He,e:()=>xe,f:()=>ue,g:()=>Q,h:()=>ie,i:()=>ee,j:()=>be,k:()=>we,l:()=>J,m:()=>ve,n:()=>Z,o:()=>Y,p:()=>Me,q:()=>De,r:()=>z,s:()=>Fe,t:()=>a,u:()=>Re,v:()=>fe});const a=(ae,X=0)=>new Promise(Ue=>{W(ae,X,Ue)}),W=(ae,X=0,Ue)=>{let he,Te;const Ge={passive:!0},Se=()=>{he&&he()},Oe=Be=>{(void 0===Be||ae===Be.target)&&(Se(),Ue(Be))};return ae&&(ae.addEventListener("webkitTransitionEnd",Oe,Ge),ae.addEventListener("transitionend",Oe,Ge),Te=setTimeout(Oe,X+500),he=()=>{Te&&(clearTimeout(Te),Te=void 0),ae.removeEventListener("webkitTransitionEnd",Oe,Ge),ae.removeEventListener("transitionend",Oe,Ge)}),Se},O=(ae,X)=>{ae.componentOnReady?ae.componentOnReady().then(Ue=>X(Ue)):z(()=>X(ae))},ve=ae=>void 0!==ae.componentOnReady,we=(ae,X=[])=>{const Ue={};return X.forEach(he=>{ae.hasAttribute(he)&&(null!==ae.getAttribute(he)&&(Ue[he]=ae.getAttribute(he)),ae.removeAttribute(he))}),Ue},_e=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],ee=(ae,X)=>{let Ue=_e;return X&&X.length>0&&(Ue=Ue.filter(he=>!X.includes(he))),we(ae,Ue)},ye=(ae,X,Ue,he)=>{var Te;if(typeof window<"u"){const Ge=window,Ze=null===(Te=null==Ge?void 0:Ge.Ionic)||void 0===Te?void 0:Te.config;if(Ze){const Se=Ze.get("_ael");if(Se)return Se(ae,X,Ue,he);if(Ze._ael)return Ze._ael(ae,X,Ue,he)}}return ae.addEventListener(X,Ue,he)},Ee=(ae,X,Ue,he)=>{var Te;if(typeof window<"u"){const Ge=window,Ze=null===(Te=null==Ge?void 0:Ge.Ionic)||void 0===Te?void 0:Te.config;if(Ze){const Se=Ze.get("_rel");if(Se)return Se(ae,X,Ue,he);if(Ze._rel)return Ze._rel(ae,X,Ue,he)}}return ae.removeEventListener(X,Ue,he)},Q=(ae,X=ae)=>ae.shadowRoot||X,z=ae=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(ae):"function"==typeof requestAnimationFrame?requestAnimationFrame(ae):setTimeout(ae),Z=ae=>!!ae.shadowRoot&&!!ae.attachShadow,ie=ae=>{const X=ae.closest("ion-item");return X?X.querySelector("ion-label"):null},ue=ae=>{if(ae.focus(),ae.classList.contains("ion-focusable")){const X=ae.closest("ion-app");X&&X.setFocus([ae])}},xe=(ae,X)=>{let Ue;const he=ae.getAttribute("aria-labelledby"),Te=ae.id;let Ge=null!==he&&""!==he.trim()?he:X+"-lbl",Ze=null!==he&&""!==he.trim()?document.getElementById(he):ie(ae);return Ze?(null===he&&(Ze.id=Ge),Ue=Ze.textContent,Ze.setAttribute("aria-hidden","true")):""!==Te.trim()&&(Ze=document.querySelector(`label[for="${Te}"]`),Ze&&(""!==Ze.id?Ge=Ze.id:Ze.id=Ge=`${Te}-lbl`,Ue=Ze.textContent)),{label:Ze,labelId:Ge,labelText:Ue}},He=(ae,X,Ue,he,Te)=>{if(ae||Z(X)){let Ge=X.querySelector("input.aux-input");Ge||(Ge=X.ownerDocument.createElement("input"),Ge.type="hidden",Ge.classList.add("aux-input"),X.appendChild(Ge)),Ge.disabled=Te,Ge.name=Ue,Ge.value=he||""}},J=(ae,X,Ue)=>Math.max(ae,Math.min(X,Ue)),Y=(ae,X)=>{if(!ae){const Ue="ASSERT: "+X;throw console.error(Ue),new Error(Ue)}},fe=ae=>ae.timeStamp||Date.now(),Me=ae=>{if(ae){const X=ae.changedTouches;if(X&&X.length>0){const Ue=X[0];return{x:Ue.clientX,y:Ue.clientY}}if(void 0!==ae.pageX)return{x:ae.pageX,y:ae.pageY}}return{x:0,y:0}},De=ae=>{const X="rtl"===document.dir;switch(ae){case"start":return X;case"end":return!X;default:throw new Error(`"${ae}" is not a valid value for [side]. Use "start" or "end" instead.`)}},be=(ae,X)=>{const Ue=ae._original||ae;return{_original:ae,emit:Re(Ue.emit.bind(Ue),X)}},Re=(ae,X=0)=>{let Ue;return(...he)=>{clearTimeout(Ue),Ue=setTimeout(ae,X,...he)}},Fe=(ae,X)=>{if(null!=ae||(ae={}),null!=X||(X={}),ae===X)return!0;const Ue=Object.keys(ae);if(Ue.length!==Object.keys(X).length)return!1;for(const he of Ue)if(!(he in X)||ae[he]!==X[he])return!1;return!0}},3354:(St,We,R)=>{"use strict";R.d(We,{m:()=>z});var a=R(5861),W=R(7593),O=R(3577),ve=R(6406),we=R(9613);const _e=Z=>(0,we.c)().duration(Z?400:300),ee=Z=>{let ie,ue;const xe=Z.width+8,He=(0,we.c)(),J=(0,we.c)();Z.isEndSide?(ie=xe+"px",ue="0px"):(ie=-xe+"px",ue="0px"),He.addElement(Z.menuInnerEl).fromTo("transform",`translateX(${ie})`,`translateX(${ue})`);const fe="ios"===(0,ve.b)(Z),Me=fe?.2:.25;return J.addElement(Z.backdropEl).fromTo("opacity",.01,Me),_e(fe).addAnimation([He,J])},ye=Z=>{let ie,ue;const xe=(0,ve.b)(Z),He=Z.width;Z.isEndSide?(ie=-He+"px",ue=He+"px"):(ie=He+"px",ue=-He+"px");const J=(0,we.c)().addElement(Z.menuInnerEl).fromTo("transform",`translateX(${ue})`,"translateX(0px)"),Y=(0,we.c)().addElement(Z.contentEl).fromTo("transform","translateX(0px)",`translateX(${ie})`),fe=(0,we.c)().addElement(Z.backdropEl).fromTo("opacity",.01,.32);return _e("ios"===xe).addAnimation([J,Y,fe])},Ee=Z=>{const ie=(0,ve.b)(Z),ue=Z.width*(Z.isEndSide?-1:1)+"px",xe=(0,we.c)().addElement(Z.contentEl).fromTo("transform","translateX(0px)",`translateX(${ue})`);return _e("ios"===ie).addAnimation(xe)},z=(()=>{const Z=new Map,ie=[],ue=function(){var oe=(0,a.Z)(function*(pe){const Le=yield De(pe);return!!Le&&Le.open()});return function(Le){return oe.apply(this,arguments)}}(),xe=function(){var oe=(0,a.Z)(function*(pe){const Le=yield void 0!==pe?De(pe):be();return void 0!==Le&&Le.close()});return function(Le){return oe.apply(this,arguments)}}(),He=function(){var oe=(0,a.Z)(function*(pe){const Le=yield De(pe);return!!Le&&Le.toggle()});return function(Le){return oe.apply(this,arguments)}}(),J=function(){var oe=(0,a.Z)(function*(pe,Le){const qe=yield De(Le);return qe&&(qe.disabled=!pe),qe});return function(Le,qe){return oe.apply(this,arguments)}}(),Y=function(){var oe=(0,a.Z)(function*(pe,Le){const qe=yield De(Le);return qe&&(qe.swipeGesture=pe),qe});return function(Le,qe){return oe.apply(this,arguments)}}(),fe=function(){var oe=(0,a.Z)(function*(pe){if(null!=pe){const Le=yield De(pe);return void 0!==Le&&Le.isOpen()}return void 0!==(yield be())});return function(Le){return oe.apply(this,arguments)}}(),Me=function(){var oe=(0,a.Z)(function*(pe){const Le=yield De(pe);return!!Le&&!Le.disabled});return function(Le){return oe.apply(this,arguments)}}(),De=function(){var oe=(0,a.Z)(function*(pe){return yield le(),"start"===pe||"end"===pe?Be(pt=>pt.side===pe&&!pt.disabled)||Be(pt=>pt.side===pe):null!=pe?Be(qe=>qe.menuId===pe):Be(qe=>!qe.disabled)||(ie.length>0?ie[0].el:void 0)});return function(Le){return oe.apply(this,arguments)}}(),be=function(){var oe=(0,a.Z)(function*(){return yield le(),Ze()});return function(){return oe.apply(this,arguments)}}(),Re=function(){var oe=(0,a.Z)(function*(){return yield le(),Se()});return function(){return oe.apply(this,arguments)}}(),Fe=function(){var oe=(0,a.Z)(function*(){return yield le(),Oe()});return function(){return oe.apply(this,arguments)}}(),ae=(oe,pe)=>{Z.set(oe,pe)},he=oe=>{const pe=oe.side;ie.filter(Le=>Le.side===pe&&Le!==oe).forEach(Le=>Le.disabled=!0)},Te=function(){var oe=(0,a.Z)(function*(pe,Le,qe){if(Oe())return!1;if(Le){const pt=yield be();pt&&pe.el!==pt&&(yield pt.setOpen(!1,!1))}return pe._setOpen(Le,qe)});return function(Le,qe,pt){return oe.apply(this,arguments)}}(),Ze=()=>Be(oe=>oe._isOpen),Se=()=>ie.map(oe=>oe.el),Oe=()=>ie.some(oe=>oe.isAnimating),Be=oe=>{const pe=ie.find(oe);if(void 0!==pe)return pe.el},le=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(oe=>new Promise(pe=>(0,O.c)(oe,pe))));return ae("reveal",Ee),ae("push",ye),ae("overlay",ee),typeof document<"u"&&document.addEventListener("ionBackButton",oe=>{const pe=Ze();pe&&oe.detail.register(W.MENU_BACK_BUTTON_PRIORITY,()=>pe.close())}),{registerAnimation:ae,get:De,getMenus:Re,getOpen:be,isEnabled:Me,swipeGesture:Y,isAnimating:Fe,isOpen:fe,enable:J,toggle:He,close:xe,open:ue,_getOpenSync:Ze,_createAnimation:(oe,pe)=>{const Le=Z.get(oe);if(!Le)throw new Error("animation not registered");return Le(pe)},_register:oe=>{ie.indexOf(oe)<0&&(oe.disabled||he(oe),ie.push(oe))},_unregister:oe=>{const pe=ie.indexOf(oe);pe>-1&&ie.splice(pe,1)},_setOpen:Te,_setActiveMenu:he}})()},3457:(St,We,R)=>{"use strict";R.d(We,{w:()=>a});const a=typeof window<"u"?window:void 0},1898:(St,We,R)=>{"use strict";R.r(We),R.d(We,{GESTURE_CONTROLLER:()=>a.G,createGesture:()=>Ee});var a=R(4349);const W=(ie,ue,xe,He)=>{const J=O(ie)?{capture:!!He.capture,passive:!!He.passive}:!!He.capture;let Y,fe;return ie.__zone_symbol__addEventListener?(Y="__zone_symbol__addEventListener",fe="__zone_symbol__removeEventListener"):(Y="addEventListener",fe="removeEventListener"),ie[Y](ue,xe,J),()=>{ie[fe](ue,xe,J)}},O=ie=>{if(void 0===ve)try{const ue=Object.defineProperty({},"passive",{get:()=>{ve=!0}});ie.addEventListener("optsTest",()=>{},ue)}catch{ve=!1}return!!ve};let ve;const ee=ie=>ie instanceof Document?ie:ie.ownerDocument,Ee=ie=>{let ue=!1,xe=!1,He=!0,J=!1;const Y=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},ie),fe=Y.canStart,Me=Y.onWillStart,De=Y.onStart,be=Y.onEnd,Re=Y.notCaptured,Fe=Y.onMove,ae=Y.threshold,X=Y.passive,Ue=Y.blurOnStart,he={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},Te=((ie,ue,xe)=>{const He=xe*(Math.PI/180),J="x"===ie,Y=Math.cos(He),fe=ue*ue;let Me=0,De=0,be=!1,Re=0;return{start(Fe,ae){Me=Fe,De=ae,Re=0,be=!0},detect(Fe,ae){if(!be)return!1;const X=Fe-Me,Ue=ae-De,he=X*X+Ue*Ue;if(he<fe)return!1;const Te=Math.sqrt(he),Ge=(J?X:Ue)/Te;return Re=Ge>Y?1:Ge<-Y?-1:0,be=!1,!0},isGesture:()=>0!==Re,getDirection:()=>Re}})(Y.direction,Y.threshold,Y.maxAngle),Ge=a.G.createGesture({name:ie.gestureName,priority:ie.gesturePriority,disableScroll:ie.disableScroll}),Oe=()=>{ue&&(J=!1,Fe&&Fe(he))},Be=()=>!!Ge.capture()&&(ue=!0,He=!1,he.startX=he.currentX,he.startY=he.currentY,he.startTime=he.currentTime,Me?Me(he).then(oe):oe(),!0),oe=()=>{Ue&&(()=>{if(typeof document<"u"){const dt=document.activeElement;null!=dt&&dt.blur&&dt.blur()}})(),De&&De(he),He=!0},pe=()=>{ue=!1,xe=!1,J=!1,He=!0,Ge.release()},Le=dt=>{const Rt=ue,$e=He;if(pe(),$e){if(Q(he,dt),Rt)return void(be&&be(he));Re&&Re(he)}},qe=((ie,ue,xe,He,J)=>{let Y,fe,Me,De,be,Re,Fe,ae=0;const X=le=>{ae=Date.now()+2e3,ue(le)&&(!fe&&xe&&(fe=W(ie,"touchmove",xe,J)),Me||(Me=W(le.target,"touchend",he,J)),De||(De=W(le.target,"touchcancel",he,J)))},Ue=le=>{ae>Date.now()||ue(le)&&(!Re&&xe&&(Re=W(ee(ie),"mousemove",xe,J)),Fe||(Fe=W(ee(ie),"mouseup",Te,J)))},he=le=>{Ge(),He&&He(le)},Te=le=>{Ze(),He&&He(le)},Ge=()=>{fe&&fe(),Me&&Me(),De&&De(),fe=Me=De=void 0},Ze=()=>{Re&&Re(),Fe&&Fe(),Re=Fe=void 0},Se=()=>{Ge(),Ze()},Oe=(le=!0)=>{le?(Y||(Y=W(ie,"touchstart",X,J)),be||(be=W(ie,"mousedown",Ue,J))):(Y&&Y(),be&&be(),Y=be=void 0,Se())};return{enable:Oe,stop:Se,destroy:()=>{Oe(!1),He=xe=ue=void 0}}})(Y.el,dt=>{const Rt=Z(dt);return!(xe||!He||(z(dt,he),he.startX=he.currentX,he.startY=he.currentY,he.startTime=he.currentTime=Rt,he.velocityX=he.velocityY=he.deltaX=he.deltaY=0,he.event=dt,fe&&!1===fe(he))||(Ge.release(),!Ge.start()))&&(xe=!0,0===ae?Be():(Te.start(he.startX,he.startY),!0))},dt=>{ue?!J&&He&&(J=!0,Q(he,dt),requestAnimationFrame(Oe)):(Q(he,dt),Te.detect(he.currentX,he.currentY)&&(!Te.isGesture()||!Be())&&pt())},Le,{capture:!1,passive:X}),pt=()=>{pe(),qe.stop(),Re&&Re(he)};return{enable(dt=!0){dt||(ue&&Le(void 0),pe()),qe.enable(dt)},destroy(){Ge.destroy(),qe.destroy()}}},Q=(ie,ue)=>{if(!ue)return;const xe=ie.currentX,He=ie.currentY,J=ie.currentTime;z(ue,ie);const Y=ie.currentX,fe=ie.currentY,De=(ie.currentTime=Z(ue))-J;if(De>0&&De<100){const Re=(fe-He)/De;ie.velocityX=(Y-xe)/De*.7+.3*ie.velocityX,ie.velocityY=.7*Re+.3*ie.velocityY}ie.deltaX=Y-ie.startX,ie.deltaY=fe-ie.startY,ie.event=ue},z=(ie,ue)=>{let xe=0,He=0;if(ie){const J=ie.changedTouches;if(J&&J.length>0){const Y=J[0];xe=Y.clientX,He=Y.clientY}else void 0!==ie.pageX&&(xe=ie.pageX,He=ie.pageY)}ue.currentX=xe,ue.currentY=He},Z=ie=>ie.timeStamp||Date.now()},9816:(St,We,R)=>{"use strict";R.d(We,{B:()=>z,H:()=>Se,a:()=>ms,b:()=>Xt,c:()=>dt,d:()=>Je,e:()=>Vi,f:()=>Ce,g:()=>Rt,h:()=>Ge,i:()=>Nr,j:()=>Z,p:()=>Bi,r:()=>et,w:()=>ir});var a=R(5861);let O,ve,we,_e=!1,ee=!1,ye=!1,Ee=!1,Q=!1;const z={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},Z=k=>{const H=new URL(k,sn.$resourcesUrl$);return H.origin!==wn.location.origin?H.href:H.pathname},fe="s-id",Me="sty-id",Re="http://www.w3.org/1999/xlink",Fe={},he=k=>"object"==(k=typeof k)||"function"===k;function Te(k){var H,te,$;return null!==($=null===(te=null===(H=k.head)||void 0===H?void 0:H.querySelector('meta[name="csp-nonce"]'))||void 0===te?void 0:te.getAttribute("content"))&&void 0!==$?$:void 0}const Ge=(k,H,...te)=>{let $=null,se=null,ce=null,Ye=!1,Qe=!1;const rt=[],st=Yt=>{for(let qt=0;qt<Yt.length;qt++)$=Yt[qt],Array.isArray($)?st($):null!=$&&"boolean"!=typeof $&&((Ye="function"!=typeof k&&!he($))&&($=String($)),Ye&&Qe?rt[rt.length-1].$text$+=$:rt.push(Ye?Ze(null,$):$),Qe=Ye)};if(st(te),H){H.key&&(se=H.key),H.name&&(ce=H.name);{const Yt=H.className||H.class;Yt&&(H.class="object"!=typeof Yt?Yt:Object.keys(Yt).filter(qt=>Yt[qt]).join(" "))}}if("function"==typeof k)return k(null===H?{}:H,rt,Be);const bt=Ze(k,null);return bt.$attrs$=H,rt.length>0&&(bt.$children$=rt),bt.$key$=se,bt.$name$=ce,bt},Ze=(k,H)=>({$flags$:0,$tag$:k,$text$:H,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),Se={},Be={forEach:(k,H)=>k.map(le).forEach(H),map:(k,H)=>k.map(le).map(H).map(oe)},le=k=>({vattrs:k.$attrs$,vchildren:k.$children$,vkey:k.$key$,vname:k.$name$,vtag:k.$tag$,vtext:k.$text$}),oe=k=>{if("function"==typeof k.vtag){const te=Object.assign({},k.vattrs);return k.vkey&&(te.key=k.vkey),k.vname&&(te.name=k.vname),Ge(k.vtag,te,...k.vchildren||[])}const H=Ze(k.vtag,k.vtext);return H.$attrs$=k.vattrs,H.$children$=k.vchildren,H.$key$=k.vkey,H.$name$=k.vname,H},Le=(k,H,te,$,se,ce,Ye)=>{let Qe,rt,st,bt;if(1===ce.nodeType){for(Qe=ce.getAttribute("c-id"),Qe&&(rt=Qe.split("."),(rt[0]===Ye||"0"===rt[0])&&(st={$flags$:0,$hostId$:rt[0],$nodeId$:rt[1],$depth$:rt[2],$index$:rt[3],$tag$:ce.tagName.toLowerCase(),$elm$:ce,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},H.push(st),ce.removeAttribute("c-id"),k.$children$||(k.$children$=[]),k.$children$[st.$index$]=st,k=st,$&&"0"===st.$depth$&&($[st.$index$]=st.$elm$))),bt=ce.childNodes.length-1;bt>=0;bt--)Le(k,H,te,$,se,ce.childNodes[bt],Ye);if(ce.shadowRoot)for(bt=ce.shadowRoot.childNodes.length-1;bt>=0;bt--)Le(k,H,te,$,se,ce.shadowRoot.childNodes[bt],Ye)}else if(8===ce.nodeType)rt=ce.nodeValue.split("."),(rt[1]===Ye||"0"===rt[1])&&(Qe=rt[0],st={$flags$:0,$hostId$:rt[1],$nodeId$:rt[2],$depth$:rt[3],$index$:rt[4],$elm$:ce,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Qe?(st.$elm$=ce.nextSibling,st.$elm$&&3===st.$elm$.nodeType&&(st.$text$=st.$elm$.textContent,H.push(st),ce.remove(),k.$children$||(k.$children$=[]),k.$children$[st.$index$]=st,$&&"0"===st.$depth$&&($[st.$index$]=st.$elm$))):st.$hostId$===Ye&&("s"===Qe?(st.$tag$="slot",ce["s-sn"]=rt[5]?st.$name$=rt[5]:"",ce["s-sr"]=!0,$&&(st.$elm$=hn.createElement(st.$tag$),st.$name$&&st.$elm$.setAttribute("name",st.$name$),ce.parentNode.insertBefore(st.$elm$,ce),ce.remove(),"0"===st.$depth$&&($[st.$index$]=st.$elm$)),te.push(st),k.$children$||(k.$children$=[]),k.$children$[st.$index$]=st):"r"===Qe&&($?ce.remove():(se["s-cr"]=ce,ce["s-cn"]=!0))));else if(k&&"style"===k.$tag$){const Yt=Ze(null,ce.textContent);Yt.$elm$=ce,Yt.$index$="0",k.$children$=[Yt]}},qe=(k,H)=>{if(1===k.nodeType){let te=0;for(;te<k.childNodes.length;te++)qe(k.childNodes[te],H);if(k.shadowRoot)for(te=0;te<k.shadowRoot.childNodes.length;te++)qe(k.shadowRoot.childNodes[te],H)}else if(8===k.nodeType){const te=k.nodeValue.split(".");"o"===te[0]&&(H.set(te[1]+"."+te[2],k),k.nodeValue="",k["s-en"]=te[3])}},dt=k=>Fn.push(k),Rt=k=>Fr(k).$modeName$,Ce=k=>Fr(k).$hostElement$,Je=(k,H,te)=>{const $=Ce(k);return{emit:se=>ht($,H,{bubbles:!!(4&te),composed:!!(2&te),cancelable:!!(1&te),detail:se})}},ht=(k,H,te)=>{const $=sn.ce(H,te);return k.dispatchEvent($),$},jt=new WeakMap,Kt=(k,H,te)=>{let $=Lt.get(k);Ar&&te?($=$||new CSSStyleSheet,"string"==typeof $?$=H:$.replaceSync(H)):$=H,Lt.set(k,$)},$t=(k,H,te,$)=>{var se;let ce=un(H,te);const Ye=Lt.get(ce);if(k=11===k.nodeType?k:hn,Ye)if("string"==typeof Ye){let rt,Qe=jt.get(k=k.head||k);if(Qe||jt.set(k,Qe=new Set),!Qe.has(ce)){if(k.host&&(rt=k.querySelector(`[${Me}="${ce}"]`)))rt.innerHTML=Ye;else{rt=hn.createElement("style"),rt.innerHTML=Ye;const st=null!==(se=sn.$nonce$)&&void 0!==se?se:Te(hn);null!=st&&rt.setAttribute("nonce",st),k.insertBefore(rt,k.querySelector("link"))}Qe&&Qe.add(ce)}}else k.adoptedStyleSheets.includes(Ye)||(k.adoptedStyleSheets=[...k.adoptedStyleSheets,Ye]);return ce},un=(k,H)=>"sc-"+(H&&32&k.$flags$?k.$tagName$+"-"+H:k.$tagName$),Nn=k=>k.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),ar=(k,H,te,$,se,ce)=>{if(te!==$){let Ye=at(k,H),Qe=H.toLowerCase();if("class"===H){const rt=k.classList,st=Ut(te),bt=Ut($);rt.remove(...st.filter(Yt=>Yt&&!bt.includes(Yt))),rt.add(...bt.filter(Yt=>Yt&&!st.includes(Yt)))}else if("style"===H){for(const rt in te)(!$||null==$[rt])&&(rt.includes("-")?k.style.removeProperty(rt):k.style[rt]="");for(const rt in $)(!te||$[rt]!==te[rt])&&(rt.includes("-")?k.style.setProperty(rt,$[rt]):k.style[rt]=$[rt])}else if("key"!==H)if("ref"===H)$&&$(k);else if(Ye||"o"!==H[0]||"n"!==H[1]){const rt=he($);if((Ye||rt&&null!==$)&&!se)try{if(k.tagName.includes("-"))k[H]=$;else{const bt=null==$?"":$;"list"===H?Ye=!1:(null==te||k[H]!=bt)&&(k[H]=bt)}}catch{}let st=!1;Qe!==(Qe=Qe.replace(/^xlink\:?/,""))&&(H=Qe,st=!0),null==$||!1===$?(!1!==$||""===k.getAttribute(H))&&(st?k.removeAttributeNS(Re,H):k.removeAttribute(H)):(!Ye||4&ce||se)&&!rt&&($=!0===$?"":$,st?k.setAttributeNS(Re,H,$):k.setAttribute(H,$))}else H="-"===H[2]?H.slice(3):at(wn,Qe)?Qe.slice(2):Qe[2]+H.slice(3),te&&sn.rel(k,H,te,!1),$&&sn.ael(k,H,$,!1)}},Un=/\s/,Ut=k=>k?k.split(Un):[],Bn=(k,H,te,$)=>{const se=11===H.$elm$.nodeType&&H.$elm$.host?H.$elm$.host:H.$elm$,ce=k&&k.$attrs$||Fe,Ye=H.$attrs$||Fe;for($ in ce)$ in Ye||ar(se,$,ce[$],void 0,te,H.$flags$);for($ in Ye)ar(se,$,ce[$],Ye[$],te,H.$flags$)},pi=(k,H,te,$)=>{const se=H.$children$[te];let Ye,Qe,rt,ce=0;if(_e||(ye=!0,"slot"===se.$tag$&&(O&&$.classList.add(O+"-s"),se.$flags$|=se.$children$?2:1)),null!==se.$text$)Ye=se.$elm$=hn.createTextNode(se.$text$);else if(1&se.$flags$)Ye=se.$elm$=hn.createTextNode("");else{if(Ee||(Ee="svg"===se.$tag$),Ye=se.$elm$=hn.createElementNS(Ee?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&se.$flags$?"slot-fb":se.$tag$),Ee&&"foreignObject"===se.$tag$&&(Ee=!1),Bn(null,se,Ee),(k=>null!=k)(O)&&Ye["s-si"]!==O&&Ye.classList.add(Ye["s-si"]=O),se.$children$)for(ce=0;ce<se.$children$.length;++ce)Qe=pi(k,se,ce,Ye),Qe&&Ye.appendChild(Qe);"svg"===se.$tag$?Ee=!1:"foreignObject"===Ye.tagName&&(Ee=!0)}return Ye["s-hn"]=we,3&se.$flags$&&(Ye["s-sr"]=!0,Ye["s-cr"]=ve,Ye["s-sn"]=se.$name$||"",rt=k&&k.$children$&&k.$children$[te],rt&&rt.$tag$===se.$tag$&&k.$elm$&&Rn(k.$elm$,!1)),Ye},Rn=(k,H)=>{sn.$flags$|=1;const te=k.childNodes;for(let $=te.length-1;$>=0;$--){const se=te[$];se["s-hn"]!==we&&se["s-ol"]&&(on(se).insertBefore(se,Ft(se)),se["s-ol"].remove(),se["s-ol"]=void 0,ye=!0),H&&Rn(se,H)}sn.$flags$&=-2},Rr=(k,H,te,$,se,ce)=>{let Qe,Ye=k["s-cr"]&&k["s-cr"].parentNode||k;for(Ye.shadowRoot&&Ye.tagName===we&&(Ye=Ye.shadowRoot);se<=ce;++se)$[se]&&(Qe=pi(null,te,se,k),Qe&&($[se].$elm$=Qe,Ye.insertBefore(Qe,Ft(H))))},Or=(k,H,te,$,se)=>{for(;H<=te;++H)($=k[H])&&(se=$.$elm$,mr($),ee=!0,se["s-ol"]?se["s-ol"].remove():Rn(se,!0),se.remove())},dn=(k,H)=>k.$tag$===H.$tag$&&("slot"===k.$tag$?k.$name$===H.$name$:k.$key$===H.$key$),Ft=k=>k&&k["s-ol"]||k,on=k=>(k["s-ol"]?k["s-ol"]:k).parentNode,zn=(k,H)=>{const te=H.$elm$=k.$elm$,$=k.$children$,se=H.$children$,ce=H.$tag$,Ye=H.$text$;let Qe;null===Ye?(Ee="svg"===ce||"foreignObject"!==ce&&Ee,"slot"===ce||Bn(k,H,Ee),null!==$&&null!==se?((k,H,te,$)=>{let Er,Ii,se=0,ce=0,Ye=0,Qe=0,rt=H.length-1,st=H[0],bt=H[rt],Yt=$.length-1,qt=$[0],cn=$[Yt];for(;se<=rt&&ce<=Yt;)if(null==st)st=H[++se];else if(null==bt)bt=H[--rt];else if(null==qt)qt=$[++ce];else if(null==cn)cn=$[--Yt];else if(dn(st,qt))zn(st,qt),st=H[++se],qt=$[++ce];else if(dn(bt,cn))zn(bt,cn),bt=H[--rt],cn=$[--Yt];else if(dn(st,cn))("slot"===st.$tag$||"slot"===cn.$tag$)&&Rn(st.$elm$.parentNode,!1),zn(st,cn),k.insertBefore(st.$elm$,bt.$elm$.nextSibling),st=H[++se],cn=$[--Yt];else if(dn(bt,qt))("slot"===st.$tag$||"slot"===cn.$tag$)&&Rn(bt.$elm$.parentNode,!1),zn(bt,qt),k.insertBefore(bt.$elm$,st.$elm$),bt=H[--rt],qt=$[++ce];else{for(Ye=-1,Qe=se;Qe<=rt;++Qe)if(H[Qe]&&null!==H[Qe].$key$&&H[Qe].$key$===qt.$key$){Ye=Qe;break}Ye>=0?(Ii=H[Ye],Ii.$tag$!==qt.$tag$?Er=pi(H&&H[ce],te,Ye,k):(zn(Ii,qt),H[Ye]=void 0,Er=Ii.$elm$),qt=$[++ce]):(Er=pi(H&&H[ce],te,ce,k),qt=$[++ce]),Er&&on(st.$elm$).insertBefore(Er,Ft(st.$elm$))}se>rt?Rr(k,null==$[Yt+1]?null:$[Yt+1].$elm$,te,$,ce,Yt):ce>Yt&&Or(H,se,rt)})(te,$,H,se):null!==se?(null!==k.$text$&&(te.textContent=""),Rr(te,null,H,se,0,se.length-1)):null!==$&&Or($,0,$.length-1),Ee&&"svg"===ce&&(Ee=!1)):(Qe=te["s-cr"])?Qe.parentNode.textContent=Ye:k.$text$!==Ye&&(te.data=Ye)},Sr=k=>{const H=k.childNodes;let te,$,se,ce,Ye,Qe;for($=0,se=H.length;$<se;$++)if(te=H[$],1===te.nodeType){if(te["s-sr"])for(Ye=te["s-sn"],te.hidden=!1,ce=0;ce<se;ce++)if(Qe=H[ce].nodeType,H[ce]["s-hn"]!==te["s-hn"]||""!==Ye){if(1===Qe&&Ye===H[ce].getAttribute("slot")){te.hidden=!0;break}}else if(1===Qe||3===Qe&&""!==H[ce].textContent.trim()){te.hidden=!0;break}Sr(te)}},kn=[],kr=k=>{let H,te,$,se,ce,Ye,Qe=0;const rt=k.childNodes,st=rt.length;for(;Qe<st;Qe++){if(H=rt[Qe],H["s-sr"]&&(te=H["s-cr"])&&te.parentNode)for($=te.parentNode.childNodes,se=H["s-sn"],Ye=$.length-1;Ye>=0;Ye--)te=$[Ye],!te["s-cn"]&&!te["s-nr"]&&te["s-hn"]!==H["s-hn"]&&(nr(te,se)?(ce=kn.find(bt=>bt.$nodeToRelocate$===te),ee=!0,te["s-sn"]=te["s-sn"]||se,ce?ce.$slotRefNode$=H:kn.push({$slotRefNode$:H,$nodeToRelocate$:te}),te["s-sr"]&&kn.map(bt=>{nr(bt.$nodeToRelocate$,te["s-sn"])&&(ce=kn.find(Yt=>Yt.$nodeToRelocate$===te),ce&&!bt.$slotRefNode$&&(bt.$slotRefNode$=ce.$slotRefNode$))})):kn.some(bt=>bt.$nodeToRelocate$===te)||kn.push({$nodeToRelocate$:te}));1===H.nodeType&&kr(H)}},nr=(k,H)=>1===k.nodeType?null===k.getAttribute("slot")&&""===H||k.getAttribute("slot")===H:k["s-sn"]===H||""===H,mr=k=>{k.$attrs$&&k.$attrs$.ref&&k.$attrs$.ref(null),k.$children$&&k.$children$.map(mr)},ri=(k,H)=>{H&&!k.$onRenderResolve$&&H["s-p"]&&H["s-p"].push(new Promise(te=>k.$onRenderResolve$=te))},pn=(k,H)=>{if(k.$flags$|=16,!(4&k.$flags$))return ri(k,k.$ancestorComponent$),ir(()=>ii(k,H));k.$flags$|=512},ii=(k,H)=>{const $=k.$lazyInstance$;let se;return H&&(k.$flags$|=256,k.$queuedListeners$&&(k.$queuedListeners$.map(([ce,Ye])=>cr($,ce,Ye)),k.$queuedListeners$=null),se=cr($,"componentWillLoad")),se=fr(se,()=>cr($,"componentWillRender")),fr(se,()=>gn(k,$,H))},gn=function(){var k=(0,a.Z)(function*(H,te,$){const se=H.$hostElement$,Ye=se["s-rc"];$&&(k=>{const H=k.$cmpMeta$,te=k.$hostElement$,$=H.$flags$,ce=$t(te.shadowRoot?te.shadowRoot:te.getRootNode(),H,k.$modeName$);10&$&&(te["s-sc"]=ce,te.classList.add(ce+"-h"),2&$&&te.classList.add(ce+"-s"))})(H);hr(H,te),Ye&&(Ye.map(rt=>rt()),se["s-rc"]=void 0);{const rt=se["s-p"],st=()=>rr(H);0===rt.length?st():(Promise.all(rt).then(st),H.$flags$|=4,rt.length=0)}});return function(te,$,se){return k.apply(this,arguments)}}(),hr=(k,H,te)=>{try{H=H.render&&H.render(),k.$flags$&=-17,k.$flags$|=2,((k,H)=>{const te=k.$hostElement$,$=k.$cmpMeta$,se=k.$vnode$||Ze(null,null),ce=(k=>k&&k.$tag$===Se)(H)?H:Ge(null,null,H);if(we=te.tagName,$.$attrsToReflect$&&(ce.$attrs$=ce.$attrs$||{},$.$attrsToReflect$.map(([Ye,Qe])=>ce.$attrs$[Qe]=te[Ye])),ce.$tag$=null,ce.$flags$|=4,k.$vnode$=ce,ce.$elm$=se.$elm$=te.shadowRoot||te,O=te["s-sc"],ve=te["s-cr"],_e=0!=(1&$.$flags$),ee=!1,zn(se,ce),sn.$flags$|=1,ye){kr(ce.$elm$);let Ye,Qe,rt,st,bt,Yt,qt=0;for(;qt<kn.length;qt++)Ye=kn[qt],Qe=Ye.$nodeToRelocate$,Qe["s-ol"]||(rt=hn.createTextNode(""),rt["s-nr"]=Qe,Qe.parentNode.insertBefore(Qe["s-ol"]=rt,Qe));for(qt=0;qt<kn.length;qt++)if(Ye=kn[qt],Qe=Ye.$nodeToRelocate$,Ye.$slotRefNode$){for(st=Ye.$slotRefNode$.parentNode,bt=Ye.$slotRefNode$.nextSibling,rt=Qe["s-ol"];rt=rt.previousSibling;)if(Yt=rt["s-nr"],Yt&&Yt["s-sn"]===Qe["s-sn"]&&st===Yt.parentNode&&(Yt=Yt.nextSibling,!Yt||!Yt["s-nr"])){bt=Yt;break}(!bt&&st!==Qe.parentNode||Qe.nextSibling!==bt)&&Qe!==bt&&(!Qe["s-hn"]&&Qe["s-ol"]&&(Qe["s-hn"]=Qe["s-ol"].parentNode.nodeName),st.insertBefore(Qe,bt))}else 1===Qe.nodeType&&(Qe.hidden=!0)}ee&&Sr(ce.$elm$),sn.$flags$&=-2,kn.length=0})(k,H)}catch($){Ot($,k.$hostElement$)}return null},rr=k=>{const te=k.$hostElement$,se=k.$lazyInstance$,ce=k.$ancestorComponent$;cr(se,"componentDidRender"),64&k.$flags$?cr(se,"componentDidUpdate"):(k.$flags$|=64,pr(te),cr(se,"componentDidLoad"),k.$onReadyResolve$(te),ce||lr()),k.$onInstanceResolve$(te),k.$onRenderResolve$&&(k.$onRenderResolve$(),k.$onRenderResolve$=void 0),512&k.$flags$&&yr(()=>pn(k,!1)),k.$flags$&=-517},Nr=k=>{{const H=Fr(k),te=H.$hostElement$.isConnected;return te&&2==(18&H.$flags$)&&pn(H,!1),te}},lr=k=>{pr(hn.documentElement),yr(()=>ht(wn,"appload",{detail:{namespace:"ionic"}}))},cr=(k,H,te)=>{if(k&&k[H])try{return k[H](te)}catch($){Ot($)}},fr=(k,H)=>k&&k.then?k.then(H):H(),pr=k=>k.classList.add("hydrated"),L=(k,H,te)=>{if(H.$members$){k.watchers&&(H.$watchers$=k.watchers);const $=Object.entries(H.$members$),se=k.prototype;if($.map(([ce,[Ye]])=>{31&Ye||2&te&&32&Ye?Object.defineProperty(se,ce,{get(){return((k,H)=>Fr(this).$instanceValues$.get(H))(0,ce)},set(Qe){((k,H,te,$)=>{const se=Fr(k),ce=se.$hostElement$,Ye=se.$instanceValues$.get(H),Qe=se.$flags$,rt=se.$lazyInstance$;te=((k,H)=>null==k||he(k)?k:4&H?"false"!==k&&(""===k||!!k):2&H?parseFloat(k):1&H?String(k):k)(te,$.$members$[H][0]);const st=Number.isNaN(Ye)&&Number.isNaN(te);if((!(8&Qe)||void 0===Ye)&&te!==Ye&&!st&&(se.$instanceValues$.set(H,te),rt)){if($.$watchers$&&128&Qe){const Yt=$.$watchers$[H];Yt&&Yt.map(qt=>{try{rt[qt](te,Ye,H)}catch(cn){Ot(cn,ce)}})}2==(18&Qe)&&pn(se,!1)}})(this,ce,Qe,H)},configurable:!0,enumerable:!0}):1&te&&64&Ye&&Object.defineProperty(se,ce,{value(...Qe){const rt=Fr(this);return rt.$onInstancePromise$.then(()=>rt.$lazyInstance$[ce](...Qe))}})}),1&te){const ce=new Map;se.attributeChangedCallback=function(Ye,Qe,rt){sn.jmp(()=>{const st=ce.get(Ye);if(this.hasOwnProperty(st))rt=this[st],delete this[st];else if(se.hasOwnProperty(st)&&"number"==typeof this[st]&&this[st]==rt)return;this[st]=(null!==rt||"boolean"!=typeof this[st])&&rt})},k.observedAttributes=$.filter(([Ye,Qe])=>15&Qe[0]).map(([Ye,Qe])=>{const rt=Qe[1]||Ye;return ce.set(rt,Ye),512&Qe[0]&&H.$attrsToReflect$.push([Ye,rt]),rt})}}return k},B=function(){var k=(0,a.Z)(function*(H,te,$,se,ce){if(!(32&te.$flags$)){{if(te.$flags$|=32,(ce=In($)).then){const st=()=>{};ce=yield ce,st()}ce.isProxied||($.$watchers$=ce.watchers,L(ce,$,2),ce.isProxied=!0);const rt=()=>{};te.$flags$|=8;try{new ce(te)}catch(st){Ot(st)}te.$flags$&=-9,te.$flags$|=128,rt(),N(te.$lazyInstance$)}if(ce.style){let rt=ce.style;"string"!=typeof rt&&(rt=rt[te.$modeName$=(k=>Fn.map(H=>H(k)).find(H=>!!H))(H)]);const st=un($,te.$modeName$);if(!Lt.has(st)){const bt=()=>{};Kt(st,rt,!!(1&$.$flags$)),bt()}}}const Ye=te.$ancestorComponent$,Qe=()=>pn(te,!0);Ye&&Ye["s-rc"]?Ye["s-rc"].push(Qe):Qe()});return function(te,$,se,ce,Ye){return k.apply(this,arguments)}}(),N=k=>{cr(k,"connectedCallback")},it=k=>{const H=k["s-cr"]=hn.createComment("");H["s-cn"]=!0,k.insertBefore(H,k.firstChild)},Xt=(k,H={})=>{var te;const se=[],ce=H.exclude||[],Ye=wn.customElements,Qe=hn.head,rt=Qe.querySelector("meta[charset]"),st=hn.createElement("style"),bt=[],Yt=hn.querySelectorAll(`[${Me}]`);let qt,cn=!0,Er=0;for(Object.assign(sn,H),sn.$resourcesUrl$=new URL(H.resourcesUrl||"./",hn.baseURI).href,sn.$flags$|=2;Er<Yt.length;Er++)Kt(Yt[Er].getAttribute(Me),Nn(Yt[Er].innerHTML),!0);k.map(Ii=>{Ii[1].map(oo=>{const gi={$flags$:oo[0],$tagName$:oo[1],$members$:oo[2],$listeners$:oo[3]};gi.$members$=oo[2],gi.$listeners$=oo[3],gi.$attrsToReflect$=[],gi.$watchers$={};const Ki=gi.$tagName$,Ko=class extends HTMLElement{constructor(xr){super(xr),ke(xr=this,gi),1&gi.$flags$&&xr.attachShadow({mode:"open",delegatesFocus:!!(16&gi.$flags$)})}connectedCallback(){qt&&(clearTimeout(qt),qt=null),cn?bt.push(this):sn.jmp(()=>(k=>{if(!(1&sn.$flags$)){const H=Fr(k),te=H.$cmpMeta$,$=()=>{};if(1&H.$flags$)Zt(k,H,te.$listeners$),N(H.$lazyInstance$);else{let se;if(H.$flags$|=1,se=k.getAttribute(fe),se){if(1&te.$flags$){const ce=$t(k.shadowRoot,te,k.getAttribute("s-mode"));k.classList.remove(ce+"-h",ce+"-s")}((k,H,te,$)=>{const ce=k.shadowRoot,Ye=[],rt=ce?[]:null,st=$.$vnode$=Ze(H,null);sn.$orgLocNodes$||qe(hn.body,sn.$orgLocNodes$=new Map),k[fe]=te,k.removeAttribute(fe),Le(st,Ye,[],rt,k,k,te),Ye.map(bt=>{const Yt=bt.$hostId$+"."+bt.$nodeId$,qt=sn.$orgLocNodes$.get(Yt),cn=bt.$elm$;qt&&sl&&""===qt["s-en"]&&qt.parentNode.insertBefore(cn,qt.nextSibling),ce||(cn["s-hn"]=H,qt&&(cn["s-ol"]=qt,cn["s-ol"]["s-nr"]=cn)),sn.$orgLocNodes$.delete(Yt)}),ce&&rt.map(bt=>{bt&&ce.appendChild(bt)})})(k,te.$tagName$,se,H)}se||12&te.$flags$&&it(k);{let ce=k;for(;ce=ce.parentNode||ce.host;)if(1===ce.nodeType&&ce.hasAttribute("s-id")&&ce["s-p"]||ce["s-p"]){ri(H,H.$ancestorComponent$=ce);break}}te.$members$&&Object.entries(te.$members$).map(([ce,[Ye]])=>{if(31&Ye&&k.hasOwnProperty(ce)){const Qe=k[ce];delete k[ce],k[ce]=Qe}}),B(k,H,te)}$()}})(this))}disconnectedCallback(){sn.jmp(()=>(k=>{if(!(1&sn.$flags$)){const H=Fr(this),te=H.$lazyInstance$;H.$rmListeners$&&(H.$rmListeners$.map($=>$()),H.$rmListeners$=void 0),cr(te,"disconnectedCallback")}})())}componentOnReady(){return Fr(this).$onReadyPromise$}};gi.$lazyBundleId$=Ii[0],!ce.includes(Ki)&&!Ye.get(Ki)&&(se.push(Ki),Ye.define(Ki,L(Ko,gi,1)))})});{st.innerHTML=se+"{visibility:hidden}.hydrated{visibility:inherit}",st.setAttribute("data-styles","");const Ii=null!==(te=sn.$nonce$)&&void 0!==te?te:Te(hn);null!=Ii&&st.setAttribute("nonce",Ii),Qe.insertBefore(st,rt?rt.nextSibling:Qe.firstChild)}cn=!1,bt.length?bt.map(Ii=>Ii.connectedCallback()):sn.jmp(()=>qt=setTimeout(lr,30))},Zt=(k,H,te,$)=>{te&&te.map(([se,ce,Ye])=>{const Qe=tn(k,se),rt=En(H,Ye),st=Kn(se);sn.ael(Qe,ce,rt,st),(H.$rmListeners$=H.$rmListeners$||[]).push(()=>sn.rel(Qe,ce,rt,st))})},En=(k,H)=>te=>{try{256&k.$flags$?k.$lazyInstance$[H](te):(k.$queuedListeners$=k.$queuedListeners$||[]).push([H,te])}catch($){Ot($)}},tn=(k,H)=>4&H?hn:8&H?wn:16&H?hn.body:k,Kn=k=>0!=(2&k),_r=new WeakMap,Fr=k=>_r.get(k),et=(k,H)=>_r.set(H.$lazyInstance$=k,H),ke=(k,H)=>{const te={$flags$:0,$hostElement$:k,$cmpMeta$:H,$instanceValues$:new Map};return te.$onInstancePromise$=new Promise($=>te.$onInstanceResolve$=$),te.$onReadyPromise$=new Promise($=>te.$onReadyResolve$=$),k["s-p"]=[],k["s-rc"]=[],Zt(k,te,H.$listeners$),_r.set(k,te)},at=(k,H)=>H in k,Ot=(k,H)=>(0,console.error)(k,H),Jt=new Map,In=(k,H,te)=>{const $=k.$tagName$.replace(/-/g,"_"),se=k.$lazyBundleId$,ce=Jt.get(se);return ce?ce[$]:R(863)(`./${se}.entry.js`).then(Ye=>(Jt.set(se,Ye),Ye[$]),Ot)},Lt=new Map,Fn=[],wn=typeof window<"u"?window:{},hn=wn.document||{head:{}},sn={$flags$:0,$resourcesUrl$:"",jmp:k=>k(),raf:k=>requestAnimationFrame(k),ael:(k,H,te,$)=>k.addEventListener(H,te,$),rel:(k,H,te,$)=>k.removeEventListener(H,te,$),ce:(k,H)=>new CustomEvent(k,H)},ms=k=>{Object.assign(sn,k)},sl=!0,Bi=k=>Promise.resolve(k),Ar=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),wt=[],an=[],Jn=(k,H)=>te=>{k.push(te),Q||(Q=!0,H&&4&sn.$flags$?yr($i):sn.raf($i))},$n=k=>{for(let H=0;H<k.length;H++)try{k[H](performance.now())}catch(te){Ot(te)}k.length=0},$i=()=>{$n(wt),$n(an),(Q=wt.length>0)&&sn.raf($i)},yr=k=>Bi().then(k),Vi=Jn(wt,!1),ir=Jn(an,!0)},1178:(St,We,R)=>{"use strict";R.d(We,{a:()=>W,b:()=>O,p:()=>a});const a=(ve,...we)=>console.warn(`[Ionic Warning]: ${ve}`,...we),W=(ve,...we)=>console.error(`[Ionic Error]: ${ve}`,...we),O=(ve,...we)=>console.error(`<${ve.tagName.toLowerCase()}> must be used inside ${we.join(" or ")}.`)},2998:(St,We,R)=>{"use strict";R.d(We,{L:()=>ve,a:()=>we,b:()=>_e,c:()=>ee,d:()=>ye,e:()=>Fe,g:()=>Ue,l:()=>Re,s:()=>ae,t:()=>z});var a=R(5861),W=R(9816),O=R(3577);const ve="ionViewWillEnter",we="ionViewDidEnter",_e="ionViewWillLeave",ee="ionViewDidLeave",ye="ionViewWillUnload",z=he=>new Promise((Te,Ge)=>{(0,W.w)(()=>{Z(he),ie(he).then(Ze=>{Ze.animation&&Ze.animation.destroy(),ue(he),Te(Ze)},Ze=>{ue(he),Ge(Ze)})})}),Z=he=>{const Te=he.enteringEl,Ge=he.leavingEl;X(Te,Ge,he.direction),he.showGoBack?Te.classList.add("can-go-back"):Te.classList.remove("can-go-back"),ae(Te,!1),Te.style.setProperty("pointer-events","none"),Ge&&(ae(Ge,!1),Ge.style.setProperty("pointer-events","none"))},ie=function(){var he=(0,a.Z)(function*(Te){const Ge=yield xe(Te);return Ge&&W.B.isBrowser?He(Ge,Te):J(Te)});return function(Ge){return he.apply(this,arguments)}}(),ue=he=>{const Te=he.enteringEl,Ge=he.leavingEl;Te.classList.remove("ion-page-invisible"),Te.style.removeProperty("pointer-events"),void 0!==Ge&&(Ge.classList.remove("ion-page-invisible"),Ge.style.removeProperty("pointer-events"))},xe=function(){var he=(0,a.Z)(function*(Te){return Te.leavingEl&&Te.animated&&0!==Te.duration?Te.animationBuilder?Te.animationBuilder:"ios"===Te.mode?(yield Promise.resolve().then(R.bind(R,5158))).iosTransitionAnimation:(yield Promise.resolve().then(R.bind(R,3175))).mdTransitionAnimation:void 0});return function(Ge){return he.apply(this,arguments)}}(),He=function(){var he=(0,a.Z)(function*(Te,Ge){yield Y(Ge,!0);const Ze=Te(Ge.baseEl,Ge);De(Ge.enteringEl,Ge.leavingEl);const Se=yield Me(Ze,Ge);return Ge.progressCallback&&Ge.progressCallback(void 0),Se&&be(Ge.enteringEl,Ge.leavingEl),{hasCompleted:Se,animation:Ze}});return function(Ge,Ze){return he.apply(this,arguments)}}(),J=function(){var he=(0,a.Z)(function*(Te){const Ge=Te.enteringEl,Ze=Te.leavingEl;return yield Y(Te,!1),De(Ge,Ze),be(Ge,Ze),{hasCompleted:!0}});return function(Ge){return he.apply(this,arguments)}}(),Y=function(){var he=(0,a.Z)(function*(Te,Ge){(void 0!==Te.deepWait?Te.deepWait:Ge)&&(yield Promise.all([Fe(Te.enteringEl),Fe(Te.leavingEl)])),yield fe(Te.viewIsReady,Te.enteringEl)});return function(Ge,Ze){return he.apply(this,arguments)}}(),fe=function(){var he=(0,a.Z)(function*(Te,Ge){Te&&(yield Te(Ge))});return function(Ge,Ze){return he.apply(this,arguments)}}(),Me=(he,Te)=>{const Ge=Te.progressCallback,Ze=new Promise(Se=>{he.onFinish(Oe=>Se(1===Oe))});return Ge?(he.progressStart(!0),Ge(he)):he.play(),Ze},De=(he,Te)=>{Re(Te,_e),Re(he,ve)},be=(he,Te)=>{Re(he,we),Re(Te,ee)},Re=(he,Te)=>{if(he){const Ge=new CustomEvent(Te,{bubbles:!1,cancelable:!1});he.dispatchEvent(Ge)}},Fe=function(){var he=(0,a.Z)(function*(Te){const Ge=Te;if(Ge){if(null!=Ge.componentOnReady){if(null!=(yield Ge.componentOnReady()))return}else if(null!=Ge.__registerHost)return void(yield new Promise(Se=>(0,O.r)(Se)));yield Promise.all(Array.from(Ge.children).map(Fe))}});return function(Ge){return he.apply(this,arguments)}}(),ae=(he,Te)=>{Te?(he.setAttribute("aria-hidden","true"),he.classList.add("ion-page-hidden")):(he.hidden=!1,he.removeAttribute("aria-hidden"),he.classList.remove("ion-page-hidden"))},X=(he,Te,Ge)=>{void 0!==he&&(he.style.zIndex="back"===Ge?"99":"101"),void 0!==Te&&(Te.style.zIndex="100")},Ue=he=>he.classList.contains("ion-page")?he:he.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||he},6406:(St,We,R)=>{"use strict";R.d(We,{a:()=>z,b:()=>Oe,c:()=>O,g:()=>Q,i:()=>Be});var a=R(9816);class W{constructor(){this.m=new Map}reset(oe){this.m=new Map(Object.entries(oe))}get(oe,pe){const Le=this.m.get(oe);return void 0!==Le?Le:pe}getBoolean(oe,pe=!1){const Le=this.m.get(oe);return void 0===Le?pe:"string"==typeof Le?"true"===Le:!!Le}getNumber(oe,pe){const Le=parseFloat(this.m.get(oe));return isNaN(Le)?void 0!==pe?pe:NaN:Le}set(oe,pe){this.m.set(oe,pe)}}const O=new W,Ee="ionic-persist-config",Q=le=>Z(le),z=(le,oe)=>("string"==typeof le&&(oe=le,le=void 0),Q(le).includes(oe)),Z=(le=window)=>{if(typeof le>"u")return[];le.Ionic=le.Ionic||{};let oe=le.Ionic.platforms;return null==oe&&(oe=le.Ionic.platforms=ie(le),oe.forEach(pe=>le.document.documentElement.classList.add(`plt-${pe}`))),oe},ie=le=>{const oe=O.get("platform");return Object.keys(Ze).filter(pe=>{const Le=null==oe?void 0:oe[pe];return"function"==typeof Le?Le(le):Ze[pe](le)})},xe=le=>!!(Te(le,/iPad/i)||Te(le,/Macintosh/i)&&be(le)),Y=le=>Te(le,/android|sink/i),be=le=>Ge(le,"(any-pointer:coarse)"),Fe=le=>ae(le)||X(le),ae=le=>!!(le.cordova||le.phonegap||le.PhoneGap),X=le=>{const oe=le.Capacitor;return!(null==oe||!oe.isNative)},Te=(le,oe)=>oe.test(le.navigator.userAgent),Ge=(le,oe)=>{var pe;return null===(pe=le.matchMedia)||void 0===pe?void 0:pe.call(le,oe).matches},Ze={ipad:xe,iphone:le=>Te(le,/iPhone/i),ios:le=>Te(le,/iPhone|iPod/i)||xe(le),android:Y,phablet:le=>{const oe=le.innerWidth,pe=le.innerHeight,Le=Math.min(oe,pe),qe=Math.max(oe,pe);return Le>390&&Le<520&&qe>620&&qe<800},tablet:le=>{const oe=le.innerWidth,pe=le.innerHeight,Le=Math.min(oe,pe),qe=Math.max(oe,pe);return xe(le)||(le=>Y(le)&&!Te(le,/mobile/i))(le)||Le>460&&Le<820&&qe>780&&qe<1400},cordova:ae,capacitor:X,electron:le=>Te(le,/electron/i),pwa:le=>{var oe;return!!(null!==(oe=le.matchMedia)&&void 0!==oe&&oe.call(le,"(display-mode: standalone)").matches||le.navigator.standalone)},mobile:be,mobileweb:le=>be(le)&&!Fe(le),desktop:le=>!be(le),hybrid:Fe};let Se;const Oe=le=>le&&(0,a.g)(le)||Se,Be=(le={})=>{if(typeof window>"u")return;const oe=window.document,pe=window,Le=pe.Ionic=pe.Ionic||{},qe={};le._ael&&(qe.ael=le._ael),le._rel&&(qe.rel=le._rel),le._ce&&(qe.ce=le._ce),(0,a.a)(qe);const pt=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(le=>{try{const oe=le.sessionStorage.getItem(Ee);return null!==oe?JSON.parse(oe):{}}catch{return{}}})(pe)),{persistConfig:!1}),Le.config),(le=>{const oe={};return le.location.search.slice(1).split("&").map(pe=>pe.split("=")).map(([pe,Le])=>[decodeURIComponent(pe),decodeURIComponent(Le)]).filter(([pe])=>((le,oe)=>le.substr(0,oe.length)===oe)(pe,"ionic:")).map(([pe,Le])=>[pe.slice("ionic:".length),Le]).forEach(([pe,Le])=>{oe[pe]=Le}),oe})(pe)),le);O.reset(pt),O.getBoolean("persistConfig")&&((le,oe)=>{try{le.sessionStorage.setItem(Ee,JSON.stringify(oe))}catch{return}})(pe,pt),Z(pe),Le.config=O,Le.mode=Se=O.get("mode",oe.documentElement.getAttribute("mode")||(z(pe,"ios")?"ios":"md")),O.set("mode",Se),oe.documentElement.setAttribute("mode",Se),oe.documentElement.classList.add(Se),O.getBoolean("_testing")&&O.set("animated",!1);const dt=$e=>{var Ce;return null===(Ce=$e.tagName)||void 0===Ce?void 0:Ce.startsWith("ION-")},Rt=$e=>["ios","md"].includes($e);(0,a.c)($e=>{for(;$e;){const Ce=$e.mode||$e.getAttribute("mode");if(Ce){if(Rt(Ce))return Ce;dt($e)&&console.warn('Invalid ionic mode: "'+Ce+'", expected: "ios" or "md"')}$e=$e.parentElement}return Se})}},5158:(St,We,R)=>{"use strict";R.r(We),R.d(We,{iosTransitionAnimation:()=>ie,shadow:()=>ee});var a=R(9613),W=R(2998);R(3457),R(9816);const _e=ue=>document.querySelector(`${ue}.ion-cloned-element`),ee=ue=>ue.shadowRoot||ue,ye=ue=>{const xe="ION-TABS"===ue.tagName?ue:ue.querySelector("ion-tabs"),He="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=xe){const J=xe.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=J?J.querySelector(He):null}return ue.querySelector(He)},Ee=(ue,xe)=>{const He="ION-TABS"===ue.tagName?ue:ue.querySelector("ion-tabs");let J=[];if(null!=He){const Y=He.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=Y&&(J=Y.querySelectorAll("ion-buttons"))}else J=ue.querySelectorAll("ion-buttons");for(const Y of J){const fe=Y.closest("ion-header"),Me=fe&&!fe.classList.contains("header-collapse-condense-inactive"),De=Y.querySelector("ion-back-button"),be=Y.classList.contains("buttons-collapse");if(null!==De&&("start"===Y.slot||""===Y.slot)&&(be&&Me&&xe||!be))return De}return null},z=(ue,xe,He,J,Y,fe)=>{const Me=xe?`calc(100% - ${fe.right+4}px)`:fe.left-4+"px",De=xe?"7px":"-7px",be=xe?"-4px":"4px",Re=xe?"-4px":"4px",Fe=xe?"right":"left",ae=xe?"left":"right",he=He?[{offset:0,opacity:1,transform:`translate3d(${be}, ${fe.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${De}, ${Y.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${De}, ${Y.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${be}, ${fe.top-46}px, 0) scale(1)`}],Ze=He?[{offset:0,opacity:1,transform:`translate3d(${Re}, ${fe.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${Re}, ${fe.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${Re}, ${fe.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${Re}, ${fe.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${Re}, ${fe.top-46}px, 0) scale(1)`}],Se=(0,a.c)(),Oe=(0,a.c)(),Be=_e("ion-back-button"),le=ee(Be).querySelector(".button-text"),oe=ee(Be).querySelector("ion-icon");Be.text=J.text,Be.mode=J.mode,Be.icon=J.icon,Be.color=J.color,Be.disabled=J.disabled,Be.style.setProperty("display","block"),Be.style.setProperty("position","fixed"),Oe.addElement(oe),Se.addElement(le),Se.beforeStyles({"transform-origin":`${Fe} center`}).beforeAddWrite(()=>{J.style.setProperty("display","none"),Be.style.setProperty(Fe,Me)}).afterAddWrite(()=>{J.style.setProperty("display",""),Be.style.setProperty("display","none"),Be.style.removeProperty(Fe)}).keyframes(he),Oe.beforeStyles({"transform-origin":`${ae} center`}).keyframes(Ze),ue.addAnimation([Se,Oe])},Z=(ue,xe,He,J,Y,fe)=>{const Me=xe?`calc(100% - ${Y.right}px)`:`${Y.left}px`,De=xe?"-18px":"18px",be=xe?"right":"left",ae=He?[{offset:0,opacity:0,transform:`translate3d(${De}, ${fe.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${Y.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${Y.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${De}, ${fe.top-4}px, 0) scale(0.5)`}],X=_e("ion-title"),Ue=(0,a.c)();X.innerText=J.innerText,X.size=J.size,X.color=J.color,Ue.addElement(X),Ue.beforeStyles({"transform-origin":`${be} center`,height:"46px",display:"",position:"relative",[be]:Me}).beforeAddWrite(()=>{J.style.setProperty("display","none")}).afterAddWrite(()=>{J.style.setProperty("display",""),X.style.setProperty("display","none")}).keyframes(ae),ue.addAnimation(Ue)},ie=(ue,xe)=>{var He;try{const J="cubic-bezier(0.32,0.72,0,1)",Y="opacity",fe="transform",Me="0%",be="rtl"===ue.ownerDocument.dir,Re=be?"-99.5%":"99.5%",Fe=be?"33%":"-33%",ae=xe.enteringEl,X=xe.leavingEl,Ue="back"===xe.direction,he=ae.querySelector(":scope > ion-content"),Te=ae.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),Ge=ae.querySelectorAll(":scope > ion-header > ion-toolbar"),Ze=(0,a.c)(),Se=(0,a.c)();if(Ze.addElement(ae).duration((null!==(He=xe.duration)&&void 0!==He?He:0)||540).easing(xe.easing||J).fill("both").beforeRemoveClass("ion-page-invisible"),X&&null!=ue){const oe=(0,a.c)();oe.addElement(ue),Ze.addAnimation(oe)}if(he||0!==Ge.length||0!==Te.length?(Se.addElement(he),Se.addElement(Te)):Se.addElement(ae.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Ze.addAnimation(Se),Ue?Se.beforeClearStyles([Y]).fromTo("transform",`translateX(${Fe})`,`translateX(${Me})`).fromTo(Y,.8,1):Se.beforeClearStyles([Y]).fromTo("transform",`translateX(${Re})`,`translateX(${Me})`),he){const oe=ee(he).querySelector(".transition-effect");if(oe){const pe=oe.querySelector(".transition-cover"),Le=oe.querySelector(".transition-shadow"),qe=(0,a.c)(),pt=(0,a.c)(),dt=(0,a.c)();qe.addElement(oe).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),pt.addElement(pe).beforeClearStyles([Y]).fromTo(Y,0,.1),dt.addElement(Le).beforeClearStyles([Y]).fromTo(Y,.03,.7),qe.addAnimation([pt,dt]),Se.addAnimation([qe])}}const Oe=ae.querySelector("ion-header.header-collapse-condense"),{forward:Be,backward:le}=((ue,xe,He,J,Y)=>{const fe=Ee(J,He),Me=ye(Y),De=ye(J),be=Ee(Y,He),Re=null!==fe&&null!==Me&&!He,Fe=null!==De&&null!==be&&He;if(Re){const ae=Me.getBoundingClientRect(),X=fe.getBoundingClientRect();Z(ue,xe,He,Me,ae,X),z(ue,xe,He,fe,ae,X)}else if(Fe){const ae=De.getBoundingClientRect(),X=be.getBoundingClientRect();Z(ue,xe,He,De,ae,X),z(ue,xe,He,be,ae,X)}return{forward:Re,backward:Fe}})(Ze,be,Ue,ae,X);if(Ge.forEach(oe=>{const pe=(0,a.c)();pe.addElement(oe),Ze.addAnimation(pe);const Le=(0,a.c)();Le.addElement(oe.querySelector("ion-title"));const qe=(0,a.c)(),pt=Array.from(oe.querySelectorAll("ion-buttons,[menuToggle]")),dt=oe.closest("ion-header"),Rt=null==dt?void 0:dt.classList.contains("header-collapse-condense-inactive");let $e;$e=pt.filter(Ue?Kt=>{const $t=Kt.classList.contains("buttons-collapse");return $t&&!Rt||!$t}:Kt=>!Kt.classList.contains("buttons-collapse")),qe.addElement($e);const Ce=(0,a.c)();Ce.addElement(oe.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Je=(0,a.c)();Je.addElement(ee(oe).querySelector(".toolbar-background"));const ht=(0,a.c)(),jt=oe.querySelector("ion-back-button");if(jt&&ht.addElement(jt),pe.addAnimation([Le,qe,Ce,Je,ht]),qe.fromTo(Y,.01,1),Ce.fromTo(Y,.01,1),Ue)Rt||Le.fromTo("transform",`translateX(${Fe})`,`translateX(${Me})`).fromTo(Y,.01,1),Ce.fromTo("transform",`translateX(${Fe})`,`translateX(${Me})`),ht.fromTo(Y,.01,1);else if(Oe||Le.fromTo("transform",`translateX(${Re})`,`translateX(${Me})`).fromTo(Y,.01,1),Ce.fromTo("transform",`translateX(${Re})`,`translateX(${Me})`),Je.beforeClearStyles([Y,"transform"]),(null==dt?void 0:dt.translucent)?Je.fromTo("transform",be?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Je.fromTo(Y,.01,"var(--opacity)"),Be||ht.fromTo(Y,.01,1),jt&&!Be){const $t=(0,a.c)();$t.addElement(ee(jt).querySelector(".button-text")).fromTo("transform",be?"translateX(-100px)":"translateX(100px)","translateX(0px)"),pe.addAnimation($t)}}),X){const oe=(0,a.c)(),pe=X.querySelector(":scope > ion-content"),Le=X.querySelectorAll(":scope > ion-header > ion-toolbar"),qe=X.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(pe||0!==Le.length||0!==qe.length?(oe.addElement(pe),oe.addElement(qe)):oe.addElement(X.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Ze.addAnimation(oe),Ue){oe.beforeClearStyles([Y]).fromTo("transform",`translateX(${Me})`,be?"translateX(-100%)":"translateX(100%)");const pt=(0,W.g)(X);Ze.afterAddWrite(()=>{"normal"===Ze.getDirection()&&pt.style.setProperty("display","none")})}else oe.fromTo("transform",`translateX(${Me})`,`translateX(${Fe})`).fromTo(Y,1,.8);if(pe){const pt=ee(pe).querySelector(".transition-effect");if(pt){const dt=pt.querySelector(".transition-cover"),Rt=pt.querySelector(".transition-shadow"),$e=(0,a.c)(),Ce=(0,a.c)(),Je=(0,a.c)();$e.addElement(pt).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Ce.addElement(dt).beforeClearStyles([Y]).fromTo(Y,.1,0),Je.addElement(Rt).beforeClearStyles([Y]).fromTo(Y,.7,.03),$e.addAnimation([Ce,Je]),oe.addAnimation([$e])}}Le.forEach(pt=>{const dt=(0,a.c)();dt.addElement(pt);const Rt=(0,a.c)();Rt.addElement(pt.querySelector("ion-title"));const $e=(0,a.c)(),Ce=pt.querySelectorAll("ion-buttons,[menuToggle]"),Je=pt.closest("ion-header"),ht=null==Je?void 0:Je.classList.contains("header-collapse-condense-inactive"),jt=Array.from(Ce).filter(ar=>{const Un=ar.classList.contains("buttons-collapse");return Un&&!ht||!Un});$e.addElement(jt);const Kt=(0,a.c)(),$t=pt.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");$t.length>0&&Kt.addElement($t);const zt=(0,a.c)();zt.addElement(ee(pt).querySelector(".toolbar-background"));const un=(0,a.c)(),Nn=pt.querySelector("ion-back-button");if(Nn&&un.addElement(Nn),dt.addAnimation([Rt,$e,Kt,un,zt]),Ze.addAnimation(dt),un.fromTo(Y,.99,0),$e.fromTo(Y,.99,0),Kt.fromTo(Y,.99,0),Ue){if(ht||Rt.fromTo("transform",`translateX(${Me})`,be?"translateX(-100%)":"translateX(100%)").fromTo(Y,.99,0),Kt.fromTo("transform",`translateX(${Me})`,be?"translateX(-100%)":"translateX(100%)"),zt.beforeClearStyles([Y,"transform"]),(null==Je?void 0:Je.translucent)?zt.fromTo("transform","translateX(0px)",be?"translateX(-100%)":"translateX(100%)"):zt.fromTo(Y,"var(--opacity)",0),Nn&&!le){const Un=(0,a.c)();Un.addElement(ee(Nn).querySelector(".button-text")).fromTo("transform",`translateX(${Me})`,`translateX(${(be?-124:124)+"px"})`),dt.addAnimation(Un)}}else ht||Rt.fromTo("transform",`translateX(${Me})`,`translateX(${Fe})`).fromTo(Y,.99,0).afterClearStyles([fe,Y]),Kt.fromTo("transform",`translateX(${Me})`,`translateX(${Fe})`).afterClearStyles([fe,Y]),un.afterClearStyles([Y]),Rt.afterClearStyles([Y]),$e.afterClearStyles([Y])})}return Ze}catch(J){throw J}}},3175:(St,We,R)=>{"use strict";R.r(We),R.d(We,{mdTransitionAnimation:()=>we});var a=R(9613),W=R(2998);R(3457),R(9816);const we=(_e,ee)=>{var ye,Ee,Q;const z="40px",ie="back"===ee.direction,xe=ee.leavingEl,He=(0,W.g)(ee.enteringEl),J=He.querySelector("ion-toolbar"),Y=(0,a.c)();if(Y.addElement(He).fill("both").beforeRemoveClass("ion-page-invisible"),ie?Y.duration((null!==(ye=ee.duration)&&void 0!==ye?ye:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):Y.duration((null!==(Ee=ee.duration)&&void 0!==Ee?Ee:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform",`translateY(${z})`,"translateY(0px)").fromTo("opacity",.01,1),J){const fe=(0,a.c)();fe.addElement(J),Y.addAnimation(fe)}if(xe&&ie){Y.duration((null!==(Q=ee.duration)&&void 0!==Q?Q:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const fe=(0,a.c)();fe.addElement((0,W.g)(xe)).onFinish(Me=>{1===Me&&fe.elements.length>0&&fe.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)",`translateY(${z})`).fromTo("opacity",1,0),Y.addAnimation(fe)}return Y}},1397:(St,We,R)=>{"use strict";R.d(We,{B:()=>qe,G:()=>pt,a:()=>Q,b:()=>z,c:()=>xe,d:()=>dt,e:()=>Rt,f:()=>Te,g:()=>Ze,h:()=>Be,i:()=>oe,j:()=>J,k:()=>ye,m:()=>ie,n:()=>Me,o:()=>Ue,s:()=>Le});var a=R(5861),W=R(6406),O=R(6782),ve=R(7593),we=R(3577),_e=R(1178);let ee=0;const ye=new WeakMap,Ee=$e=>({create:Ce=>Y($e,Ce),dismiss:(Ce,Je,ht)=>ae(document,Ce,Je,$e,ht),getTop:()=>(0,a.Z)(function*(){return Ue(document,$e)})()}),Q=Ee("ion-alert"),z=Ee("ion-action-sheet"),ie=Ee("ion-modal"),xe=Ee("ion-popover"),J=$e=>{typeof document<"u"&&Fe(document);const Ce=ee++;$e.overlayIndex=Ce,$e.hasAttribute("id")||($e.id=`ion-overlay-${Ce}`)},Y=($e,Ce)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined($e).then(()=>{const Je=document.createElement($e);return Je.classList.add("overlay-hidden"),Object.assign(Je,Object.assign(Object.assign({},Ce),{hasController:!0})),Se(document).appendChild(Je),new Promise(ht=>(0,we.c)(Je,ht))}):Promise.resolve(),fe='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',Me=($e,Ce)=>{let Je=$e.querySelector(fe);const ht=null==Je?void 0:Je.shadowRoot;ht&&(Je=ht.querySelector(fe)||Je),Je?(0,we.f)(Je):Ce.focus()},be=($e,Ce)=>{const Je=Array.from($e.querySelectorAll(fe));let ht=Je.length>0?Je[Je.length-1]:null;const jt=null==ht?void 0:ht.shadowRoot;jt&&(ht=jt.querySelector(fe)||ht),ht?ht.focus():Ce.focus()},Fe=$e=>{0===ee&&(ee=1,$e.addEventListener("focus",Ce=>{(($e,Ce)=>{const Je=Ue(Ce,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),ht=$e.target;Je&&ht&&!Je.classList.contains("ion-disable-focus-trap")&&(Je.shadowRoot?(()=>{if(Je.contains(ht))Je.lastFocus=ht;else{const $t=Je.lastFocus;Me(Je,Je),$t===Ce.activeElement&&be(Je,Je),Je.lastFocus=Ce.activeElement}})():(()=>{if(Je===ht)Je.lastFocus=void 0;else{const $t=(0,we.g)(Je);if(!$t.contains(ht))return;const zt=$t.querySelector(".ion-overlay-wrapper");if(!zt)return;if(zt.contains(ht))Je.lastFocus=ht;else{const un=Je.lastFocus;Me(zt,Je),un===Ce.activeElement&&be(zt,Je),Je.lastFocus=Ce.activeElement}}})())})(Ce,$e)},!0),$e.addEventListener("ionBackButton",Ce=>{const Je=Ue($e);null!=Je&&Je.backdropDismiss&&Ce.detail.register(ve.OVERLAY_BACK_BUTTON_PRIORITY,()=>Je.dismiss(void 0,qe))}),$e.addEventListener("keydown",Ce=>{if("Escape"===Ce.key){const Je=Ue($e);null!=Je&&Je.backdropDismiss&&Je.dismiss(void 0,qe)}}))},ae=($e,Ce,Je,ht,jt)=>{const Kt=Ue($e,ht,jt);return Kt?Kt.dismiss(Ce,Je):Promise.reject("overlay does not exist")},Ue=($e,Ce,Je)=>{const ht=(($e,Ce)=>(void 0===Ce&&(Ce="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from($e.querySelectorAll(Ce)).filter(Je=>Je.overlayIndex>0)))($e,Ce).filter(jt=>!($e=>$e.classList.contains("overlay-hidden"))(jt));return void 0===Je?ht[ht.length-1]:ht.find(jt=>jt.id===Je)},he=($e=!1)=>{const Je=Se(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");Je&&($e?Je.setAttribute("aria-hidden","true"):Je.removeAttribute("aria-hidden"))},Te=function(){var $e=(0,a.Z)(function*(Ce,Je,ht,jt,Kt){var $t,zt;if(Ce.presented)return;he(!0),Ce.presented=!0,Ce.willPresent.emit(),null===($t=Ce.willPresentShorthand)||void 0===$t||$t.emit();const un=(0,W.b)(Ce),Nn=Ce.enterAnimation?Ce.enterAnimation:W.c.get(Je,"ios"===un?ht:jt);(yield Oe(Ce,Nn,Ce.el,Kt))&&(Ce.didPresent.emit(),null===(zt=Ce.didPresentShorthand)||void 0===zt||zt.emit()),"ION-TOAST"!==Ce.el.tagName&&Ge(Ce.el),Ce.keyboardClose&&(null===document.activeElement||!Ce.el.contains(document.activeElement))&&Ce.el.focus()});return function(Je,ht,jt,Kt,$t){return $e.apply(this,arguments)}}(),Ge=function(){var $e=(0,a.Z)(function*(Ce){let Je=document.activeElement;if(!Je)return;const ht=null==Je?void 0:Je.shadowRoot;ht&&(Je=ht.querySelector(fe)||Je),yield Ce.onDidDismiss(),Je.focus()});return function(Je){return $e.apply(this,arguments)}}(),Ze=function(){var $e=(0,a.Z)(function*(Ce,Je,ht,jt,Kt,$t,zt){var un,Nn;if(!Ce.presented)return!1;he(!1),Ce.presented=!1;try{Ce.el.style.setProperty("pointer-events","none"),Ce.willDismiss.emit({data:Je,role:ht}),null===(un=Ce.willDismissShorthand)||void 0===un||un.emit({data:Je,role:ht});const ar=(0,W.b)(Ce),Un=Ce.leaveAnimation?Ce.leaveAnimation:W.c.get(jt,"ios"===ar?Kt:$t);ht!==pt&&(yield Oe(Ce,Un,Ce.el,zt)),Ce.didDismiss.emit({data:Je,role:ht}),null===(Nn=Ce.didDismissShorthand)||void 0===Nn||Nn.emit({data:Je,role:ht}),ye.delete(Ce),Ce.el.classList.add("overlay-hidden"),Ce.el.style.removeProperty("pointer-events"),void 0!==Ce.el.lastFocus&&(Ce.el.lastFocus=void 0)}catch(ar){console.error(ar)}return Ce.el.remove(),!0});return function(Je,ht,jt,Kt,$t,zt,un){return $e.apply(this,arguments)}}(),Se=$e=>$e.querySelector("ion-app")||$e.body,Oe=function(){var $e=(0,a.Z)(function*(Ce,Je,ht,jt){ht.classList.remove("overlay-hidden");const $t=Je(Ce.el,jt);(!Ce.animated||!W.c.getBoolean("animated",!0))&&$t.duration(0),Ce.keyboardClose&&$t.beforeAddWrite(()=>{const un=ht.ownerDocument.activeElement;null!=un&&un.matches("input,ion-input, ion-textarea")&&un.blur()});const zt=ye.get(Ce)||[];return ye.set(Ce,[...zt,$t]),yield $t.play(),!0});return function(Je,ht,jt,Kt){return $e.apply(this,arguments)}}(),Be=($e,Ce)=>{let Je;const ht=new Promise(jt=>Je=jt);return le($e,Ce,jt=>{Je(jt.detail)}),ht},le=($e,Ce,Je)=>{const ht=jt=>{(0,we.b)($e,Ce,ht),Je(jt)};(0,we.a)($e,Ce,ht)},oe=$e=>"cancel"===$e||$e===qe,pe=$e=>$e(),Le=($e,Ce)=>{if("function"==typeof $e)return W.c.get("_zoneGate",pe)(()=>{try{return $e(Ce)}catch(ht){throw ht}})},qe="backdrop",pt="gesture",dt=$e=>{let Je,Ce=!1;const ht=(0,O.C)(),jt=(zt=!1)=>{if(Je&&!zt)return{delegate:Je,inline:Ce};const{el:un,hasController:Nn,delegate:ar}=$e;return Ce=null!==un.parentNode&&!Nn,Je=Ce?ar||ht:ar,{inline:Ce,delegate:Je}};return{attachViewToDom:function(){var zt=(0,a.Z)(function*(un){const{delegate:Nn}=jt(!0);if(Nn)return yield Nn.attachViewToDom($e.el,un);const{hasController:ar}=$e;if(ar&&void 0!==un)throw new Error("framework delegate is missing");return null});return function(Nn){return zt.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:zt}=jt();zt&&void 0!==$e.el&&zt.removeViewFromDom($e.el.parentElement,$e.el)}}},Rt=()=>{let $e;const Ce=()=>{$e&&($e(),$e=void 0)};return{addClickListener:(ht,jt)=>{Ce();const Kt=void 0!==jt?document.getElementById(jt):null;Kt?$e=((zt,un)=>{const Nn=()=>{un.present()};return zt.addEventListener("click",Nn),()=>{zt.removeEventListener("click",Nn)}})(Kt,ht):(0,_e.p)(`A trigger element with the ID "${jt}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,ht)},removeClickListener:Ce}}},6046:(St,We,R)=>{"use strict";var a=R(4650);let W=null;function O(){return W}class we{}const _e=new a.OlP("DocumentToken");let ee=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return function ye(){return(0,a.LFG)(Q)}()},providedIn:"platform"}),n})();const Ee=new a.OlP("Location Initialized");let Q=(()=>{class n extends ee{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O().getBaseHref(this._doc)}onPopState(t){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){z()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){z()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(_e))},n.\u0275prov=a.Yz7({token:n,factory:function(){return function Z(){return new Q((0,a.LFG)(_e))}()},providedIn:"platform"}),n})();function z(){return!!window.history.pushState}function ie(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function ue(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function xe(n){return n&&"?"!==n[0]?"?"+n:n}let He=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(Y)},providedIn:"root"}),n})();const J=new a.OlP("appBaseHref");let Y=(()=>{class n extends He{constructor(t,r){var i,s,c;super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=null!==(i=null!==(s=null!=r?r:this._platformLocation.getBaseHrefFromDOM())&&void 0!==s?s:null===(c=(0,a.f3M)(_e).location)||void 0===c?void 0:c.origin)&&void 0!==i?i:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ie(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+xe(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const c=this.prepareExternalUrl(i+xe(s));this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,s){const c=this.prepareExternalUrl(i+xe(s));this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){var r,i;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ee),a.LFG(J,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fe=(()=>{class n extends He{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=ie(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let c=this.prepareExternalUrl(i+xe(s));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,s){let c=this.prepareExternalUrl(i+xe(s));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){var r,i;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ee),a.LFG(J,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),Me=(()=>{class n{constructor(t){this._subject=new a.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function Fe(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(ue(Re(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){var t;null===(t=this._urlChangeSubscription)||void 0===t||t.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+xe(r))}normalize(t){return n.stripTrailingSlash(function be(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,Re(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+xe(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+xe(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){var r,i;null===(r=(i=this._locationStrategy).historyGo)||void 0===r||r.call(i,t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);var i;this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(null===(i=this._urlChangeSubscription)||void 0===i||i.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=xe,n.joinWithSlash=ie,n.stripTrailingSlash=ue,n.\u0275fac=function(t){return new(t||n)(a.LFG(He))},n.\u0275prov=a.Yz7({token:n,factory:function(){return function De(){return new Me((0,a.LFG)(He))}()},providedIn:"root"}),n})();function Re(n){return n.replace(/\/index.html$/,"")}function Bi(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}const Ar=/\s+/,wt=[];let an=(()=>{class n{constructor(t,r,i,s){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this.initialClasses=wt,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(Ar):wt}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(Ar):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,Boolean(t[r]));this._applyStateDiff()}_updateState(t,r){const i=this.stateMap.get(t);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(Ar).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.ZZ4),a.Y36(a.aQg),a.Y36(a.SBq),a.Y36(a.Qsj))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class yr{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Vi=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,c)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new yr(i.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)r.remove(null===s?void 0:s);else if(null!==s){const h=r.get(s);r.move(h,c),ir(h,i)}});for(let i=0,s=r.length;i<s;i++){const h=r.get(i).context;h.index=i,h.count=s,h.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{ir(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(a.ZZ4))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function ir(n,e){n.context.$implicit=e.item}let H=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new te,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){$("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){$("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b),a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class te{constructor(){this.$implicit=null,this.ngIf=null}}function $(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,a.AaK)(e)}'.`)}let qt=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:i,ngTemplateOutletContext:s,ngTemplateOutletInjector:c}=this;this._viewRef=r.createEmbeddedView(i,s,c?{injector:c}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[a.TTD]}),n})(),Hs=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const va="server";function wa(n){return n===va}let Xl=(()=>{class n{}return n.\u0275prov=(0,a.Yz7)({token:n,providedIn:"root",factory:()=>new Vf((0,a.LFG)(_e),window)}),n})();class Vf{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function nu(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const c=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(c)return c}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=vs(this.window.history)||vs(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function vs(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class xd{}class zd extends we{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class lc extends zd{static makeCurrent(){!function ve(n){W||(W=n)}(new lc)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function gl(){return Sa=Sa||document.querySelector("base"),Sa?Sa.getAttribute("href"):null}();return null==t?null:function am(n){es=es||document.createElement("a"),es.setAttribute("href",n);const e=es.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Sa=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Bi(document.cookie,e)}}let es,Sa=null;const Gf=new a.OlP("TRANSITION_ID"),qd=[{provide:a.ip1,useFactory:function cc(n,e,t){return()=>{t.get(a.CZH).donePromise.then(()=>{const r=O(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[Gf,_e,a.zs3],multi:!0}];let hu=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const ml=new a.OlP("EventManagerPlugins");let uc=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const c=i[s];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ml),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class Aa{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=O().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Wd=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,r){var i;const s=this.usageCount;let c=null!==(i=s.get(t))&&void 0!==i?i:0;return c+=r,c>0?s.set(t,c):s.delete(t),c}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),Is=(()=>{class n extends Wd{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef,i=r.get(t);null==i||i.forEach(s=>s.remove()),r.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,r){const i=this.doc.createElement("style");i.textContent=r,t.appendChild(i);const s=this.styleRef.get(r);s?s.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(_e))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Ys={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},xa=/%COMP%/g,vl=new a.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function dc(n,e){return e.flat(100).map(t=>t.replace(xa,n))}function gu(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Gi=(()=>{class n{constructor(t,r,i,s){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=s,this.rendererByCompId=new Map,this.defaultRenderer=new Zd(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(t,r);return i instanceof hc?i.applyToHost(t):i instanceof bs&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const c=this.eventManager,h=this.sharedStylesHost,m=this.removeStylesOnCompDestory;switch(r.encapsulation){case a.ifc.Emulated:s=new hc(c,h,r,this.appId,m);break;case a.ifc.ShadowDom:return new Br(c,h,t,r);default:s=new bs(c,h,r,m)}s.onDestroy=()=>i.delete(r.id),i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(uc),a.LFG(Is),a.LFG(a.AFp),a.LFG(vl))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class Zd{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Ys[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Yd(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Yd(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=Ys[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Ys[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(a.JOm.DashCase|a.JOm.Important)?e.style.setProperty(t,r,i&a.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&a.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,gu(r)):this.eventManager.addEventListener(e,t,gu(r))}}function Yd(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Br extends Zd{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=dc(i.id,i.styles);for(const c of s){const h=document.createElement("style");h.textContent=c,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class bs extends Zd{constructor(e,t,r,i,s=r.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=dc(s,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){var e;this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount)&&(null===(e=this.onDestroy)||void 0===e||e.call(this))}}class hc extends bs{constructor(e,t,r,i,s){const c=i+"-"+r.id;super(e,t,r,s,c),this.contentAttr=function zf(n){return"_ngcontent-%COMP%".replace(xa,n)}(c),this.hostAttr=function pu(n){return"_nghost-%COMP%".replace(xa,n)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let Kd=(()=>{class n extends Aa{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(_e))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const wl=["alt","control","meta","shift"],Qd={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},fc={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Yr=(()=>{class n extends Aa{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),c=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>O().onAndCancel(t,s.domEventName,c))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let c="",h=r.indexOf("code");if(h>-1&&(r.splice(h,1),c="code."),wl.forEach(y=>{const b=r.indexOf(y);b>-1&&(r.splice(b,1),c+=y+".")}),c+=s,0!=r.length||0===s.length)return null;const m={};return m.domEventName=i,m.fullKey=c,m}static matchEventFullKeyCode(t,r){let i=Qd[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),wl.forEach(c=>{c!==i&&(0,fc[c])(t)&&(s+=c+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(_e))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Wf=(0,a.eFA)(a._c5,"browser",[{provide:a.Lbi,useValue:"browser"},{provide:a.g9A,useValue:function Ra(){lc.makeCurrent()},multi:!0},{provide:_e,useFactory:function yu(){return(0,a.RDi)(document),document},deps:[]}]),Qs=new a.OlP(""),Cl=[{provide:a.rWj,useClass:class ts{addToWindow(e){a.dqk.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},a.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),a.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),a.dqk.frameworkStabilizers||(a.dqk.frameworkStabilizers=[]),a.dqk.frameworkStabilizers.push(r=>{const i=a.dqk.getAllAngularTestabilities();let s=i.length,c=!1;const h=function(m){c=c||m,s--,0==s&&r(c)};i.forEach(function(m){m.whenStable(h)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?O().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}},deps:[]},{provide:a.lri,useClass:a.dDg,deps:[a.R0b,a.eoX,a.rWj]},{provide:a.dDg,useClass:a.dDg,deps:[a.R0b,a.eoX,a.rWj]}],Xs=[{provide:a.zSh,useValue:"root"},{provide:a.qLn,useFactory:function _u(){return new a.qLn},deps:[]},{provide:ml,useClass:Kd,multi:!0,deps:[_e,a.R0b,a.Lbi]},{provide:ml,useClass:Yr,multi:!0,deps:[_e]},{provide:Gi,useClass:Gi,deps:[uc,Is,a.AFp,vl]},{provide:a.FYo,useExisting:Gi},{provide:Wd,useExisting:Is},{provide:Is,useClass:Is,deps:[_e]},{provide:uc,useClass:uc,deps:[ml,a.R0b]},{provide:xd,useClass:hu,deps:[]},[]];let Oa=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:a.AFp,useValue:t.appId},{provide:Gf,useExisting:a.AFp},qd]}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Qs,12))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[...Xs,...Cl],imports:[Hs,a.hGG]}),n})(),Zf=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(_e))},n.\u0275prov=a.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Js(){return new Zf((0,a.LFG)(_e))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var Vn=R(8996),lo=R(7669);function Nt(...n){const e=(0,lo.yG)(n);return(0,Vn.D)(n,e)}var yi=R(7579);class Mr extends yi.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const Il=(0,R(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var si=R(9751);const{isArray:Su}=Array,{getPrototypeOf:rh,prototype:co,keys:As}=Object;function Au(n){if(1===n.length){const e=n[0];if(Su(e))return{args:e,keys:null};if(function ta(n){return n&&"object"==typeof n&&rh(n)===co}(e)){const t=As(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var na=R(4671),Vt=R(4004);const{isArray:xu}=Array;function Xi(n){return(0,Vt.U)(e=>function ih(n,e){return xu(e)?n(...e):n(e)}(n,e))}function vc(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var jr=R(5403),bl=R(9672);function Mu(...n){const e=(0,lo.yG)(n),t=(0,lo.jO)(n),{args:r,keys:i}=Au(n);if(0===r.length)return(0,Vn.D)([],e);const s=new si.y(function ra(n,e,t=na.y){return r=>{Dl(e,()=>{const{length:i}=n,s=new Array(i);let c=i,h=i;for(let m=0;m<i;m++)Dl(e,()=>{const y=(0,Vn.D)(n[m],e);let b=!1;y.subscribe((0,jr.x)(r,S=>{s[m]=S,b||(b=!0,h--),h||r.next(t(s.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,e,i?c=>vc(i,c):na.y));return t?s.pipe(Xi(t)):s}function Dl(n,e,t){n?(0,bl.f)(t,n,e):e()}var Tl=R(8189);function wc(...n){return function Qf(){return(0,Tl.J)(1)}()((0,Vn.D)(n,(0,lo.yG)(n)))}var ia=R(8421);function oh(n){return new si.y(e=>{(0,ia.Xf)(n()).subscribe(e)})}var Pu=R(9635),Bo=R(576);function Sl(n,e){const t=(0,Bo.m)(n)?n:()=>n,r=i=>i.error(t());return new si.y(e?i=>e.schedule(r,0,i):r)}var Ji=R(515),Ru=R(727),ai=R(4482);function Al(){return(0,ai.e)((n,e)=>{let t=null;n._refCount++;const r=(0,jr.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Xf extends si.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,ai.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ru.w0;const t=this.getSubject();e.add(this.source.subscribe((0,jr.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ru.w0.EMPTY)}return e}refCount(){return Al()(this)}}function ur(n,e){return(0,ai.e)((t,r)=>{let i=null,s=0,c=!1;const h=()=>c&&!i&&r.complete();t.subscribe((0,jr.x)(r,m=>{null==i||i.unsubscribe();let y=0;const b=s++;(0,ia.Xf)(n(m,b)).subscribe(i=(0,jr.x)(r,S=>r.next(e?e(m,S,b,y++):S),()=>{i=null,h()}))},()=>{c=!0,h()}))})}function xs(n){return n<=0?()=>Ji.E:(0,ai.e)((e,t)=>{let r=0;e.subscribe((0,jr.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Na(...n){const e=(0,lo.yG)(n);return(0,ai.e)((t,r)=>{(e?wc(n,t,e):wc(n,t)).subscribe(r)})}function ki(n,e){return(0,ai.e)((t,r)=>{let i=0;t.subscribe((0,jr.x)(r,s=>n.call(e,s,i++)&&r.next(s)))})}var Pr=R(5577);function xl(n){return(0,ai.e)((e,t)=>{let r=!1;e.subscribe((0,jr.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Cc(n=Fa){return(0,ai.e)((e,t)=>{let r=!1;e.subscribe((0,jr.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Fa(){return new Il}function Io(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ki((i,s)=>n(i,s,r)):na.y,xs(1),t?xl(e):Cc(()=>new Il))}function ns(n,e){return(0,Bo.m)(e)?(0,Pr.z)(n,e,1):(0,Pr.z)(n,1)}var Qr=R(8505);function $o(n){return(0,ai.e)((e,t)=>{let s,r=null,i=!1;r=e.subscribe((0,jr.x)(t,void 0,void 0,c=>{s=(0,ia.Xf)(n(c,$o(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function La(n,e){return(0,ai.e)(function Qy(n,e,t,r,i){return(s,c)=>{let h=t,m=e,y=0;s.subscribe((0,jr.x)(c,b=>{const S=y++;m=h?n(m,b,S):(h=!0,b),r&&c.next(m)},i&&(()=>{h&&c.next(m),c.complete()})))}}(n,e,arguments.length>=2,!0))}function Ec(n){return n<=0?()=>Ji.E:(0,ai.e)((e,t)=>{let r=[];e.subscribe((0,jr.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Ua(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ki((i,s)=>n(i,s,r)):na.y,Ec(1),t?xl(e):Cc(()=>new Il))}function Ml(n){return(0,ai.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const nn="primary",zi=Symbol("RouteTitle");class Jf{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function uo(n){return new Jf(n)}function sh(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const c=r[s],h=n[s];if(c.startsWith(":"))i[c.substring(1)]=h;else if(c!==h.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function bo(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!lh(n[i],e[i]))return!1;return!0}function lh(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function ch(n){return Array.prototype.concat.apply([],n)}function uh(n){return n.length>0?n[n.length-1]:null}function D(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function x(n){return(0,a.CqO)(n)?n:(0,a.QGY)(n)?(0,Vn.D)(Promise.resolve(n)):Nt(n)}const q=!1,ge={exact:function _t(n,e,t){if(!li(n.segments,e.segments)||!vi(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!_t(n.children[r],e.children[r],t))return!1;return!0},subset:_n},Ae={exact:function vt(n,e){return bo(n,e)},subset:function Ht(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>lh(n[t],e[t]))},ignored:()=>!0};function Ve(n,e,t){return ge[t.paths](n.root,e.root,t.matrixParams)&&Ae[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function _n(n,e,t){return yn(n,e,e.segments,t)}function yn(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!li(i,t)||e.hasChildren()||!vi(i,t,r))}if(n.segments.length===t.length){if(!li(n.segments,t)||!vi(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!_n(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(li(n.segments,i)&&vi(n.segments,i,r)&&n.children[nn])&&yn(n.children[nn],e,s,r)}}function vi(n,e,t){return e.every((r,i)=>Ae[t](n[i].parameters,r.parameters))}class or{constructor(e=new An([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=uo(this.queryParams)),this._queryParamMap}toString(){return dh.serialize(this)}}class An{constructor(e,t){this.segments=e,this.children=t,this.parent=null,D(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ic(this)}}class Vo{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=uo(this.parameters)),this._parameterMap}toString(){return lm(this)}}function li(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Do=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return new ep},providedIn:"root"}),n})();class ep{parse(e){const t=new M(e);return new or(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${bc(e.root,!0)}`,r=function cm(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Ol(t)}=${Ol(i)}`).join("&"):`${Ol(t)}=${Ol(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function tp(n){return encodeURI(n)}(e.fragment)}`:""}`}}const dh=new ep;function Ic(n){return n.segments.map(e=>lm(e)).join("/")}function bc(n,e){if(!n.hasChildren())return Ic(n);if(e){const t=n.children[nn]?bc(n.children[nn],!1):"",r=[];return D(n.children,(i,s)=>{s!==nn&&r.push(`${s}:${bc(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function jo(n,e){let t=[];return D(n.children,(r,i)=>{i===nn&&(t=t.concat(e(r,i)))}),D(n.children,(r,i)=>{i!==nn&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===nn?[bc(n.children[nn],!1)]:[`${i}:${bc(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[nn]?`${Ic(n)}/${t[0]}`:`${Ic(n)}/(${t.join("//")})`}}function Rl(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ol(n){return Rl(n).replace(/%3B/gi,";")}function Ba(n){return Rl(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Dc(n){return decodeURIComponent(n)}function np(n){return Dc(n.replace(/\+/g,"%20"))}function lm(n){return`${Ba(n.path)}${function rp(n){return Object.keys(n).map(e=>`;${Ba(e)}=${Ba(n[e])}`).join("")}(n.parameters)}`}const Xy=/^[^\/()?;=#]+/;function ip(n){const e=n.match(Xy);return e?e[0]:""}const w=/^[^=?&#]+/,_=/^[^&#]+/;class M{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new An([],{}):new An([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[nn]=new An(e,t)),r}parseSegment(){const e=ip(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new a.vHH(4009,q);return this.capture(e),new Vo(Dc(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=ip(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=ip(this.remaining);i&&(r=i,this.capture(r))}e[Dc(t)]=Dc(r)}parseQueryParam(e){const t=function p(n){const e=n.match(w);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const c=function I(n){const e=n.match(_);return e?e[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const i=np(t),s=np(r);if(e.hasOwnProperty(i)){let c=e[i];Array.isArray(c)||(c=[c],e[i]=c),c.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=ip(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new a.vHH(4010,q);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=nn);const c=this.parseChildren();t[s]=1===Object.keys(c).length?c[nn]:new An([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new a.vHH(4011,q)}}function U(n){return n.segments.length>0?new An([],{[nn]:n}):n}function Ie(n){const e={};for(const r of Object.keys(n.children)){const s=Ie(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function Ke(n){if(1===n.numberOfChildren&&n.children[nn]){const e=n.children[nn];return new An(n.segments.concat(e.segments),e.children)}return n}(new An(n.segments,e))}function mt(n){return n instanceof or}const Dt=!1;function sa(n,e,t,r,i){var s;if(0===t.length)return rs(e.root,e.root,e.root,r,i);const c=function Nu(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new hh(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,c)=>{if("object"==typeof s&&null!=s){if(s.outlets){const h={};return D(s.outlets,(m,y)=>{h[y]="string"==typeof m?m.split("/"):m}),[...i,{outlets:h}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===c?(s.split("/").forEach((h,m)=>{0==m&&"."===h||(0==m&&""===h?t=!0:".."===h?e++:""!=h&&i.push(h))}),i):[...i,s]},[]);return new hh(t,e,r)}(t);return c.toRoot()?rs(e.root,e.root,new An([],{}),r,i):function h(y){var b;const S=function ph(n,e,t,r){if(n.isAbsolute)return new Va(e.root,!0,0);if(-1===r)return new Va(t,t===e.root,0);return function Tc(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new a.vHH(4005,Dt&&"Invalid number of '../'");i=r.segments.length}return new Va(r,!1,i-s)}(t,r+($a(n.commands[0])?0:1),n.numberOfDoubleDots)}(c,e,null===(b=n.snapshot)||void 0===b?void 0:b._urlSegment,y),P=S.processChildren?ja(S.segmentGroup,S.index,c.commands):Sc(S.segmentGroup,S.index,c.commands);return rs(e.root,S.segmentGroup,P,r,i)}(null===(s=n.snapshot)||void 0===s?void 0:s._lastPathIndex)}function $a(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function ku(n){return"object"==typeof n&&null!=n&&n.outlets}function rs(n,e,t,r,i){let c,s={};r&&D(r,(m,y)=>{s[y]=Array.isArray(m)?m.map(b=>`${b}`):`${m}`}),c=n===e?t:op(n,e,t);const h=U(Ie(c));return new or(h,s,i)}function op(n,e,t){const r={};return D(n.children,(i,s)=>{r[s]=i===e?t:op(i,e,t)}),new An(n.segments,r)}class hh{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&$a(r[0]))throw new a.vHH(4003,Dt&&"Root segment cannot have matrix parameters");const i=r.find(ku);if(i&&i!==uh(r))throw new a.vHH(4004,Dt&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Va{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Sc(n,e,t){if(n||(n=new An([],{})),0===n.segments.length&&n.hasChildren())return ja(n,e,t);const r=function Jy(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const c=n.segments[i],h=t[r];if(ku(h))break;const m=`${h}`,y=r<t.length-1?t[r+1]:null;if(i>0&&void 0===m)break;if(m&&y&&"object"==typeof y&&void 0===y.outlets){if(!ev(m,y,c))return s;r+=2}else{if(!ev(m,{},c))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new An(n.segments.slice(0,r.pathIndex),{});return s.children[nn]=new An(n.segments.slice(r.pathIndex),n.children),ja(s,0,i)}return r.match&&0===i.length?new An(n.segments,{}):r.match&&!n.hasChildren()?sp(n,e,t):r.match?ja(n,0,i):sp(n,e,t)}function ja(n,e,t){if(0===t.length)return new An(n.segments,{});{const r=function gh(n){return ku(n[0])?n[0].outlets:{[nn]:n}}(t),i={};if(!r[nn]&&n.children[nn]&&1===n.numberOfChildren&&0===n.children[nn].segments.length){const s=ja(n.children[nn],e,t);return new An(n.segments,s.children)}return D(r,(s,c)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[c]=Sc(n.children[c],e,s))}),D(n.children,(s,c)=>{void 0===r[c]&&(i[c]=s)}),new An(n.segments,i)}}function sp(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(ku(s)){const m=ap(s.outlets);return new An(r,m)}if(0===i&&$a(t[0])){r.push(new Vo(n.segments[e].path,KC(t[0]))),i++;continue}const c=ku(s)?s.outlets[nn]:`${s}`,h=i<t.length-1?t[i+1]:null;c&&h&&$a(h)?(r.push(new Vo(c,KC(h))),i+=2):(r.push(new Vo(c,{})),i++)}return new An(r,{})}function ap(n){const e={};return D(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=sp(new An([],{}),0,t))}),e}function KC(n){const e={};return D(n,(t,r)=>e[r]=`${t}`),e}function ev(n,e,t){return n==t.path&&bo(e,t.parameters)}const lp="imperative";class Ha{constructor(e,t){this.id=e,this.url=t}}class um extends Ha{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ac extends Ha{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class cp extends Ha{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Fu extends Ha{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class up extends Ha{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class mh extends Ha{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class FS extends Ha{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class LS extends Ha{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Sk extends Ha{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class US extends Ha{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tv{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class BS{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class QC{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dm{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nv{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class XC{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rv{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let $S=(()=>{class n{createUrlTree(t,r,i,s,c,h){return sa(t||r.root,i,s,c,h)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),jS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(e){return $S.\u0275fac(e)},providedIn:"root"}),n})();class tE{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=iv(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=iv(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Ga(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Ga(e,this._root).map(t=>t.value)}}function iv(n,e){if(n===e.value)return e;for(const t of e.children){const r=iv(n,t);if(r)return r}return null}function Ga(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Ga(n,t);if(r.length)return r.unshift(e),r}return[]}class is{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function _h(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class HS extends tE{constructor(e,t){super(e),this.snapshot=t,ov(this,e)}toString(){return this.snapshot.toString()}}function GS(n,e){const t=function Ak(n,e){const c=new hm([],{},{},"",{},nn,e,null,n.root,-1,{});return new rE("",new is(c,[]))}(n,e),r=new Mr([new Vo("",{})]),i=new Mr({}),s=new Mr({}),c=new Mr({}),h=new Mr(""),m=new za(r,i,c,h,s,nn,e,t.root);return m.snapshot=t.root,new HS(new is(m,[]),t)}class za{constructor(e,t,r,i,s,c,h,m){var y,b;this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=c,this.component=h,this.title=null!==(y=null===(b=this.data)||void 0===b?void 0:b.pipe((0,Vt.U)(S=>S[zi])))&&void 0!==y?y:Nt(void 0),this._futureSnapshot=m}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Vt.U)(e=>uo(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Vt.U)(e=>uo(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function zS(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function nE(n){return n.reduce((e,t)=>{var r;return{params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...null===(r=t.routeConfig)||void 0===r?void 0:r.data,...t._resolvedData}}},{params:{},data:{},resolve:{}})}(t.slice(r))}class hm{get title(){var e;return null===(e=this.data)||void 0===e?void 0:e[zi]}constructor(e,t,r,i,s,c,h,m,y,b,S){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=c,this.component=h,this.routeConfig=m,this._urlSegment=y,this._lastPathIndex=b,this._resolve=S}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=uo(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=uo(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class rE extends tE{constructor(e,t){super(t),this.url=e,ov(this,t)}toString(){return iE(this._root)}}function ov(n,e){e.value._routerState=n,e.children.forEach(t=>ov(n,t))}function iE(n){const e=n.children.length>0?` { ${n.children.map(iE).join(", ")} } `:"";return`${n.value}${e}`}function dp(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,bo(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),bo(e.params,t.params)||n.params.next(t.params),function ah(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!bo(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),bo(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function aa(n,e){const t=bo(n.params,e.params)&&function Pl(n,e){return li(n,e)&&n.every((t,r)=>bo(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||aa(n.parent,e.parent))}function yh(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function oE(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return yh(n,r,i);return yh(n,r)})}(n,e,t);return new is(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const c=s.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(h=>yh(n,h)),c}}const r=function sE(n){return new za(new Mr(n.url),new Mr(n.params),new Mr(n.queryParams),new Mr(n.fragment),new Mr(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>yh(n,s));return new is(r,i)}}const aE="ngNavigationCancelingError";function qS(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=mt(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=WS(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function WS(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[aE]=!0,r.cancellationCode=e,t&&(r.url=t),r}function fm(n){return pm(n)&&mt(n.url)}function pm(n){return n&&n[aE]}class xk{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new vh,this.attachRef=null}}let vh=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new xk,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const fp=!1;let lE=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=nn,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.attachEvents=new a.vpe,this.detachEvents=new a.vpe,this.parentContexts=(0,a.f3M)(vh),this.location=(0,a.f3M)(a.s_b),this.changeDetector=(0,a.f3M)(a.sBO),this.environmentInjector=(0,a.f3M)(a.lqb)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){var r;return(null===(r=this.parentContexts.getContext(t))||void 0===r?void 0:r.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);null!=t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new a.vHH(4012,fp);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new a.vHH(4012,fp);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new a.vHH(4012,fp);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new a.vHH(4013,fp);this._activatedRoute=t;const i=this.location,c=t.snapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,m=new ZS(t,h,i.injector);if(r&&function YS(n){return!!n.resolveComponentFactory}(r)){const y=r.resolveComponentFactory(c);this.activated=i.createComponent(y,i.length,m)}else this.activated=i.createComponent(c,{index:i.length,injector:m,environmentInjector:null!=r?r:this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[a.TTD]}),n})();class ZS{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===za?this.route:e===vh?this.childContexts:this.parent.get(e,t)}}let sv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[a.jDz],decls:1,vars:0,template:function(t,r){1&t&&a._UZ(0,"router-outlet")},dependencies:[lE],encapsulation:2}),n})();function av(n,e){var t;return n.providers&&!n._injector&&(n._injector=(0,a.MMx)(n.providers,e,`Route: ${n.path}`)),null!==(t=n._injector)&&void 0!==t?t:e}function gm(n){const e=n.children&&n.children.map(gm),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==nn&&(t.component=sv),t}function Ms(n){return n.outlet||nn}function uE(n,e){const t=n.filter(r=>Ms(r)===e);return t.push(...n.filter(r=>Ms(r)!==e)),t}function pp(n){var e;if(!n)return null;if(null!==(e=n.routeConfig)&&void 0!==e&&e._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const r=t.routeConfig;if(null!=r&&r._loadedInjector)return r._loadedInjector;if(null!=r&&r._injector)return r._injector}return null}class dE{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),dp(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=_h(t);e.children.forEach(s=>{const c=s.value.outlet;this.deactivateRoutes(s,i[c],r),delete i[c]}),D(i,(s,c)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=_h(e);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],i);if(r&&r.outlet){const c=r.outlet.detach(),h=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:h})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=_h(e);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=_h(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new XC(s.value.snapshot))}),e.children.length&&this.forwardEvent(new dm(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(dp(i),i===s)if(i.component){const h=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,h.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const h=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const m=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),h.children.onOutletReAttached(m.contexts),h.attachRef=m.componentRef,h.route=m.route.value,h.outlet&&h.outlet.attach(m.componentRef,m.route.value),dp(m.route.value),this.activateChildRoutes(e,null,h.children)}else{var c;const m=pp(i.snapshot),y=null!==(c=null==m?void 0:m.get(a._Vd))&&void 0!==c?c:null;h.attachRef=null,h.route=i,h.resolver=y,h.injector=m,h.outlet&&h.outlet.activateWith(i,h.injector),this.activateChildRoutes(e,null,h.children)}}else this.activateChildRoutes(e,null,r)}}class JS{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class uv{constructor(e,t){this.component=e,this.route=t}}function gp(n,e,t){const r=n._root;return wh(r,e?e._root:null,t,[r.value])}function Lu(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,a.Z0I)(n)?e.get(n):n:r}function wh(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=_h(e);return n.children.forEach(c=>{(function hE(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,c=e?e.value:null,h=t?t.getContext(n.value.outlet):null;if(c&&s.routeConfig===c.routeConfig){const m=function eA(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!li(n.url,e.url);case"pathParamsOrQueryParamsChange":return!li(n.url,e.url)||!bo(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!aa(n,e)||!bo(n.queryParams,e.queryParams);default:return!aa(n,e)}}(c,s,s.routeConfig.runGuardsAndResolvers);m?i.canActivateChecks.push(new JS(r)):(s.data=c.data,s._resolvedData=c._resolvedData),wh(n,e,s.component?h?h.children:null:t,r,i),m&&h&&h.outlet&&h.outlet.isActivated&&i.canDeactivateChecks.push(new uv(h.outlet.component,c))}else c&&mp(e,h,i),i.canActivateChecks.push(new JS(r)),wh(n,null,s.component?h?h.children:null:t,r,i)})(c,s[c.value.outlet],t,r.concat([c.value]),i),delete s[c.value.outlet]}),D(s,(c,h)=>mp(c,t.getContext(h),i)),i}function mp(n,e,t){const r=_h(n),i=n.value;D(r,(s,c)=>{mp(s,i.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new uv(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Ch(n){return"function"==typeof n}function kl(n){return n instanceof Il||"EmptyError"===(null==n?void 0:n.name)}const mm=Symbol("INITIAL_VALUE");function xc(){return ur(n=>Mu(n.map(e=>e.pipe(xs(1),Na(mm)))).pipe((0,Vt.U)(e=>{for(const t of e)if(!0!==t){if(t===mm)return mm;if(!1===t||t instanceof or)return t}return!0}),ki(e=>e!==mm),xs(1)))}function _v(n){return(0,Pu.z)((0,Qr.b)(e=>{if(mt(e))throw qS(0,e)}),(0,Vt.U)(e=>!0===e))}const yv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function mE(n,e,t,r,i){const s=vv(n,e,t);return s.matched?function Eh(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?Nt(i.map(c=>{const h=Lu(c,n);return x(function pv(n){return n&&Ch(n.canMatch)}(h)?h.canMatch(e,t):n.runInContext(()=>h(e,t)))})).pipe(xc(),_v()):Nt(!0)}(r=av(e,r),e,t).pipe((0,Vt.U)(c=>!0===c?s:{...yv})):Nt(s)}function vv(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...yv}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const s=(e.matcher||sh)(t,n,e);if(!s)return{...yv};const c={};D(s.posParams,(m,y)=>{c[y]=m.path});const h=s.consumed.length>0?{...c,...s.consumed[s.consumed.length-1].parameters}:c;return{matched:!0,consumedSegments:s.consumed,remainingSegments:t.slice(s.consumed.length),parameters:h,positionalParamSegments:null!==(r=s.posParams)&&void 0!==r?r:{}}}function Ih(n,e,t,r){if(t.length>0&&function aA(n,e,t){return t.some(r=>wv(n,e,r)&&Ms(r)!==nn)}(n,t,r)){const s=new An(e,function _E(n,e,t,r){const i={};i[nn]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&Ms(s)!==nn){const c=new An([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,i[Ms(s)]=c}return i}(n,e,r,new An(t,n.children)));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===t.length&&function yE(n,e,t){return t.some(r=>wv(n,e,r))}(n,t,r)){const s=new An(n.segments,function sA(n,e,t,r,i){const s={};for(const c of r)if(wv(n,t,c)&&!i[Ms(c)]){const h=new An([],{});h._sourceSegment=n,h._segmentIndexShift=e.length,s[Ms(c)]=h}return{...i,...s}}(n,e,t,r,n.children));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}const i=new An(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function wv(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function vE(n,e,t,r){return!!(Ms(n)===r||r!==nn&&wv(e,t,n))&&("**"===n.path||vv(e,n,t).matched)}function bh(n,e,t){return 0===e.length&&!n.children[t]}const vm=!1;class Nl{constructor(e){this.segmentGroup=e||null}}class Dh{constructor(e){this.urlTree=e}}function _p(n){return Sl(new Nl(n))}function Cv(n){return Sl(new Dh(n))}class wE{constructor(e,t,r,i,s){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const e=Ih(this.urlTree.root,[],[],this.config).segmentGroup,t=new An(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,nn).pipe((0,Vt.U)(s=>this.createUrlTree(Ie(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe($o(s=>{if(s instanceof Dh)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Nl?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,nn).pipe((0,Vt.U)(i=>this.createUrlTree(Ie(i),e.queryParams,e.fragment))).pipe($o(i=>{throw i instanceof Nl?this.noMatchError(i):i}))}noMatchError(e){return new a.vHH(4002,vm)}createUrlTree(e,t,r){const i=U(e);return new or(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Vt.U)(s=>new An([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return(0,Vn.D)(i).pipe(ns(s=>{const c=r.children[s],h=uE(t,s);return this.expandSegmentGroup(e,h,c,s).pipe((0,Vt.U)(m=>({segment:m,outlet:s})))}),La((s,c)=>(s[c.outlet]=c.segment,s),{}),Ua())}expandSegment(e,t,r,i,s,c){return(0,Vn.D)(r).pipe(ns(h=>this.expandSegmentAgainstRoute(e,t,r,h,i,s,c).pipe($o(y=>{if(y instanceof Nl)return Nt(null);throw y}))),Io(h=>!!h),$o((h,m)=>{if(kl(h))return bh(t,i,s)?Nt(new An([],{})):_p(t);throw h}))}expandSegmentAgainstRoute(e,t,r,i,s,c,h){return vE(i,t,s,c)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,c):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,c):_p(t):_p(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,c){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Cv(s):this.lineralizeSegments(r,s).pipe((0,Pr.z)(c=>{const h=new An(c,{});return this.expandSegment(e,h,t,c,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,c){const{matched:h,consumedSegments:m,remainingSegments:y,positionalParamSegments:b}=vv(t,i,s);if(!h)return _p(t);const S=this.applyRedirectCommands(m,i.redirectTo,b);return i.redirectTo.startsWith("/")?Cv(S):this.lineralizeSegments(i,S).pipe((0,Pr.z)(P=>this.expandSegment(e,t,r,P.concat(y),c,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){return"**"===r.path?(e=av(r,e),r.loadChildren?(r._loadedRoutes?Nt({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,Vt.U)(h=>(r._loadedRoutes=h.routes,r._loadedInjector=h.injector,new An(i,{})))):Nt(new An(i,{}))):mE(t,r,i,e).pipe(ur(({matched:c,consumedSegments:h,remainingSegments:m})=>{var y;return c?(e=null!==(y=r._injector)&&void 0!==y?y:e,this.getChildConfig(e,r,i).pipe((0,Pr.z)(S=>{var P;const V=null!==(P=S.injector)&&void 0!==P?P:e,ne=S.routes,{segmentGroup:Ne,slicedSegments:Xe}=Ih(t,h,m,ne),ut=new An(Ne.segments,Ne.children);if(0===Xe.length&&ut.hasChildren())return this.expandChildren(V,ne,ut).pipe((0,Vt.U)(Sn=>new An(h,Sn)));if(0===ne.length&&0===Xe.length)return Nt(new An(h,{}));const xt=Ms(r)===s;return this.expandSegment(V,ut,ne,Xe,xt?nn:s,!0).pipe((0,Vt.U)(Mt=>new An(h.concat(Mt.segments),Mt.children)))}))):_p(t)}))}getChildConfig(e,t,r){return t.children?Nt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?Nt({routes:t._loadedRoutes,injector:t._loadedInjector}):function oA(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?Nt(!0):Nt(i.map(c=>{const h=Lu(c,n);return x(function hv(n){return n&&Ch(n.canLoad)}(h)?h.canLoad(e,t):n.runInContext(()=>h(e,t)))})).pipe(xc(),_v())}(e,t,r).pipe((0,Pr.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,Qr.b)(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function cA(n){return Sl(WS(vm,3))}())):Nt({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Nt(r);if(i.numberOfChildren>1||!i.children[nn])return e.redirectTo,Sl(new a.vHH(4e3,vm));i=i.children[nn]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new or(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return D(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const h=i.substring(1);r[s]=t[h]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let c={};return D(t.children,(h,m)=>{c[m]=this.createSegmentGroup(e,h,r,i)}),new An(s,c)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new a.vHH(4001,vm);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class Ev{}class yp{constructor(e,t,r,i,s,c,h){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=c,this.urlSerializer=h}recognize(){const e=Ih(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,nn).pipe((0,Vt.U)(t=>{if(null===t)return null;const r=new hm([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},nn,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new is(r,t),s=new rE(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const t=e.value,r=zS(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,Vn.D)(Object.keys(r.children)).pipe(ns(i=>{const s=r.children[i],c=uE(t,i);return this.processSegmentGroup(e,c,s,i)}),La((i,s)=>i&&s?(i.push(...s),i):null),function oa(n,e=!1){return(0,ai.e)((t,r)=>{let i=0;t.subscribe((0,jr.x)(r,s=>{const c=n(s,i++);(c||e)&&r.next(s),!c&&r.complete()}))})}(i=>null!==i),xl(null),Ua(),(0,Vt.U)(i=>{if(null===i)return null;const s=EE(i);return function hA(n){n.sort((e,t)=>e.value.outlet===nn?-1:t.value.outlet===nn?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}))}processSegment(e,t,r,i,s){return(0,Vn.D)(t).pipe(ns(c=>{var h;return this.processSegmentAgainstRoute(null!==(h=c._injector)&&void 0!==h?h:e,c,r,i,s)}),Io(c=>!!c),$o(c=>{if(kl(c))return bh(r,i,s)?Nt([]):Nt(null);throw c}))}processSegmentAgainstRoute(e,t,r,i,s){if(t.redirectTo||!vE(t,r,i,s))return Nt(null);let c;if("**"===t.path){var h,m;const y=i.length>0?uh(i).parameters:{},b=bE(r)+i.length;c=Nt({snapshot:new hm(i,y,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,qa(t),Ms(t),null!==(h=null!==(m=t.component)&&void 0!==m?m:t._loadedComponent)&&void 0!==h?h:null,t,IE(r),b,DE(t)),consumedSegments:[],remainingSegments:[]})}else c=mE(r,t,i,e).pipe((0,Vt.U)(({matched:y,consumedSegments:b,remainingSegments:S,parameters:P})=>{var V,ne;if(!y)return null;const Ne=bE(r)+b.length;return{snapshot:new hm(b,P,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,qa(t),Ms(t),null!==(V=null!==(ne=t.component)&&void 0!==ne?ne:t._loadedComponent)&&void 0!==V?V:null,t,IE(r),Ne,DE(t)),consumedSegments:b,remainingSegments:S}}));return c.pipe(ur(y=>{var b,S;if(null===y)return Nt(null);const{snapshot:P,consumedSegments:V,remainingSegments:ne}=y;e=null!==(b=t._injector)&&void 0!==b?b:e;const Ne=null!==(S=t._loadedInjector)&&void 0!==S?S:e,Xe=function fA(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:ut,slicedSegments:xt}=Ih(r,V,ne,Xe.filter(Mt=>void 0===Mt.redirectTo));if(0===xt.length&&ut.hasChildren())return this.processChildren(Ne,Xe,ut).pipe((0,Vt.U)(Mt=>null===Mt?null:[new is(P,Mt)]));if(0===Xe.length&&0===xt.length)return Nt([new is(P,[])]);const yt=Ms(t)===s;return this.processSegment(Ne,Xe,ut,xt,yt?nn:s).pipe((0,Vt.U)(Mt=>null===Mt?null:[new is(P,Mt)]))}))}}function pA(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function EE(n){const e=[],t=new Set;for(const r of n){if(!pA(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=EE(r.children);e.push(new is(r.value,i))}return e.filter(r=>!t.has(r))}function IE(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function bE(n){var e;let t=n,r=null!==(e=t._segmentIndexShift)&&void 0!==e?e:0;for(;t._sourceSegment;){var i;t=t._sourceSegment,r+=null!==(i=t._segmentIndexShift)&&void 0!==i?i:0}return r-1}function qa(n){return n.data||{}}function DE(n){return n.resolve||{}}function bv(n){return"string"==typeof n.title||null===n.title}function Dv(n){return ur(e=>{const t=n(e);return t?(0,Vn.D)(t).pipe((0,Vt.U)(()=>e)):Nt(e)})}const Th=new a.OlP("ROUTES");let Sv=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,a.f3M)(a.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Nt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=x(t.loadComponent()).pipe((0,Vt.U)(AE),(0,Qr.b)(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),Ml(()=>{this.componentLoaders.delete(t)})),i=new Xf(r,()=>new yi.x).pipe(Al());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Nt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,Vt.U)(h=>{this.onLoadEndListener&&this.onLoadEndListener(r);let m,y,b=!1;Array.isArray(h)?y=h:(m=h.create(t).injector,y=ch(m.get(Th,[],a.XFs.Self|a.XFs.Optional)));return{routes:y.map(gm),injector:m}}),Ml(()=>{this.childrenLoaders.delete(r)})),c=new Xf(s,()=>new yi.x).pipe(Al());return this.childrenLoaders.set(r,c),c}loadModuleFactoryOrRoutes(t){return x(t()).pipe((0,Vt.U)(AE),(0,Pr.z)(r=>r instanceof a.YKP||Array.isArray(r)?Nt(r):(0,Vn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function AE(n){return function la(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Cm=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new yi.x,this.configLoader=(0,a.f3M)(Sv),this.environmentInjector=(0,a.f3M)(a.lqb),this.urlSerializer=(0,a.f3M)(Do),this.rootContexts=(0,a.f3M)(vh),this.navigationId=0,this.afterPreactivation=()=>Nt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new BS(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new tv(i))}complete(){var t;null===(t=this.transitions)||void 0===t||t.complete()}handleNavigationRequest(t){var r;const i=++this.navigationId;null===(r=this.transitions)||void 0===r||r.next({...this.transitions.value,...t,id:i})}setupNavigations(t){return this.transitions=new Mr({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:lp,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ki(r=>0!==r.id),(0,Vt.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),ur(r=>{let i=!1,s=!1;return Nt(r).pipe((0,Qr.b)(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),ur(c=>{var h;const m=t.browserUrlTree.toString(),y=!t.navigated||c.extractedUrl.toString()!==m||m!==t.currentUrlTree.toString(),b=null!==(h=c.extras.onSameUrlNavigation)&&void 0!==h?h:t.onSameUrlNavigation;if(!y&&"reload"!==b){const S="";return this.events.next(new Fu(c.id,t.serializeUrl(r.rawUrl),S,0)),t.rawUrlTree=c.rawUrl,c.resolve(null),Ji.E}if(t.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return xE(c.source)&&(t.browserUrlTree=c.extractedUrl),Nt(c).pipe(ur(S=>{var P,V;const ne=null===(P=this.transitions)||void 0===P?void 0:P.getValue();return this.events.next(new um(S.id,this.urlSerializer.serialize(S.extractedUrl),S.source,S.restoredState)),ne!==(null===(V=this.transitions)||void 0===V?void 0:V.getValue())?Ji.E:Promise.resolve(S)}),function CE(n,e,t,r){return ur(i=>function uA(n,e,t,r,i){return new wE(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,Vt.U)(s=>({...i,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),(0,Qr.b)(S=>{this.currentNavigation={...this.currentNavigation,finalUrl:S.urlAfterRedirects},r.urlAfterRedirects=S.urlAfterRedirects}),function mA(n,e,t,r,i){return(0,Pr.z)(s=>function Iv(n,e,t,r,i,s,c="emptyOnly"){return new yp(n,e,t,r,i,c,s).recognize().pipe(ur(h=>null===h?function dA(n){return new si.y(e=>e.error(n))}(new Ev):Nt(h)))}(n,e,t,s.urlAfterRedirects,r.serialize(s.urlAfterRedirects),r,i).pipe((0,Vt.U)(c=>({...s,targetSnapshot:c}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,Qr.b)(S=>{if(r.targetSnapshot=S.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!S.extras.skipLocationChange){const V=t.urlHandlingStrategy.merge(S.urlAfterRedirects,S.rawUrl);t.setBrowserUrl(V,S)}t.browserUrlTree=S.urlAfterRedirects}const P=new mh(S.id,this.urlSerializer.serialize(S.extractedUrl),this.urlSerializer.serialize(S.urlAfterRedirects),S.targetSnapshot);this.events.next(P)}));if(y&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:S,extractedUrl:P,source:V,restoredState:ne,extras:Ne}=c,Xe=new um(S,this.urlSerializer.serialize(P),V,ne);this.events.next(Xe);const ut=GS(P,this.rootComponentType).snapshot;return Nt(r={...c,targetSnapshot:ut,urlAfterRedirects:P,extras:{...Ne,skipLocationChange:!1,replaceUrl:!1}})}{const S="";return this.events.next(new Fu(c.id,t.serializeUrl(r.extractedUrl),S,1)),t.rawUrlTree=c.rawUrl,c.resolve(null),Ji.E}}),(0,Qr.b)(c=>{const h=new FS(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(h)}),(0,Vt.U)(c=>r={...c,guards:gp(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),function _m(n,e){return(0,Pr.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:c}}=t;return 0===c.length&&0===s.length?Nt({...t,guardsResult:!0}):function rA(n,e,t,r){return(0,Vn.D)(n).pipe((0,Pr.z)(i=>function iA(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?Nt(s.map(h=>{var m;const y=null!==(m=pp(e))&&void 0!==m?m:i,b=Lu(h,y);return x(function tA(n){return n&&Ch(n.canDeactivate)}(b)?b.canDeactivate(n,e,t,r):y.runInContext(()=>b(n,e,t,r))).pipe(Io())})).pipe(xc()):Nt(!0)}(i.component,i.route,t,e,r)),Io(i=>!0!==i,!0))}(c,r,i,n).pipe((0,Pr.z)(h=>h&&function fE(n){return"boolean"==typeof n}(h)?function gv(n,e,t,r){return(0,Vn.D)(e).pipe(ns(i=>wc(function Uu(n,e){return null!==n&&e&&e(new QC(n)),Nt(!0)}(i.route.parent,r),function ym(n,e){return null!==n&&e&&e(new nv(n)),Nt(!0)}(i.route,r),function mv(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(c=>function dv(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>oh(()=>Nt(c.guards.map(m=>{var y;const b=null!==(y=pp(c.node))&&void 0!==y?y:t,S=Lu(m,b);return x(function fv(n){return n&&Ch(n.canActivateChild)}(S)?S.canActivateChild(r,n):b.runInContext(()=>S(r,n))).pipe(Io())})).pipe(xc())));return Nt(s).pipe(xc())}(n,i.path,t),function gE(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Nt(!0);const i=r.map(s=>oh(()=>{var c;const h=null!==(c=pp(e))&&void 0!==c?c:t,m=Lu(s,h);return x(function Rk(n){return n&&Ch(n.canActivate)}(m)?m.canActivate(e,n):h.runInContext(()=>m(e,n))).pipe(Io())}));return Nt(i).pipe(xc())}(n,i.route,t))),Io(i=>!0!==i,!0))}(r,s,n,e):Nt(h)),(0,Vt.U)(h=>({...t,guardsResult:h})))})}(this.environmentInjector,c=>this.events.next(c)),(0,Qr.b)(c=>{if(r.guardsResult=c.guardsResult,mt(c.guardsResult))throw qS(0,c.guardsResult);const h=new LS(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(h)}),ki(c=>!!c.guardsResult||(t.restoreHistory(c),this.cancelNavigationTransition(c,"",3),!1)),Dv(c=>{if(c.guards.canActivateChecks.length)return Nt(c).pipe((0,Qr.b)(h=>{const m=new Sk(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(m)}),ur(h=>{let m=!1;return Nt(h).pipe(function Ok(n,e){return(0,Pr.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Nt(t);let s=0;return(0,Vn.D)(i).pipe(ns(c=>function kk(n,e,t,r){const i=n.routeConfig,s=n._resolve;return void 0!==(null==i?void 0:i.title)&&!bv(i)&&(s[zi]=i.title),function TE(n,e,t,r){const i=function Nk(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return Nt({});const s={};return(0,Vn.D)(i).pipe((0,Pr.z)(c=>function SE(n,e,t,r){var i;const s=null!==(i=pp(e))&&void 0!==i?i:r,c=Lu(n,s);return x(c.resolve?c.resolve(e,t):s.runInContext(()=>c(e,t)))}(n[c],e,t,r).pipe(Io(),(0,Qr.b)(h=>{s[c]=h}))),Ec(1),function Ou(n){return(0,Vt.U)(()=>n)}(s),$o(c=>kl(c)?Ji.E:Sl(c)))}(s,n,e,r).pipe((0,Vt.U)(c=>(n._resolvedData=c,n.data=zS(n,t).resolve,i&&bv(i)&&(n.data[zi]=i.title),null)))}(c.route,r,n,e)),(0,Qr.b)(()=>s++),Ec(1),(0,Pr.z)(c=>s===i.length?Nt(t):Ji.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,Qr.b)({next:()=>m=!0,complete:()=>{m||(t.restoreHistory(h),this.cancelNavigationTransition(h,"",2))}}))}),(0,Qr.b)(h=>{const m=new US(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(m)}))}),Dv(c=>{const h=m=>{var y;const b=[];null!==(y=m.routeConfig)&&void 0!==y&&y.loadComponent&&!m.routeConfig._loadedComponent&&b.push(this.configLoader.loadComponent(m.routeConfig).pipe((0,Qr.b)(S=>{m.component=S}),(0,Vt.U)(()=>{})));for(const S of m.children)b.push(...h(S));return b};return Mu(h(c.targetSnapshot.root)).pipe(xl(),xs(1))}),Dv(()=>this.afterPreactivation()),(0,Vt.U)(c=>{const h=function hp(n,e,t){const r=yh(n,e._root,t?t._root:void 0);return new HS(r,e)}(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return r={...c,targetRouterState:h}}),(0,Qr.b)(c=>{t.currentUrlTree=c.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(c.urlAfterRedirects,c.rawUrl),t.routerState=c.targetRouterState,"deferred"===t.urlUpdateStrategy&&(c.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,c),t.browserUrlTree=c.urlAfterRedirects)}),((n,e,t)=>(0,Vt.U)(r=>(new dE(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c)),xs(1),(0,Qr.b)({next:c=>{var h;i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new Ac(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),null===(h=t.titleStrategy)||void 0===h||h.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{i=!0}}),Ml(()=>{var c;i||s||this.cancelNavigationTransition(r,"",1),(null===(c=this.currentNavigation)||void 0===c?void 0:c.id)===r.id&&(this.currentNavigation=null)}),$o(c=>{if(s=!0,pm(c)){fm(c)||(t.navigated=!0,t.restoreHistory(r,!0));const m=new cp(r.id,this.urlSerializer.serialize(r.extractedUrl),c.message,c.cancellationCode);if(this.events.next(m),fm(c)){const y=t.urlHandlingStrategy.merge(c.url,t.rawUrlTree),b={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||xE(r.source)};t.scheduleNavigation(y,lp,null,b,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{var h;t.restoreHistory(r,!0);const m=new up(r.id,this.urlSerializer.serialize(r.extractedUrl),c,null!==(h=r.targetSnapshot)&&void 0!==h?h:void 0);this.events.next(m);try{r.resolve(t.errorHandler(c))}catch(y){r.reject(y)}}return Ji.E}))}))}cancelNavigationTransition(t,r,i){const s=new cp(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function xE(n){return n!==lp}let ME=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;){var s;r=null!==(s=this.getResolvedTitleForRoute(i))&&void 0!==s?s:r,i=i.children.find(c=>c.outlet===nn)}return r}getResolvedTitleForRoute(t){return t.data[zi]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(_A)},providedIn:"root"}),n})(),_A=(()=>{class n extends ME{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Zf))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Av=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(vA)},providedIn:"root"}),n})();class yA{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let vA=(()=>{class n extends yA{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(n)))(r||n)}}(),n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Tn=new a.OlP("",{providedIn:"root",factory:()=>({})});let PE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(RE)},providedIn:"root"}),n})(),RE=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function CA(n){throw n}function EA(n,e,t){return e.parse("/")}const OE={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},IA={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Di=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){var t;if("computed"===this.canceledNavigationResolution)return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){var t;this.disposed=!1,this.currentPageId=0,this.console=(0,a.f3M)(a.c2e),this.isNgZoneEnabled=!1,this.options=(0,a.f3M)(Tn,{optional:!0})||{},this.errorHandler=this.options.errorHandler||CA,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||EA,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,a.f3M)(PE),this.routeReuseStrategy=(0,a.f3M)(Av),this.urlCreationStrategy=(0,a.f3M)(jS),this.titleStrategy=(0,a.f3M)(ME),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=ch(null!==(t=(0,a.f3M)(Th,{optional:!0}))&&void 0!==t?t:[]),this.navigationTransitions=(0,a.f3M)(Cm),this.urlSerializer=(0,a.f3M)(Do),this.location=(0,a.f3M)(Me),this.isNgZoneEnabled=(0,a.f3M)(a.R0b)instanceof a.R0b&&a.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new or,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=GS(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(r=>{var i;this.lastSuccessfulId=r.id,this.currentPageId=null!==(i=this.browserPageId)&&void 0!==i?i:0},r=>{this.console.warn(`Unhandled Navigation Error: ${r}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),lp,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const s={replaceUrl:!0},c=null!=i&&i.navigationId?i:null;if(i){const m={...i};delete m.navigationId,delete m.\u0275routerPageId,0!==Object.keys(m).length&&(s.state=m)}const h=this.parseUrl(t);this.scheduleNavigation(h,r,c,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(gm),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:c,queryParamsHandling:h,preserveFragment:m}=r,y=m?this.currentUrlTree.fragment:c;let b=null;switch(h){case"merge":b={...this.currentUrlTree.queryParams,...s};break;case"preserve":b=this.currentUrlTree.queryParams;break;default:b=s||null}return null!==b&&(b=this.removeEmptyProps(b)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,b,null!=y?y:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=mt(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,lp,null,r)}navigate(t,r={skipLocationChange:!1}){return function bA(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new a.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...OE}:!1===r?{...IA}:r,mt(t))return Ve(this.currentUrlTree,t,i);const s=this.parseUrl(t);return Ve(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(t,r,i,s,c){if(this.disposed)return Promise.resolve(!1);let h,m,y,b;if(c?(h=c.resolve,m=c.reject,y=c.promise):y=new Promise((P,V)=>{h=P,m=V}),"computed"===this.canceledNavigationResolution)if(i&&i.\u0275routerPageId)b=i.\u0275routerPageId;else{var S;b=(null!==(S=this.browserPageId)&&void 0!==S?S:0)+1}else b=0;return this.navigationTransitions.handleNavigationRequest({targetPageId:b,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:h,reject:m,promise:y,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),y.catch(P=>Promise.reject(P))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const c={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",c)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.go(i,"",s)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){var i,s;const c=null!==(i=this.browserPageId)&&void 0!==i?i:this.currentPageId,h=this.currentPageId-c;0!==h?this.location.historyGo(h):this.currentUrlTree===(null===(s=this.getCurrentNavigation())||void 0===s?void 0:s.finalUrl)&&0===h&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Sh=(()=>{class n{constructor(t,r,i,s,c,h){var m;this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=c,this.locationStrategy=h,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new yi.x;const y=null===(m=c.nativeElement.tagName)||void 0===m?void 0:m.toLowerCase();this.isAnchorElement="a"===y||"area"===y,this.isAnchorElement?this.subscription=t.events.subscribe(b=>{b instanceof Ac&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,a.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,a.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,a.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,s,c){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||s||c||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){var t;null===(t=this.subscription)||void 0===t||t.unsubscribe()}updateHref(){var t;this.href=null!==this.urlTree&&this.locationStrategy?null===(t=this.locationStrategy)||void 0===t?void 0:t.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const r=null===this.href?null:(0,a.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,t,r):i.removeAttribute(s,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Di),a.Y36(za),a.$8M("tabindex"),a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(He))},n.\u0275dir=a.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&a.NdJ("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&a.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[a.TTD]}),n})(),DA=(()=>{class n{get isActive(){return this._isActive}constructor(t,r,i,s,c){this.router=t,this.element=r,this.renderer=i,this.cdr=s,this.link=c,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new a.vpe,this.routerEventsSubscription=t.events.subscribe(h=>{h instanceof Ac&&this.update()})}ngAfterContentInit(){Nt(this.links.changes,Nt(null)).pipe((0,Tl.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const r=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=(0,Vn.D)(r).pipe((0,Tl.J)()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){!this.links||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const r=function kE(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&t.isActive(i.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Di),a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(a.sBO),a.Y36(Sh,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,r,i){if(1&t&&a.Suo(i,Sh,5),2&t){let s;a.iGM(s=a.CRH())&&(r.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[a.TTD]}),n})();class xv{}let Bu=(()=>{class n{preload(t,r){return r().pipe($o(()=>Nt(null)))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Mv=(()=>{class n{constructor(t,r,i,s,c){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(ki(t=>t instanceof Ac),ns(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const m of r){var s,c;m.providers&&!m._injector&&(m._injector=(0,a.MMx)(m.providers,t,`Route: ${m.path}`));const y=null!==(s=m._injector)&&void 0!==s?s:t,b=null!==(c=m._loadedInjector)&&void 0!==c?c:y;var h;(m.loadChildren&&!m._loadedRoutes&&void 0===m.canLoad||m.loadComponent&&!m._loadedComponent)&&i.push(this.preloadConfig(y,m)),(m.children||m._loadedRoutes)&&i.push(this.processRoutes(b,null!==(h=m.children)&&void 0!==h?h:m._loadedRoutes))}return(0,Vn.D)(i).pipe((0,Tl.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):Nt(null);const s=i.pipe((0,Pr.z)(c=>{var h;return null===c?Nt(void 0):(r._loadedRoutes=c.routes,r._loadedInjector=c.injector,this.processRoutes(null!==(h=c.injector)&&void 0!==h?h:t,c.routes))}));if(r.loadComponent&&!r._loadedComponent){const c=this.loader.loadComponent(r);return(0,Vn.D)([s,c]).pipe((0,Tl.J)())}return s})}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Di),a.LFG(a.Sil),a.LFG(a.lqb),a.LFG(xv),a.LFG(Sv))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Cp=new a.OlP("");let NE=(()=>{class n{constructor(t,r,i,s,c={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration=c.scrollPositionRestoration||"disabled",c.anchorScrolling=c.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof um?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ac&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof rv&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new rv(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){var t,r;null===(t=this.routerEventsSubscription)||void 0===t||t.unsubscribe(),null===(r=this.scrollEventsSubscription)||void 0===r||r.unsubscribe()}}return n.\u0275fac=function(t){a.$Z()},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();var Ps=(()=>((Ps=Ps||{})[Ps.COMPLETE=0]="COMPLETE",Ps[Ps.FAILED=1]="FAILED",Ps[Ps.REDIRECTING=2]="REDIRECTING",Ps))();const Ep=!1;function $u(n,e){return{\u0275kind:n,\u0275providers:e}}const Rv=new a.OlP("",{providedIn:"root",factory:()=>!1});function Ip(){const n=(0,a.f3M)(a.zs3);return e=>{var t,r;const i=n.get(a.z2F);if(e!==i.components[0])return;const s=n.get(Di),c=n.get(FE);1===n.get(Im)&&s.initialNavigation(),null===(t=n.get(LE,null,a.XFs.Optional))||void 0===t||t.setUpPreloading(),null===(r=n.get(Cp,null,a.XFs.Optional))||void 0===r||r.init(),s.resetRootComponentType(i.componentTypes[0]),c.closed||(c.next(),c.complete(),c.unsubscribe())}}const FE=new a.OlP(Ep?"bootstrap done indicator":"",{factory:()=>new yi.x}),Im=new a.OlP(Ep?"initial navigation":"",{providedIn:"root",factory:()=>1});function xA(){let n=[];return n=Ep?[{provide:a.Xts,multi:!0,useFactory:()=>{const e=(0,a.f3M)(Di);return()=>e.events.subscribe(t=>{var r,i,s,c;null===(r=(i=console).group)||void 0===r||r.call(i,`Router Event: ${t.constructor.name}`),console.log(function JC(n){var e,t,r,i;if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${(null===(e=n.snapshot.routeConfig)||void 0===e?void 0:e.path)||""}')`;case 13:return`ActivationStart(path: '${(null===(t=n.snapshot.routeConfig)||void 0===t?void 0:t.path)||""}')`;case 12:return`ChildActivationEnd(path: '${(null===(r=n.snapshot.routeConfig)||void 0===r?void 0:r.path)||""}')`;case 11:return`ChildActivationStart(path: '${(null===(i=n.snapshot.routeConfig)||void 0===i?void 0:i.path)||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),null===(s=(c=console).groupEnd)||void 0===s||s.call(c)})}}]:[],$u(1,n)}const LE=new a.OlP(Ep?"router preloader":"");function MA(n){return $u(0,[{provide:LE,useExisting:Mv},{provide:xv,useExisting:n}])}const xh=!1,OA=new a.OlP(xh?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),Ov=[Me,{provide:Do,useClass:ep},Di,vh,{provide:za,useFactory:function Pv(n){return n.routerState.root},deps:[Di]},Sv,xh?{provide:Rv,useValue:!0}:[]];function kA(){return new a.PXZ("Router",Di)}let NA=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[Ov,xh&&null!=r&&r.enableTracing?xA().\u0275providers:[],{provide:Th,multi:!0,useValue:t},{provide:OA,useFactory:$E,deps:[[Di,new a.FiY,new a.tp0]]},{provide:Tn,useValue:r||{}},null!=r&&r.useHash?{provide:He,useClass:fe}:{provide:He,useClass:Y},{provide:Cp,useFactory:()=>{const n=(0,a.f3M)(Xl),e=(0,a.f3M)(a.R0b),t=(0,a.f3M)(Tn),r=(0,a.f3M)(Cm),i=(0,a.f3M)(Do);return t.scrollOffset&&n.setOffset(t.scrollOffset),new NE(i,r,n,e,t)}},null!=r&&r.preloadingStrategy?MA(r.preloadingStrategy).\u0275providers:[],{provide:a.PXZ,multi:!0,useFactory:kA},null!=r&&r.initialNavigation?LA(r):[],[{provide:VE,useFactory:Ip},{provide:a.tb,multi:!0,useExisting:VE}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Th,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(OA,8))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[sv]}),n})();function $E(n){if(xh&&n)throw new a.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function LA(n){return["disabled"===n.initialNavigation?$u(3,[{provide:a.ip1,multi:!0,useFactory:()=>{const e=(0,a.f3M)(Di);return()=>{e.setUpLocationChangeListener()}}},{provide:Im,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?$u(2,[{provide:Im,useValue:0},{provide:a.ip1,multi:!0,deps:[a.zs3],useFactory:e=>{const t=e.get(Ee,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(Di),s=e.get(FE);(function Lk(n,e){n.events.pipe(ki(t=>t instanceof Ac||t instanceof cp||t instanceof up||t instanceof Fu),(0,Vt.U)(t=>t instanceof Ac||t instanceof Fu?Ps.COMPLETE:t instanceof cp&&(0===t.code||1===t.code)?Ps.REDIRECTING:Ps.FAILED),ki(t=>t!==Ps.REDIRECTING),xs(1)).subscribe(()=>{e()})})(i,()=>{r(!0)}),e.get(Cm).afterPreactivation=()=>(r(!0),s.closed?Nt(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const VE=new a.OlP(xh?"Router Initializer":"");var ze=R(5861);let Dm=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Qsj),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n}),n})(),Wa=(()=>{class n extends Dm{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(n)))(r||n)}}(),n.\u0275dir=a.lG2({type:n,features:[a.qOj]}),n})();const ho=new a.OlP("NgValueAccessor"),Nv={provide:ho,useExisting:(0,a.Gpc)(()=>Lv),multi:!0},Fv=new a.OlP("CompositionEventMode");let Lv=(()=>{class n extends Dm{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function jE(){const n=O()?O().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(Fv,8))},n.\u0275dir=a.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&a.NdJ("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[a._Bn([Nv]),a.qOj]}),n})();const UA=!1;function Fl(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function HE(n){return null!=n&&"number"==typeof n.length}const eo=new a.OlP("NgValidators"),Ll=new a.OlP("NgAsyncValidators"),BA=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ph{static min(e){return function Ho(n){return e=>{if(Fl(e.value)||Fl(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function GE(n){return e=>{if(Fl(e.value)||Fl(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return zE(e)}static requiredTrue(e){return function $A(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function Sm(n){return Fl(n.value)||BA.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function Uv(n){return e=>Fl(e.value)||!HE(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function qE(n){return e=>HE(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function WE(n){if(!n)return Am;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Fl(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return QE(e)}static composeAsync(e){return XE(e)}}function zE(n){return Fl(n.value)?{required:!0}:null}function Am(n){return null}function Bv(n){return null!=n}function ZE(n){const e=(0,a.QGY)(n)?(0,Vn.D)(n):n;if(UA&&!(0,a.CqO)(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new a.vHH(-1101,t)}return e}function YE(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function xm(n,e){return e.map(t=>t(n))}function KE(n){return n.map(e=>function VA(n){return!n.validate}(e)?e:t=>e.validate(t))}function QE(n){if(!n)return null;const e=n.filter(Bv);return 0==e.length?null:function(t){return YE(xm(t,e))}}function $v(n){return null!=n?QE(KE(n)):null}function XE(n){if(!n)return null;const e=n.filter(Bv);return 0==e.length?null:function(t){return function Dp(...n){const e=(0,lo.jO)(n),{args:t,keys:r}=Au(n),i=new si.y(s=>{const{length:c}=t;if(!c)return void s.complete();const h=new Array(c);let m=c,y=c;for(let b=0;b<c;b++){let S=!1;(0,ia.Xf)(t[b]).subscribe((0,jr.x)(s,P=>{S||(S=!0,y--),h[b]=P},()=>m--,void 0,()=>{(!m||!S)&&(y||s.next(r?vc(r,h):h),s.complete())}))}});return e?i.pipe(Xi(e)):i}(xm(t,e).map(ZE)).pipe((0,Vt.U)(YE))}}function Rs(n){return null!=n?XE(KE(n)):null}function Mm(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function JE(n){return n._rawValidators}function eI(n){return n._rawAsyncValidators}function Pm(n){return n?Array.isArray(n)?n:[n]:[]}function Rm(n,e){return Array.isArray(n)?n.includes(e):n===e}function tI(n,e){const t=Pm(e);return Pm(n).forEach(i=>{Rm(t,i)||t.push(i)}),t}function nI(n,e){return Pm(e).filter(t=>!Rm(n,t))}class Om{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=$v(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Rs(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class To extends Om{get formDirective(){return null}get path(){return null}}class Ul extends Om{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Tp{constructor(e){this._cd=e}get isTouched(){var e,t;return!(null===(e=this._cd)||void 0===e||null===(t=e.control)||void 0===t||!t.touched)}get isUntouched(){var e,t;return!(null===(e=this._cd)||void 0===e||null===(t=e.control)||void 0===t||!t.untouched)}get isPristine(){var e,t;return!(null===(e=this._cd)||void 0===e||null===(t=e.control)||void 0===t||!t.pristine)}get isDirty(){var e,t;return!(null===(e=this._cd)||void 0===e||null===(t=e.control)||void 0===t||!t.dirty)}get isValid(){var e,t;return!(null===(e=this._cd)||void 0===e||null===(t=e.control)||void 0===t||!t.valid)}get isInvalid(){var e,t;return!(null===(e=this._cd)||void 0===e||null===(t=e.control)||void 0===t||!t.invalid)}get isPending(){var e,t;return!(null===(e=this._cd)||void 0===e||null===(t=e.control)||void 0===t||!t.pending)}get isSubmitted(){var e;return!(null===(e=this._cd)||void 0===e||!e.submitted)}}let Sp=(()=>{class n extends Tp{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Ul,2))},n.\u0275dir=a.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&a.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[a.qOj]}),n})(),Vu=(()=>{class n extends Tp{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(To,10))},n.\u0275dir=a.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&a.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[a.qOj]}),n})();function lI(n,e){return n?`with name: '${e}'`:`at index: ${e}`}const cI=!1,Mp="VALID",Fm="INVALID",Rh="PENDING",Pp="DISABLED";function zv(n){return(Oh(n)?n.validators:n)||null}function qv(n,e){return(Oh(e)?e.asyncValidators:n)||null}function Oh(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class hI{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Mp}get invalid(){return this.status===Fm}get pending(){return this.status==Rh}get disabled(){return this.status===Pp}get enabled(){return this.status!==Pp}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(tI(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(tI(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(nI(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(nI(e,this._rawAsyncValidators))}hasValidator(e){return Rm(this._rawValidators,e)}hasAsyncValidator(e){return Rm(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Rh,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Pp,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Mp,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Mp||this.status===Rh)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Pp:Mp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Rh,this._hasOwnPendingAsyncValidator=!0;const t=ZE(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new a.vpe,this.statusChanges=new a.vpe}_calculateStatus(){return this._allControlsDisabled()?Pp:this.errors?Fm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Rh)?Rh:this._anyControlsHaveStatus(Fm)?Fm:Mp}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Oh(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function zA(n){return Array.isArray(n)?$v(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function uI(n){return Array.isArray(n)?Rs(n):n||null}(this._rawAsyncValidators)}}class Pc extends hI{constructor(e,t,r){super(zv(t),qv(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function Lm(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new a.vHH(1002,cI?function GA(n,e){return`Must supply a value for form control ${lI(n,e)}`}(e,i):"")})})(this,!0,e),Object.keys(e).forEach(r=>{(function dI(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new a.vHH(1e3,cI?function HA(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(e):"");if(!r[t])throw new a.vHH(1001,cI?function xp(n,e){return`Cannot find form control ${lI(n,e)}`}(e,t):"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const ju=new a.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>kh}),kh="always";function Rp(n,e){return[...e.path,n]}function Op(n,e,t=kh){var r,i;Nh(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&(null===(r=(i=e.valueAccessor).setDisabledState)||void 0===r||r.call(i,n.disabled)),function WA(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&fI(n,e)})}(n,e),function Za(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Zv(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&fI(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function zk(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Wv(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Um(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function kp(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Nh(n,e){const t=JE(n);null!==e.validator?n.setValidators(Mm(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=eI(n);null!==e.asyncValidator?n.setAsyncValidators(Mm(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();kp(e._rawValidators,i),kp(e._rawAsyncValidators,i)}function Um(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=JE(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(c=>c!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const i=eI(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(c=>c!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}const r=()=>{};return kp(e._rawValidators,r),kp(e._rawAsyncValidators,r),t}function fI(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Rc(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function Oc(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===Lv?t=s:function Uh(n){return Object.getPrototypeOf(n.constructor)===Wa}(s)?r=s:i=s}),i||r||t||null}function Yv(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Kv(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Wi=class extends hI{constructor(e=null,t,r){super(zv(t),qv(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Oh(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Kv(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Yv(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Yv(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Kv(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},yI={provide:Ul,useExisting:(0,a.Gpc)(()=>Lp)},Vm=(()=>Promise.resolve())();let Lp=(()=>{class n extends Ul{constructor(t,r,i,s,c,h){super(),this._changeDetectorRef=c,this.callSetDisabledState=h,this.control=new Wi,this._registered=!1,this.update=new a.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Oc(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),Rc(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Op(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Vm.then(()=>{var r;this.control.setValue(t,{emitViewToModelChange:!1}),null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&(0,a.D6c)(r);Vm.then(()=>{var s;i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),null===(s=this._changeDetectorRef)||void 0===s||s.markForCheck()})}_getPath(t){return this._parent?Rp(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(To,9),a.Y36(eo,10),a.Y36(Ll,10),a.Y36(ho,10),a.Y36(a.sBO,8),a.Y36(ju,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[a._Bn([yI]),a.qOj,a.TTD]}),n})(),Up=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),Hm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const qm=new a.OlP("NgModelWithFormControlWarning"),CI={provide:To,useExisting:(0,a.Gpc)(()=>Gu)};let Gu=(()=>{class n extends To{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new a.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Um(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Op(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Wv(t.control||null,t,!1),function Bh(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){var r;return this.submitted=!0,function Hu(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===(null==t||null===(r=t.target)||void 0===r?void 0:r.method)}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(Wv(r||null,t),(n=>n instanceof Wi)(i)&&(Op(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function Fh(n,e){Nh(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function fo(n,e){return Um(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Nh(this.form,this),this._oldForm&&Um(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(eo,10),a.Y36(Ll,10),a.Y36(ju,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&a.NdJ("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([CI]),a.qOj,a.TTD]}),n})();const DI={provide:Ul,useExisting:(0,a.Gpc)(()=>zu)};let zu=(()=>{class n extends Ul{set isDisabled(t){}constructor(t,r,i,s,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.update=new a.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Oc(0,s)}ngOnChanges(t){this._added||this._setUpControl(),Rc(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Rp(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(a.Y36(To,13),a.Y36(eo,10),a.Y36(Ll,10),a.Y36(ho,10),a.Y36(qm,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[a._Bn([DI]),a.qOj,a.TTD]}),n})(),qu=(()=>{class n{constructor(){this._validator=Am}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Am,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,features:[a.TTD]}),n})();const o0={provide:eo,useExisting:(0,a.Gpc)(()=>Vp),multi:!0};let Vp=(()=>{class n extends qu{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=a.D6c,this.createValidator=t=>zE}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(n)))(r||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&a.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[a._Bn([o0]),a.qOj]}),n})(),Wu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Hm]}),n})(),Ka=(()=>{class n{static withConfig(t){var r;return{ngModule:n,providers:[{provide:ju,useValue:null!==(r=t.callSetDisabledState)&&void 0!==r?r:kh}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Wu]}),n})(),ax=(()=>{class n{static withConfig(t){var r,i;return{ngModule:n,providers:[{provide:qm,useValue:null!==(r=t.warnOnNgModelWithFormControl)&&void 0!==r?r:"always"},{provide:ju,useValue:null!==(i=t.callSetDisabledState)&&void 0!==i?i:kh}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Wu]}),n})();var Et=R(655),Qa=R(1144);const ca=["addListener","removeListener"],ua=["addEventListener","removeEventListener"],FI=["on","off"];function Jm(n,e,t,r){if((0,Bo.m)(t)&&(r=t,t=void 0),r)return Jm(n,e,t).pipe(Xi(r));const[i,s]=function ux(n){return(0,Bo.m)(n.addEventListener)&&(0,Bo.m)(n.removeEventListener)}(n)?ua.map(c=>h=>n[c](e,h,t)):function lx(n){return(0,Bo.m)(n.addListener)&&(0,Bo.m)(n.removeListener)}(n)?ca.map(LI(n,e)):function cx(n){return(0,Bo.m)(n.on)&&(0,Bo.m)(n.off)}(n)?FI.map(LI(n,e)):[];if(!i&&(0,Qa.z)(n))return(0,Pr.z)(c=>Jm(c,e,t))((0,ia.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new si.y(c=>{const h=(...m)=>c.next(1<m.length?m:m[0]);return i(h),()=>s(h)})}function LI(n,e){return t=>r=>n[t](e,r)}R(9613),R(5158),R(3175),R(1898);var l0=R(6406),hx=R(3577),BI=R(3982),Vh=R(2998),os=R(3354),$I=R(1397),t_=(R(3457),R(4349),R(9816));function n_(n,e=na.y){return n=null!=n?n:VI,(0,ai.e)((t,r)=>{let i,s=!0;t.subscribe((0,jr.x)(r,c=>{const h=e(c);(s||!n(i,h))&&(s=!1,i=h,r.next(c))}))})}function VI(n,e){return n===e}const HI=l0.i,Tt=["*"];function mx(n,e){if(1&n&&(a.TgZ(0,"div",1),a.GkF(1,2),a.qZA()),2&n){const t=a.oxw();a.xp6(1),a.Q6J("ngTemplateOutlet",t.template)}}const ZI=n=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(n):"function"==typeof requestAnimationFrame?requestAnimationFrame(n):setTimeout(n);let jp=(()=>{class n{constructor(t,r){this.injector=t,this.el=r,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(t){this.el.nativeElement.value=this.lastValue=t,jh(this.el)}handleValueChange(t,r){t===this.el.nativeElement&&(r!==this.lastValue&&(this.lastValue=r,this.onChange(r)),jh(this.el))}_handleBlurEvent(t){t===this.el.nativeElement&&(this.onTouched(),jh(this.el))}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.el.nativeElement.disabled=t}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let t;try{t=this.injector.get(Ul)}catch{}if(!t)return;t.statusChanges&&(this.statusChanges=t.statusChanges.subscribe(()=>jh(this.el)));const r=t.control;r&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(s=>{if(typeof r[s]<"u"){const c=r[s].bind(r);r[s]=(...h)=>{c(...h),jh(this.el)}}})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.zs3),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,hostBindings:function(t,r){1&t&&a.NdJ("ionBlur",function(s){return r._handleBlurEvent(s.target)})}}),n})();const jh=n=>{ZI(()=>{const e=n.nativeElement,t=null!=e.value&&e.value.toString().length>0,r=yx(e);u0(e,r);const i=e.closest("ion-item");i&&u0(i,t?[...r,"item-has-value"]:r)})},yx=n=>{const e=n.classList,t=[];for(let r=0;r<e.length;r++){const i=e.item(r);null!==i&&vx(i,"ng-")&&t.push(`ion-${i.substring(3)}`)}return t},u0=(n,e)=>{const t=n.classList;t.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),t.add(...e)},vx=(n,e)=>n.substring(0,e.length)===e;let YI=(()=>{class n extends jp{constructor(t,r){super(t,r)}writeValue(t){this.el.nativeElement.checked=this.lastValue=t,jh(this.el)}_handleIonChange(t){this.handleValueChange(t,t.checked)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.zs3),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["ion-checkbox"],["ion-toggle"]],hostBindings:function(t,r){1&t&&a.NdJ("ionChange",function(s){return r._handleIonChange(s.target)})},features:[a._Bn([{provide:ho,useExisting:n,multi:!0}]),a.qOj]}),n})(),Hh=(()=>{class n extends jp{constructor(t,r){super(t,r)}_handleInputEvent(t){this.handleValueChange(t,t.value)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.zs3),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(t,r){1&t&&a.NdJ("ionInput",function(s){return r._handleInputEvent(s.target)})},features:[a._Bn([{provide:ho,useExisting:n,multi:!0}]),a.qOj]}),n})();const Ix=(n,e)=>{const t=n.prototype;e.forEach(r=>{Object.defineProperty(t,r,{get(){return this.el[r]},set(i){this.z.runOutsideAngular(()=>this.el[r]=i)}})})},bx=(n,e)=>{const t=n.prototype;e.forEach(r=>{t[r]=function(){const i=arguments;return this.z.runOutsideAngular(()=>this.el[r].apply(this.el,i))}})},Yn=(n,e,t)=>{t.forEach(r=>n[r]=Jm(e,r))};function Ct(n){return function(t){const{defineCustomElementFn:r,inputs:i,methods:s}=n;return void 0!==r&&r(),i&&Ix(t,i),s&&bx(t,s),t}}let d0=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ion-app"]],ngContentSelectors:Tt,decls:1,vars:0,template:function(t,r){1&t&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),n=(0,Et.gn)([Ct({})],n),n})(),h0=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ion-avatar"]],ngContentSelectors:Tt,decls:1,vars:0,template:function(t,r){1&t&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),n=(0,Et.gn)([Ct({})],n),n})(),r_=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ion-back-button"]],inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"},ngContentSelectors:Tt,decls:1,vars:0,template:function(t,r){1&t&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),n=(0,Et.gn)([Ct({inputs:["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"]})],n),n})(),$l=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement,Yn(this,this.el,["ionFocus","ionBlur"])}};return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:Tt,decls:1,vars:0,template:function(t,r){1&t&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),n=(0,Et.gn)([Ct({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],n),n})(),Os=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:Tt,decls:1,vars:0,template:function(t,r){1&t&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),n=(0,Et.gn)([Ct({inputs:["collapse"]})],n),n})(),Sx=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:Tt,decls:1,vars:0,template:function(t,r){1&t&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),n=(0,Et.gn)([Ct({inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],n),n})(),i_=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:Tt,decls:1,vars:0,template:function(t,r){1&t&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),n=(0,Et.gn)([Ct({inputs:["mode"]})],n),n})(),Ax=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:Tt,decls:1,vars:0,template:function(t,r){1&t&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),n=(0,Et.gn)([Ct({inputs:["color","mode","translucent"]})],n),n})(),ib=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:Tt,decls:1,vars:0,template:function(t,r){1&t&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),n=(0,Et.gn)([Ct({inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],n),n})(),ks=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement,Yn(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:Tt,decls:1,vars:0,template:function(t,r){1&t&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),n=(0,Et.gn)([Ct({inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],n),n})(),Px=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ion-grid"]],inputs:{fixed:"fixed"},ngContentSelectors:Tt,decls:1,vars:0,template:function(t,r){1&t&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),n=(0,Et.gn)([Ct({inputs:["fixed"]})],n),n})(),Nc=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Tt,decls:1,vars:0,template:function(t,r){1&t&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),n=(0,Et.gn)([Ct({inputs:["collapse","mode","translucent"]})],n),n})(),Vl=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:Tt,decls:1,vars:0,template:function(t,r){1&t&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),n=(0,Et.gn)([Ct({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],n),n})(),f0=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement,Yn(this,this.el,["ionImgWillLoad","ionImgDidLoad","ionError"])}};return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ion-img"]],inputs:{alt:"alt",src:"src"},ngContentSelectors:Tt,decls:1,vars:0,template:function(t,r){1&t&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),n=(0,Et.gn)([Ct({inputs:["alt","src"]})],n),n})(),Yu=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement,Yn(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:Tt,decls:1,vars:0,template:function(t,r){1&t&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),n=(0,Et.gn)([Ct({inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","legacy","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],n),n})(),Fc=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:Tt,decls:1,vars:0,template:function(t,r){1&t&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),n=(0,Et.gn)([Ct({inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],n),n})(),Ku=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:Tt,decls:1,vars:0,template:function(t,r){1&t&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),n=(0,Et.gn)([Ct({inputs:["color","mode","position"]})],n),n})(),p0=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:Tt,decls:1,vars:0,template:function(t,r){1&t&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),n=(0,Et.gn)([Ct({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],n),n})(),Gp=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ion-list-header"]],inputs:{color:"color",lines:"lines",mode:"mode"},ngContentSelectors:Tt,decls:1,vars:0,template:function(t,r){1&t&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),n=(0,Et.gn)([Ct({inputs:["color","lines","mode"]})],n),n})(),g0=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement,Yn(this,this.el,["ionWillOpen","ionWillClose","ionDidOpen","ionDidClose"])}};return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ion-menu"]],inputs:{contentId:"contentId",disabled:"disabled",maxEdgeStart:"maxEdgeStart",menuId:"menuId",side:"side",swipeGesture:"swipeGesture",type:"type"},ngContentSelectors:Tt,decls:1,vars:0,template:function(t,r){1&t&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),n=(0,Et.gn)([Ct({inputs:["contentId","disabled","maxEdgeStart","menuId","side","swipeGesture","type"],methods:["isOpen","isActive","open","close","toggle","setOpen"]})],n),n})(),zp=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ion-menu-button"]],inputs:{autoHide:"autoHide",color:"color",disabled:"disabled",menu:"menu",mode:"mode",type:"type"},ngContentSelectors:Tt,decls:1,vars:0,template:function(t,r){1&t&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),n=(0,Et.gn)([Ct({inputs:["autoHide","color","disabled","menu","mode","type"]})],n),n})(),lb=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ion-menu-toggle"]],inputs:{autoHide:"autoHide",menu:"menu"},ngContentSelectors:Tt,decls:1,vars:0,template:function(t,r){1&t&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),n=(0,Et.gn)([Ct({inputs:["autoHide","menu"]})],n),n})(),cb=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ion-note"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Tt,decls:1,vars:0,template:function(t,r){1&t&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),n=(0,Et.gn)([Ct({inputs:["color","mode"]})],n),n})(),Vx=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ion-ripple-effect"]],inputs:{type:"type"},ngContentSelectors:Tt,decls:1,vars:0,template:function(t,r){1&t&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),n=(0,Et.gn)([Ct({inputs:["type"],methods:["addRipple"]})],n),n})(),jx=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ion-row"]],ngContentSelectors:Tt,decls:1,vars:0,template:function(t,r){1&t&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),n=(0,Et.gn)([Ct({})],n),n})(),m0=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ion-skeleton-text"]],inputs:{animated:"animated"},ngContentSelectors:Tt,decls:1,vars:0,template:function(t,r){1&t&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),n=(0,Et.gn)([Ct({inputs:["animated"]})],n),n})(),_0=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ion-spinner"]],inputs:{color:"color",duration:"duration",name:"name",paused:"paused"},ngContentSelectors:Tt,decls:1,vars:0,template:function(t,r){1&t&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),n=(0,Et.gn)([Ct({inputs:["color","duration","name","paused"]})],n),n})(),zh=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement,Yn(this,this.el,["ionSplitPaneVisible"])}};return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ion-split-pane"]],inputs:{contentId:"contentId",disabled:"disabled",when:"when"},ngContentSelectors:Tt,decls:1,vars:0,template:function(t,r){1&t&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),n=(0,Et.gn)([Ct({inputs:["contentId","disabled","when"]})],n),n})(),mb=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ion-text"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Tt,decls:1,vars:0,template:function(t,r){1&t&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),n=(0,Et.gn)([Ct({inputs:["color","mode"]})],n),n})(),Qu=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:Tt,decls:1,vars:0,template:function(t,r){1&t&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),n=(0,Et.gn)([Ct({inputs:["color","size"]})],n),n})(),yb=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement,Yn(this,this.el,["ionChange","ionFocus","ionBlur"])}};return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ion-toggle"]],inputs:{checked:"checked",color:"color",disabled:"disabled",enableOnOffLabels:"enableOnOffLabels",justify:"justify",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",name:"name",value:"value"},ngContentSelectors:Tt,decls:1,vars:0,template:function(t,r){1&t&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),n=(0,Et.gn)([Ct({inputs:["checked","color","disabled","enableOnOffLabels","justify","labelPlacement","legacy","mode","name","value"]})],n),n})(),Xu=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Tt,decls:1,vars:0,template:function(t,r){1&t&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),n=(0,Et.gn)([Ct({inputs:["color","mode"]})],n),n})(),qh=(()=>{class n{get(t,r){const i=l_();return i?i.get(t,r):null}getBoolean(t,r){const i=l_();return!!i&&i.getBoolean(t,r)}getNumber(t,r){const i=l_();return i?i.getNumber(t,r):0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const vb=new a.OlP("USERCONFIG"),l_=()=>{if(typeof window<"u"){const n=window.Ionic;if(null!=n&&n.config)return n.config}return null};let qx=(()=>{class n{constructor(t,r){this.doc=t,this.backButton=new yi.x,this.keyboardDidShow=new yi.x,this.keyboardDidHide=new yi.x,this.pause=new yi.x,this.resume=new yi.x,this.resize=new yi.x,r.run(()=>{var i;let s;this.win=t.defaultView,this.backButton.subscribeWithPriority=function(c,h){return this.subscribe(m=>m.register(c,y=>r.run(()=>h(y))))},Wh(this.pause,t,"pause"),Wh(this.resume,t,"resume"),Wh(this.backButton,t,"ionBackButton"),Wh(this.resize,this.win,"resize"),Wh(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),Wh(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(c=>{s=c}),null!==(i=this.win)&&void 0!==i&&i.cordova?t.addEventListener("deviceready",()=>{s("cordova")},{once:!0}):s("dom")})}is(t){return(0,l0.a)(this.win,t)}platforms(){return(0,l0.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(t){return wb(this.win.location.href,t)}isLandscape(){return!this.isPortrait()}isPortrait(){var t,r;return null===(t=(r=this.win).matchMedia)||void 0===t?void 0:t.call(r,"(orientation: portrait)").matches}testUserAgent(t){const r=this.win.navigator;return!!(null!=r&&r.userAgent&&r.userAgent.indexOf(t)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(_e),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const wb=(n,e)=>{e=e.replace(/[[\]\\]/g,"\\$&");const r=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(n);return r?decodeURIComponent(r[1].replace(/\+/g," ")):null},Wh=(n,e,t)=>{e&&e.addEventListener(t,r=>{n.next(null!=r?r.detail:void 0)})};let Zh=(()=>{class n{constructor(t,r,i,s){this.location=r,this.serializer=i,this.router=s,this.direction=c_,this.animated=Cb,this.guessDirection="forward",this.lastNavId=-1,s&&s.events.subscribe(c=>{if(c instanceof um){const h=c.restoredState?c.restoredState.navigationId:c.id;this.guessDirection=h<this.lastNavId?"back":"forward",this.guessAnimation=c.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?c.id:h}}),t.backButton.subscribeWithPriority(0,c=>{this.pop(),c()})}navigateForward(t,r={}){return this.setDirection("forward",r.animated,r.animationDirection,r.animation),this.navigate(t,r)}navigateBack(t,r={}){return this.setDirection("back",r.animated,r.animationDirection,r.animation),this.navigate(t,r)}navigateRoot(t,r={}){return this.setDirection("root",r.animated,r.animationDirection,r.animation),this.navigate(t,r)}back(t={animated:!0,animationDirection:"back"}){return this.setDirection("back",t.animated,t.animationDirection,t.animation),this.location.back()}pop(){var t=this;return(0,ze.Z)(function*(){let r=t.topOutlet;for(;r&&!(yield r.pop());)r=r.parentOutlet})()}setDirection(t,r,i,s){this.direction=t,this.animated=Wx(t,r,i),this.animationBuilder=s}setTopOutlet(t){this.topOutlet=t}consumeTransition(){let r,t="root";const i=this.animationBuilder;return"auto"===this.direction?(t=this.guessDirection,r=this.guessAnimation):(r=this.animated,t=this.direction),this.direction=c_,this.animated=Cb,this.animationBuilder=void 0,{direction:t,animation:r,animationBuilder:i}}navigate(t,r){if(Array.isArray(t))return this.router.navigate(t,r);{const i=this.serializer.parse(t.toString());return void 0!==r.queryParams&&(i.queryParams={...r.queryParams}),void 0!==r.fragment&&(i.fragment=r.fragment),this.router.navigateByUrl(i,r)}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(qx),a.LFG(Me),a.LFG(Do),a.LFG(Di,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Wx=(n,e,t)=>{if(!1!==e){if(void 0!==t)return t;if("forward"===n||"back"===n)return n;if("root"===n&&!0===e)return"forward"}},c_="auto",Cb=void 0;class y0{constructor(e={}){this.data=e}get(e){return this.data[e]}}let Zp=(()=>{class n{constructor(){this.zone=(0,a.f3M)(a.R0b),this.applicationRef=(0,a.f3M)(a.z2F)}create(t,r,i){return new Zx(t,r,this.applicationRef,this.zone,i)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class Zx{constructor(e,t,r,i,s){this.environmentInjector=e,this.injector=t,this.applicationRef=r,this.zone=i,this.elementReferenceKey=s,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(e,t,r,i){return this.zone.run(()=>new Promise(s=>{const c={...r};void 0!==this.elementReferenceKey&&(c[this.elementReferenceKey]=e),s(Yx(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,e,t,c,i))}))}removeViewFromDom(e,t){return this.zone.run(()=>new Promise(r=>{const i=this.elRefMap.get(t);if(i){i.destroy(),this.elRefMap.delete(t);const s=this.elEventsMap.get(t);s&&(s(),this.elEventsMap.delete(t))}r()}))}}const Yx=(n,e,t,r,i,s,c,h,m,y)=>{const b=a.zs3.create({providers:Ib(m),parent:t}),S=(0,a.LMc)(h,{environmentInjector:e,elementInjector:b}),P=S.instance,V=S.location.nativeElement;if(m&&Object.assign(P,m),y)for(const Ne of y)V.classList.add(Ne);const ne=u_(n,P,V);return c.appendChild(V),r.attachView(S.hostView),i.set(V,S),s.set(V,ne),V},Kx=[Vh.L,Vh.a,Vh.b,Vh.c,Vh.d],u_=(n,e,t)=>n.run(()=>{const r=Kx.filter(i=>"function"==typeof e[i]).map(i=>{const s=c=>e[i](c.detail);return t.addEventListener(i,s),()=>t.removeEventListener(i,s)});return()=>r.forEach(i=>i())}),Eb=new a.OlP("NavParamsToken"),Ib=n=>[{provide:Eb,useValue:n},{provide:y0,useFactory:Qx,deps:[Eb]}],Qx=n=>new y0(n),bb=(n,e)=>((n=n.filter(t=>t.stackId!==e.stackId)).push(e),n),v0=(n,e)=>{const t=n.createUrlTree(["."],{relativeTo:e});return n.serializeUrl(t)},nM=(n,e)=>{if(!n)return;const t=w0(e);for(let r=0;r<t.length;r++){if(r>=n.length)return t[r];if(t[r]!==n[r])return}},w0=n=>n.split("/").map(e=>e.trim()).filter(e=>""!==e),C0=n=>{n&&(n.ref.destroy(),n.unlistenEvents())};class rM{constructor(e,t,r,i,s,c){this.containerEl=t,this.router=r,this.navCtrl=i,this.zone=s,this.location=c,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==e?w0(e):void 0}createView(e,t){var r;const i=v0(this.router,t),s=null==e||null===(r=e.location)||void 0===r?void 0:r.nativeElement,c=u_(this.zone,e.instance,s);return{id:this.nextId++,stackId:nM(this.tabsPrefix,i),unlistenEvents:c,element:s,ref:e,url:i}}getExistingView(e){const t=v0(this.router,e),r=this.views.find(i=>i.url===t);return r&&r.ref.changeDetectorRef.reattach(),r}setActive(e){var t,r,i;const s=this.navCtrl.consumeTransition();let{direction:c,animation:h,animationBuilder:m}=s;const y=this.activeView,b=((n,e)=>!e||n.stackId!==e.stackId)(e,y);b&&(c="back",h=void 0);const S=this.views.slice();let P;const V=this.router;V.getCurrentNavigation?P=V.getCurrentNavigation():null!==(t=V.navigations)&&void 0!==t&&t.value&&(P=V.navigations.value),null!==(r=P)&&void 0!==r&&null!==(i=r.extras)&&void 0!==i&&i.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const ne=this.views.includes(e),Ne=this.insertView(e,c);ne||e.ref.changeDetectorRef.detectChanges();const Xe=e.animationBuilder;return void 0===m&&"back"===c&&!b&&void 0!==Xe&&(m=Xe),y&&(y.animationBuilder=m),this.zone.runOutsideAngular(()=>this.wait(()=>(y&&y.ref.changeDetectorRef.detach(),e.ref.changeDetectorRef.reattach(),this.transition(e,y,h,this.canGoBack(1),!1,m).then(()=>iM(e,Ne,S,this.location,this.zone)).then(()=>({enteringView:e,direction:c,animation:h,tabSwitch:b})))))}canGoBack(e,t=this.getActiveStackId()){return this.getStack(t).length>e}pop(e,t=this.getActiveStackId()){return this.zone.run(()=>{const r=this.getStack(t);if(r.length<=e)return Promise.resolve(!1);const i=r[r.length-e-1];let s=i.url;const c=i.savedData;if(c){var h,m;const b=c.get("primary");null!=b&&null!==(h=b.route)&&void 0!==h&&null!==(m=h._routerState)&&void 0!==m&&m.snapshot.url&&(s=b.route._routerState.snapshot.url)}const{animationBuilder:y}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(s,{...i.savedExtras,animation:y}).then(()=>!0)})}startBackTransition(){const e=this.activeView;if(e){const t=this.getStack(e.stackId),r=t[t.length-2],i=r.animationBuilder;return this.wait(()=>this.transition(r,e,"back",this.canGoBack(2),!0,i))}return Promise.resolve()}endBackTransition(e){e?(this.skipTransition=!0,this.pop(1)):this.activeView&&E0(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(e){const t=this.getStack(e);return t.length>0?t[t.length-1]:void 0}getRootUrl(e){const t=this.getStack(e);return t.length>0?t[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(C0),this.activeView=void 0,this.views=[]}getStack(e){return this.views.filter(t=>t.stackId===e)}insertView(e,t){return this.activeView=e,this.views=((n,e,t)=>"root"===t?bb(n,e):"forward"===t?((n,e)=>(n.indexOf(e)>=0?n=n.filter(r=>r.stackId!==e.stackId||r.id<=e.id):n.push(e),n))(n,e):((n,e)=>n.indexOf(e)>=0?n.filter(r=>r.stackId!==e.stackId||r.id<=e.id):bb(n,e))(n,e))(this.views,e,t),this.views.slice()}transition(e,t,r,i,s,c){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(t===e)return Promise.resolve(!1);const h=e?e.element:void 0,m=t?t.element:void 0,y=this.containerEl;return h&&h!==m&&(h.classList.add("ion-page"),h.classList.add("ion-page-invisible"),h.parentElement!==y&&y.appendChild(h),y.commit)?y.commit(h,m,{duration:void 0===r?0:void 0,direction:r,showGoBack:i,progressAnimation:s,animationBuilder:c}):Promise.resolve(!1)}wait(e){var t=this;return(0,ze.Z)(function*(){void 0!==t.runningTask&&(yield t.runningTask,t.runningTask=void 0);const r=t.runningTask=e();return r.finally(()=>t.runningTask=void 0),r})()}}const iM=(n,e,t,r,i)=>"function"==typeof requestAnimationFrame?new Promise(s=>{requestAnimationFrame(()=>{E0(n,e,t,r,i),s()})}):Promise.resolve(),E0=(n,e,t,r,i)=>{i.run(()=>t.filter(s=>!e.includes(s)).forEach(C0)),e.forEach(s=>{const h=r.path().split("?")[0].split("#")[0];if(s!==n&&s.url!==h){const m=s.element;m.setAttribute("aria-hidden","true"),m.classList.add("ion-page-hidden"),s.ref.changeDetectorRef.detach()}})};let Yp=(()=>{class n{constructor(t,r,i,s,c,h,m,y){this.parentOutlet=y,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new Mr(null),this.stackEvents=new a.vpe,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.parentContexts=(0,a.f3M)(vh),this.location=(0,a.f3M)(a.s_b),this.environmentInjector=(0,a.f3M)(a.lqb),this.config=(0,a.f3M)(qh),this.navCtrl=(0,a.f3M)(Zh),this.nativeEl=s.nativeElement,this.name=t||nn,this.tabsPrefix="true"===r?v0(c,m):void 0,this.stackCtrl=new rM(this.tabsPrefix,this.nativeEl,c,this.navCtrl,h,i),this.parentContexts.onChildOutletCreated(this.name,this)}set animation(t){this.nativeEl.animation=t}set animated(t){this.nativeEl.animated=t}set swipeGesture(t){this._swipeGesture=t,this.nativeEl.swipeHandler=t?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:r=>this.stackCtrl.endBackTransition(r)}:void 0}ngOnDestroy(){this.stackCtrl.destroy()}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const t=this.getContext();null!=t&&t.route&&this.activateWith(t.route,t.injector)}new Promise(t=>(0,hx.c)(this.nativeEl,t)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(t,r){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const r=this.getContext();this.activatedView.savedData=new Map(r.children.contexts);const i=this.activatedView.savedData.get("primary");if(i&&r.route&&(i.route={...r.route}),this.activatedView.savedExtras={},r.route){const s=r.route.snapshot;this.activatedView.savedExtras.queryParams=s.queryParams,this.activatedView.savedExtras.fragment=s.fragment}}const t=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;let i,s=this.stackCtrl.getExistingView(t);if(s){i=this.activated=s.ref;const h=s.savedData;h&&(this.getContext().children.contexts=h),this.updateActivatedRouteProxy(i.instance,t)}else{var c;const h=t._futureSnapshot,m=this.parentContexts.getOrCreateContext(this.name).children,y=new Mr(null),b=this.createActivatedRouteProxy(y,t),S=new oM(b,m,this.location.injector),P=null!==(c=h.routeConfig.component)&&void 0!==c?c:h.component;i=this.activated=this.location.createComponent(P,{index:this.location.length,injector:S,environmentInjector:null!=r?r:this.environmentInjector}),y.next(i.instance),s=this.stackCtrl.createView(this.activated,t),this.proxyMap.set(i.instance,b),this.currentActivatedRoute$.next({component:i.instance,activatedRoute:t})}this.activatedView=s,this.navCtrl.setTopOutlet(this),this.stackCtrl.setActive(s).then(h=>{this.activateEvents.emit(i.instance),this.stackEvents.emit(h)})}canGoBack(t=1,r){return this.stackCtrl.canGoBack(t,r)}pop(t=1,r){return this.stackCtrl.pop(t,r)}getLastUrl(t){const r=this.stackCtrl.getLastUrl(t);return r?r.url:void 0}getLastRouteView(t){return this.stackCtrl.getLastUrl(t)}getRootView(t){return this.stackCtrl.getRootUrl(t)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(t,r){const i=new za;return i._futureSnapshot=r._futureSnapshot,i._routerState=r._routerState,i.snapshot=r.snapshot,i.outlet=r.outlet,i.component=r.component,i._paramMap=this.proxyObservable(t,"paramMap"),i._queryParamMap=this.proxyObservable(t,"queryParamMap"),i.url=this.proxyObservable(t,"url"),i.params=this.proxyObservable(t,"params"),i.queryParams=this.proxyObservable(t,"queryParams"),i.fragment=this.proxyObservable(t,"fragment"),i.data=this.proxyObservable(t,"data"),i}proxyObservable(t,r){return t.pipe(ki(i=>!!i),ur(i=>this.currentActivatedRoute$.pipe(ki(s=>null!==s&&s.component===i),ur(s=>s&&s.activatedRoute[r]),n_())))}updateActivatedRouteProxy(t,r){const i=this.proxyMap.get(t);if(!i)throw new Error("Could not find activated route proxy for view");i._futureSnapshot=r._futureSnapshot,i._routerState=r._routerState,i.snapshot=r.snapshot,i.outlet=r.outlet,i.component=r.component,this.currentActivatedRoute$.next({component:t,activatedRoute:r})}}return n.\u0275fac=function(t){return new(t||n)(a.$8M("name"),a.$8M("tabs"),a.Y36(Me),a.Y36(a.SBq),a.Y36(Di),a.Y36(a.R0b),a.Y36(za),a.Y36(n,12))},n.\u0275dir=a.lG2({type:n,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class oM{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===za?this.route:e===vh?this.childContexts:this.parent.get(e,t)}}let Kp=(()=>{class n{constructor(t,r,i){this.routerOutlet=t,this.navCtrl=r,this.config=i}onClick(t){var r;const i=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(r=this.routerOutlet)&&void 0!==r&&r.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),t.preventDefault()):null!=i&&(this.navCtrl.navigateBack(i,{animation:this.routerAnimation}),t.preventDefault())}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Yp,8),a.Y36(Zh),a.Y36(qh))},n.\u0275dir=a.lG2({type:n,selectors:[["ion-back-button"]],hostBindings:function(t,r){1&t&&a.NdJ("click",function(s){return r.onClick(s)})},inputs:{defaultHref:"defaultHref",routerAnimation:"routerAnimation"}}),n})(),b0=(()=>{class n{constructor(t,r,i,s,c){this.locationStrategy=t,this.navCtrl=r,this.elementRef=i,this.router=s,this.routerLink=c,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var t;if(null!==(t=this.routerLink)&&void 0!==t&&t.urlTree){const r=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=r}}onClick(t){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),t.preventDefault()}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(He),a.Y36(Zh),a.Y36(a.SBq),a.Y36(Di),a.Y36(Sh,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&a.NdJ("click",function(s){return r.onClick(s)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[a.TTD]}),n})(),T0=(()=>{let n=class{constructor(t,r,i){this.z=i,this.isCmpOpen=!1,this.el=r.nativeElement,this.el.addEventListener("willPresent",()=>{this.isCmpOpen=!0,t.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,t.detectChanges()}),Yn(this,this.el,["ionModalDidPresent","ionModalWillPresent","ionModalWillDismiss","ionModalDidDismiss","ionBreakpointDidChange","didPresent","willPresent","willDismiss","didDismiss"])}};return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ion-modal"]],contentQueries:function(t,r,i){if(1&t&&a.Suo(i,a.Rgc,5),2&t){let s;a.iGM(s=a.CRH())&&(r.template=s.first)}},inputs:{animated:"animated",keepContentsMounted:"keepContentsMounted",backdropBreakpoint:"backdropBreakpoint",backdropDismiss:"backdropDismiss",breakpoints:"breakpoints",canDismiss:"canDismiss",cssClass:"cssClass",enterAnimation:"enterAnimation",event:"event",handle:"handle",handleBehavior:"handleBehavior",initialBreakpoint:"initialBreakpoint",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",presentingElement:"presentingElement",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger"},decls:1,vars:1,consts:[["class","ion-delegate-host ion-page",4,"ngIf"],[1,"ion-delegate-host","ion-page"],[3,"ngTemplateOutlet"]],template:function(t,r){1&t&&a.YNc(0,mx,2,1,"div",0),2&t&&a.Q6J("ngIf",r.isCmpOpen||r.keepContentsMounted)},dependencies:[H,qt],encapsulation:2,changeDetection:0}),n=(0,Et.gn)([Ct({inputs:["animated","keepContentsMounted","backdropBreakpoint","backdropDismiss","breakpoints","canDismiss","cssClass","enterAnimation","event","handle","handleBehavior","initialBreakpoint","isOpen","keyboardClose","leaveAnimation","mode","presentingElement","showBackdrop","translucent","trigger"],methods:["present","dismiss","onDidDismiss","onWillDismiss","setCurrentBreakpoint","getCurrentBreakpoint"]})],n),n})();class d_{constructor(e){this.ctrl=e}create(e){return this.ctrl.create(e||{})}dismiss(e,t,r){return this.ctrl.dismiss(e,t,r)}getTop(){return this.ctrl.getTop()}}let Db=(()=>{class n{open(t){return os.m.open(t)}close(t){return os.m.close(t)}toggle(t){return os.m.toggle(t)}enable(t,r){return os.m.enable(t,r)}swipeGesture(t,r){return os.m.swipeGesture(t,r)}isOpen(t){return os.m.isOpen(t)}isEnabled(t){return os.m.isEnabled(t)}get(t){return os.m.get(t)}getOpen(){return os.m.getOpen()}getMenus(){return os.m.getMenus()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),h_=(()=>{class n extends d_{constructor(){super($I.m),this.angularDelegate=(0,a.f3M)(Zp),this.injector=(0,a.f3M)(a.zs3),this.environmentInjector=(0,a.f3M)(a.lqb)}create(t){return super.create({...t,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),Tb=(()=>{class n extends d_{constructor(){super($I.c),this.angularDelegate=(0,a.f3M)(Zp),this.injector=(0,a.f3M)(a.zs3),this.environmentInjector=(0,a.f3M)(a.lqb)}create(t){return super.create({...t,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class S0{shouldDetach(e){return!1}shouldAttach(e){return!1}store(e,t){}retrieve(e){return null}shouldReuseRoute(e,t){if(e.routeConfig!==t.routeConfig)return!1;const r=e.params,i=t.params,s=Object.keys(r),c=Object.keys(i);if(s.length!==c.length)return!1;for(const h of s)if(i[h]!==r[h])return!1;return!0}}const xb=(n,e,t)=>()=>{if(e.defaultView&&typeof window<"u"){(0,BI.s)({...n,_zoneGate:s=>t.run(s)});const i="__zone_symbol__addEventListener"in e.body?"__zone_symbol__addEventListener":"addEventListener";return function jI(){var n=[];if(typeof window<"u"){var e=window;(!e.customElements||e.Element&&(!e.Element.prototype.closest||!e.Element.prototype.matches||!e.Element.prototype.remove||!e.Element.prototype.getRootNode))&&n.push(R.e(6748).then(R.t.bind(R,723,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||e.NodeList&&!e.NodeList.prototype.forEach||!e.fetch||!function(){try{var r=new URL("b","http://a");return r.pathname="c%20d","http://a/c%20d"===r.href&&r.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&n.push(R.e(2214).then(R.t.bind(R,4144,23)))}return Promise.all(n)}().then(()=>((n,e)=>typeof window>"u"?Promise.resolve():(0,t_.p)().then(()=>(HI(),(0,t_.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[1],"checked":[32],"setFocus":[64]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[1,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[34,"ion-input",{"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"activated":[32]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[34,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"legacy":[4],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionInput","handleIonInput"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isPresented":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"],[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"legacy":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]]]'),e))))(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:ZI,jmp:s=>t.runOutsideAngular(s),ael(s,c,h,m){s[i](c,h,m)},rel(s,c,h,m){s.removeEventListener(c,h,m)}}))}};let Mb=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:vb,useValue:t},{provide:a.ip1,useFactory:xb,multi:!0,deps:[vb,_e,a.R0b]}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[Zp,h_,Tb],imports:[Hs]}),n})();var Ju=(()=>{return(n=Ju||(Ju={}))[n.Adventure=12]="Adventure",n[n.Fantasy=14]="Fantasy",n[n.Animation=16]="Animation",n[n.Drama=18]="Drama",n[n.Horror=27]="Horror",n[n.Action=28]="Action",n[n.Comedy=35]="Comedy",n[n.History=36]="History",n[n.Western=37]="Western",n[n.Thriller=53]="Thriller",n[n.Crime=80]="Crime",n[n.Documentary=99]="Documentary",n[n.ScienceFiction=878]="ScienceFiction",n[n.Mystery=9648]="Mystery",n[n.Music=10402]="Music",n[n.Family=10751]="Family",n[n.War=10752]="War",n[n.Romance=10749]="Romance",n[n.TVMovie=10770]="TVMovie",Ju;var n})();const Xp="8f698de309d981464d08b5325ff05667";class f_{}class A0{}class Xa{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),s=i.toLowerCase(),c=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(c):this.headers.set(s,[c])}})}:()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{let i;if(i="string"==typeof r?[r]:"number"==typeof r?[r.toString()]:r.map(s=>s.toString()),i.length>0){const s=t.toLowerCase();this.headers.set(s,i),this.maybeSetNormalizedName(t,s)}})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Xa?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Xa;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Xa?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const s=e.value;if(s){let c=this.headers.get(t);if(!c)return;c=c.filter(h=>-1===s.indexOf(h)),0===c.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,c)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Pb{encodeKey(e){return Rb(e)}encodeValue(e){return Rb(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const fM=/%(\d[a-f0-9])/gi,lN={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Rb(n){return encodeURIComponent(n).replace(fM,(e,t)=>{var r;return null!==(r=lN[t])&&void 0!==r?r:e})}function p_(n){return`${n}`}class Lc{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Pb,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function hM(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[c,h]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],m=t.get(c)||[];m.push(h),t.set(c,m)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(p_):[p_(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Lc({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(p_(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(p_(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class gM{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function Ob(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function kb(n){return typeof Blob<"u"&&n instanceof Blob}function Nb(n){return typeof FormData<"u"&&n instanceof FormData}class Jp{constructor(e,t,r,i){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function mM(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Xa),this.context||(this.context=new gM),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=t;else{const h=t.indexOf("?");this.urlWithParams=t+(-1===h?"?":h<t.length-1?"&":"")+c}}else this.params=new Lc,this.urlWithParams=t}serializeBody(){return null===this.body?null:Ob(this.body)||kb(this.body)||Nb(this.body)||function _M(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Lc?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Nb(this.body)?null:kb(this.body)?this.body.type||null:Ob(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Lc?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const r=e.method||this.method,i=e.url||this.url,s=e.responseType||this.responseType,c=void 0!==e.body?e.body:this.body,h=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,m=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let y=e.headers||this.headers,b=e.params||this.params;const S=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(y=Object.keys(e.setHeaders).reduce((P,V)=>P.set(V,e.setHeaders[V]),y)),e.setParams&&(b=Object.keys(e.setParams).reduce((P,V)=>P.set(V,e.setParams[V]),b)),new Jp(r,i,c,{params:b,headers:y,context:S,reportProgress:m,responseType:s,withCredentials:h})}}var Si=(()=>((Si=Si||{})[Si.Sent=0]="Sent",Si[Si.UploadProgress=1]="UploadProgress",Si[Si.ResponseHeader=2]="ResponseHeader",Si[Si.DownloadProgress=3]="DownloadProgress",Si[Si.Response=4]="Response",Si[Si.User=5]="User",Si))();class ed{constructor(e,t=200,r="OK"){this.headers=e.headers||new Xa,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class g_ extends ed{constructor(e={}){super(e),this.type=Si.ResponseHeader}clone(e={}){return new g_({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class eg extends ed{constructor(e={}){super(e),this.type=Si.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new eg({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class x0 extends ed{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function m_(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let M0=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof Jp)s=t;else{let m,y;m=i.headers instanceof Xa?i.headers:new Xa(i.headers),i.params&&(y=i.params instanceof Lc?i.params:new Lc({fromObject:i.params})),s=new Jp(t,r,void 0!==i.body?i.body:null,{headers:m,context:i.context,params:y,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const c=Nt(s).pipe(ns(m=>this.handler.handle(m)));if(t instanceof Jp||"events"===i.observe)return c;const h=c.pipe(ki(m=>m instanceof eg));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return h.pipe((0,Vt.U)(m=>{if(null!==m.body&&!(m.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return m.body}));case"blob":return h.pipe((0,Vt.U)(m=>{if(null!==m.body&&!(m.body instanceof Blob))throw new Error("Response is not a Blob.");return m.body}));case"text":return h.pipe((0,Vt.U)(m=>{if(null!==m.body&&"string"!=typeof m.body)throw new Error("Response is not a string.");return m.body}));default:return h.pipe((0,Vt.U)(m=>m.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Lc).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,m_(i,r))}post(t,r,i={}){return this.request("POST",t,m_(i,r))}put(t,r,i={}){return this.request("PUT",t,m_(i,r))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(f_))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function Fb(n,e){return e(n)}function yM(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}const vM=new a.OlP("HTTP_INTERCEPTORS"),tg=new a.OlP("HTTP_INTERCEPTOR_FNS");function wM(){let n=null;return(e,t)=>{var r;return null===n&&(n=(null!==(r=(0,a.f3M)(vM,{optional:!0}))&&void 0!==r?r:[]).reduceRight(yM,Fb)),n(e,t)}}let Lb=(()=>{class n extends f_{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=Array.from(new Set(this.injector.get(tg)));this.chain=r.reduceRight((i,s)=>function cN(n,e,t){return(r,i)=>t.runInContext(()=>e(r,s=>n(s,i)))}(i,s,this.injector),Fb)}return this.chain(t,r=>this.backend.handle(r))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(A0),a.LFG(a.lqb))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const y_=/^\)\]\}',?\n/;let $b=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new si.y(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((V,ne)=>i.setRequestHeader(V,ne.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const V=t.detectContentTypeHeader();null!==V&&i.setRequestHeader("Content-Type",V)}if(t.responseType){const V=t.responseType.toLowerCase();i.responseType="json"!==V?V:"text"}const s=t.serializeBody();let c=null;const h=()=>{if(null!==c)return c;const V=i.statusText||"OK",ne=new Xa(i.getAllResponseHeaders()),Ne=function v_(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return c=new g_({headers:ne,status:i.status,statusText:V,url:Ne}),c},m=()=>{let{headers:V,status:ne,statusText:Ne,url:Xe}=h(),ut=null;204!==ne&&(ut=typeof i.response>"u"?i.responseText:i.response),0===ne&&(ne=ut?200:0);let xt=ne>=200&&ne<300;if("json"===t.responseType&&"string"==typeof ut){const yt=ut;ut=ut.replace(y_,"");try{ut=""!==ut?JSON.parse(ut):null}catch(Mt){ut=yt,xt&&(xt=!1,ut={error:Mt,text:ut})}}xt?(r.next(new eg({body:ut,headers:V,status:ne,statusText:Ne,url:Xe||void 0})),r.complete()):r.error(new x0({error:ut,headers:V,status:ne,statusText:Ne,url:Xe||void 0}))},y=V=>{const{url:ne}=h(),Ne=new x0({error:V,status:i.status||0,statusText:i.statusText||"Unknown Error",url:ne||void 0});r.error(Ne)};let b=!1;const S=V=>{b||(r.next(h()),b=!0);let ne={type:Si.DownloadProgress,loaded:V.loaded};V.lengthComputable&&(ne.total=V.total),"text"===t.responseType&&i.responseText&&(ne.partialText=i.responseText),r.next(ne)},P=V=>{let ne={type:Si.UploadProgress,loaded:V.loaded};V.lengthComputable&&(ne.total=V.total),r.next(ne)};return i.addEventListener("load",m),i.addEventListener("error",y),i.addEventListener("timeout",y),i.addEventListener("abort",y),t.reportProgress&&(i.addEventListener("progress",S),null!==s&&i.upload&&i.upload.addEventListener("progress",P)),i.send(s),r.next({type:Si.Sent}),()=>{i.removeEventListener("error",y),i.removeEventListener("abort",y),i.removeEventListener("load",m),i.removeEventListener("timeout",y),t.reportProgress&&(i.removeEventListener("progress",S),null!==s&&i.upload&&i.upload.removeEventListener("progress",P)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(xd))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const R0=new a.OlP("XSRF_ENABLED"),O0=new a.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),N0=new a.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class w_{}let F0=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Bi(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(_e),a.LFG(a.Lbi),a.LFG(O0))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function jb(n,e){const t=n.url.toLowerCase();if(!(0,a.f3M)(R0)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=(0,a.f3M)(w_).getToken(),i=(0,a.f3M)(N0);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var Xr=(()=>((Xr=Xr||{})[Xr.Interceptors=0]="Interceptors",Xr[Xr.LegacyInterceptors=1]="LegacyInterceptors",Xr[Xr.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Xr[Xr.NoXsrfProtection=3]="NoXsrfProtection",Xr[Xr.JsonpSupport=4]="JsonpSupport",Xr[Xr.RequestsMadeViaParent=5]="RequestsMadeViaParent",Xr))();function Yh(n,e){return{\u0275kind:n,\u0275providers:e}}function EM(...n){const e=[M0,$b,Lb,{provide:f_,useExisting:Lb},{provide:A0,useExisting:$b},{provide:tg,useValue:jb,multi:!0},{provide:R0,useValue:!0},{provide:w_,useClass:F0}];for(const t of n)e.push(...t.\u0275providers);return(0,a.MR2)(e)}const Gb=new a.OlP("LEGACY_INTERCEPTOR_FN");let SM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[EM(Yh(Xr.LegacyInterceptors,[{provide:Gb,useFactory:wM},{provide:tg,useExisting:Gb,multi:!0}]))]}),n})(),td=(()=>{class n{constructor(t){this.http=t,this.discoverMovieUrl=`https://api.themoviedb.org/3/discover/movie?api_key=${Xp}`,this.searchMovieUrl=`https://api.themoviedb.org/3/search/movie?api_key=${Xp}`,this.popularUrl=`https://api.themoviedb.org/3/movie/popular?api_key=${Xp}`}getMovieById(t){return this.http.get(`https://api.themoviedb.org/3/movie/${t}?api_key=${Xp}`)}getGenres(){return this.http.get(`${this.discoverMovieUrl}&with_genres=${Ju.Action}`)}getDataByFilter(t){return t.with_genres&&"string"==typeof(null==t?void 0:t.with_genres[0])&&(t.with_genres=t.with_genres.map(r=>{var i;return null!==(i=Ju[r])&&void 0!==i?i:0})),this.http.get(`${this.discoverMovieUrl}${t?"&":"?"}${Object.entries(t).map(([r,i])=>`${r}=${i}`).join("&")}`)}getSimilarMovies(t){return this.http.get(`https://api.themoviedb.org/3/movie/${t}/similar?api_key=${Xp}`)}getDataBySearch(t){return this.http.get(`${this.searchMovieUrl}&language=en-US&query=${t}&page=1&include_adult=false`)}getPopularMovies(t){return this.http.get(this.popularUrl+`&page=${String(t)}`)}getCastByMovie(t){return this.http.get(`https://api.themoviedb.org/3/movie/${t}/credits?api_key=8f698de309d981464d08b5325ff05667`)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(M0))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var L0=R(8502),j=R(2090),gr=R(6881),po=R(1877),da=R(4859),U0=R(4986),sr=R(4976);function Wb(){return(0,ai.e)((n,e)=>{let t,r=!1;n.subscribe((0,jr.x)(e,i=>{const s=t;t=i,r&&e.next([s,i]),r=!0}))})}var Bt,Ai=R(2011),nd=(R(9568),R(3942)),MM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ss={},C_=C_||{},Mn=MM||self;function E_(){}function I_(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function rd(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var b_="closure_uid_"+(1e9*Math.random()>>>0),D_=0;function B0(n,e,t){return n.call.apply(n.bind,arguments)}function gN(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function to(n,e,t){return(to=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?B0:gN).apply(null,arguments)}function T_(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Ni(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,s){for(var c=Array(arguments.length-2),h=2;h<arguments.length;h++)c[h-2]=arguments[h];return e.prototype[i].apply(r,c)}}function as(){this.s=this.s,this.o=this.o}as.prototype.s=!1,as.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),0)&&function Yb(n){Object.prototype.hasOwnProperty.call(n,b_)&&n[b_]||(n[b_]=++D_)}(this)},as.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const $0=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function rg(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function RM(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(I_(r)){const i=n.length||0,s=r.length||0;n.length=i+s;for(let c=0;c<s;c++)n[i+c]=r[c]}else n.push(r)}}function go(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}go.prototype.h=function(){this.defaultPrevented=!0};var mN=function(){if(!Mn.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Mn.addEventListener("test",E_,e),Mn.removeEventListener("test",E_,e)}catch{}return n}();function S_(n){return/^[\s\xa0]*$/.test(n)}var Kb=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function V0(n,e){return n<e?-1:n>e?1:0}function ig(){var n=Mn.navigator;return n&&(n=n.userAgent)?n:""}function ha(n){return-1!=ig().indexOf(n)}function j0(n){return j0[" "](n),n}function H0(n,e,t){return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}j0[" "]=E_;var og,n,Qb=ha("Opera"),Kh=ha("Trident")||ha("MSIE"),Xb=ha("Edge"),A_=Xb||Kh,Jb=ha("Gecko")&&!(-1!=ig().toLowerCase().indexOf("webkit")&&!ha("Edge"))&&!(ha("Trident")||ha("MSIE"))&&!ha("Edge"),eD=-1!=ig().toLowerCase().indexOf("webkit")&&!ha("Edge");function G0(){var n=Mn.document;return n?n.documentMode:void 0}e:{var x_="",z0=(n=ig(),Jb?/rv:([^\);]+)(\)|;)/.exec(n):Xb?/Edge\/([\d\.]+)/.exec(n):Kh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):eD?/WebKit\/(\S+)/.exec(n):Qb?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(z0&&(x_=z0?z0[1]:""),Kh){var q0=G0();if(null!=q0&&q0>parseFloat(x_)){og=String(q0);break e}}og=x_}var _N={},yN=Mn.document&&Kh&&(G0()||parseInt(og,10))||void 0;function M_(n,e){if(go.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Jb){e:{try{j0(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:vN[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&M_.$.h.call(this)}}Ni(M_,go);var vN={2:"touch",3:"pen",4:"mouse"};M_.prototype.h=function(){M_.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var P_="closure_listenable_"+(1e6*Math.random()|0),wN=0;function CN(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++wN,this.fa=this.ia=!1}function id(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function rD(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function W0(n){const e={};for(const t in n)e[t]=n[t];return e}const sg="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Z0(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<sg.length;s++)t=sg[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function ag(n){this.src=n,this.g={},this.h=0}function iD(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=$0(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(id(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function lg(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.fa&&s.listener==e&&s.capture==!!t&&s.la==r)return i}return-1}ag.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var c=lg(n,e,r,i);return-1<c?(e=n[c],t||(e.ia=!1)):((e=new CN(e,this.src,s,!!r,i)).ia=t,n.push(e)),e};var R_="closure_lm_"+(1e6*Math.random()|0),Y0={};function kM(n,e,t,r,i){if(r&&r.once)return oD(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)kM(n,e[s],t,r,i);return null}return t=X0(t),n&&n[P_]?n.O(e,t,rd(r)?!!r.capture:!!r,i):NM(n,e,t,!1,r,i)}function NM(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var c=rd(i)?!!i.capture:!!i,h=sD(n);if(h||(n[R_]=h=new ag(n)),(t=h.add(e,t,r,c,s)).proxy)return t;if(r=function FM(){const e=EN;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)mN||(i=c),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(LM(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function oD(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)oD(n,e[s],t,r,i);return null}return t=X0(t),n&&n[P_]?n.P(e,t,rd(r)?!!r.capture:!!r,i):NM(n,e,t,!0,r,i)}function cg(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)cg(n,e[s],t,r,i);else r=rd(r)?!!r.capture:!!r,t=X0(t),n&&n[P_]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=lg(s=n.g[e],t,r,i))&&(id(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=sD(n))&&(e=n.g[e.toString()],n=-1,e&&(n=lg(e,t,r,i)),(t=-1<n?e[n]:null)&&K0(t))}function K0(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[P_])iD(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(LM(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=sD(e))?(iD(t,n),0==t.h&&(t.src=null,e[R_]=null)):id(n)}}}function LM(n){return n in Y0?Y0[n]:Y0[n]="on"+n}function EN(n,e){if(n.fa)n=!0;else{e=new M_(e,this);var t=n.listener,r=n.la||n.src;n.ia&&K0(n),n=t.call(r,e)}return n}function sD(n){return(n=n[R_])instanceof ag?n:null}var Q0="__closure_events_fn_"+(1e9*Math.random()>>>0);function X0(n){return"function"==typeof n?n:(n[Q0]||(n[Q0]=function(e){return n.handleEvent(e)}),n[Q0])}function Zi(){as.call(this),this.i=new ag(this),this.S=this,this.J=null}function mo(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new go(e,n);else if(e instanceof go)e.target=e.target||n;else{var i=e;Z0(e=new go(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var c=e.g=t[s];i=O_(c,r,!0,e)&&i}if(i=O_(c=e.g=n,r,!0,e)&&i,i=O_(c,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=O_(c=e.g=t[s],r,!1,e)&&i}function O_(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var c=e[s];if(c&&!c.fa&&c.capture==t){var h=c.listener,m=c.la||c.src;c.ia&&iD(n.i,c),i=!1!==h.call(m,r)&&i}}return i&&!r.defaultPrevented}Ni(Zi,as),Zi.prototype[P_]=!0,Zi.prototype.removeEventListener=function(n,e,t,r){cg(this,n,e,t,r)},Zi.prototype.N=function(){if(Zi.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)id(t[r]);delete n.g[e],n.h--}}this.J=null},Zi.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Zi.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var k_=Mn.JSON.stringify;function aD(){var n=N_;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var cD,Ns=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new UM,n=>n.reset());class UM{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function J0(n){Mn.setTimeout(()=>{throw n},0)}function lD(n,e){cD||function Fs(){var n=Mn.Promise.resolve(void 0);cD=function(){n.then(BM)}}(),ew||(cD(),ew=!0),N_.add(n,e)}var ew=!1,N_=new class IN{constructor(){this.h=this.g=null}add(e,t){const r=Ns.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function BM(){for(var n;n=aD();){try{n.h.call(n.g)}catch(t){J0(t)}var e=Ns;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}ew=!1}function F_(n,e){Zi.call(this),this.h=n||1,this.g=e||Mn,this.j=to(this.qb,this),this.l=Date.now()}function ug(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function L_(n,e,t){if("function"==typeof n)t&&(n=to(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=to(n.handleEvent,n)}return 2147483647<Number(e)?-1:Mn.setTimeout(n,e||0)}function tw(n){n.g=L_(()=>{n.g=null,n.i&&(n.i=!1,tw(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Ni(F_,Zi),(Bt=F_.prototype).ga=!1,Bt.T=null,Bt.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),mo(this,"tick"),this.ga&&(ug(this),this.start()))}},Bt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Bt.N=function(){F_.$.N.call(this),ug(this),delete this.g};class $M extends as{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:tw(this)}N(){super.N(),this.g&&(Mn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qh(n){as.call(this),this.h=n,this.g={}}Ni(Qh,as);var nw=[];function uD(n,e,t,r){Array.isArray(t)||(t&&(nw[0]=t.toString()),t=nw);for(var i=0;i<t.length;i++){var s=kM(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function rw(n){rD(n.g,function(e,t){this.g.hasOwnProperty(t)&&K0(e)},n),n.g={}}function U_(){this.g=!0}function ls(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function ow(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var c=1;c<i.length;c++)i[c]=""}}}return k_(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Qh.prototype.N=function(){Qh.$.N.call(this),rw(this)},Qh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},U_.prototype.Ea=function(){this.g=!1},U_.prototype.info=function(){};var Uc={},hD=null;function sw(){return hD=hD||new Zi}function fD(n){go.call(this,Uc.Ta,n)}function dg(n){const e=sw();mo(e,new fD(e))}function pD(n,e){go.call(this,Uc.STAT_EVENT,n),this.stat=e}function So(n){const e=sw();mo(e,new pD(e,n))}function aw(n,e){go.call(this,Uc.Ua,n),this.size=e}function B_(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Mn.setTimeout(function(){n()},e)}Uc.Ta="serverreachability",Ni(fD,go),Uc.STAT_EVENT="statevent",Ni(pD,go),Uc.Ua="timingevent",Ni(aw,go);var hg={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},gD={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function $_(){}function V_(){}$_.prototype.h=null;var G_,Xh={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function j_(){go.call(this,"d")}function H_(){go.call(this,"c")}function fg(){}function Bc(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new Qh(this),this.P=mD,this.V=new F_(n=A_?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new pg}function pg(){this.i=null,this.g="",this.h=!1}Ni(j_,go),Ni(H_,go),Ni(fg,$_),fg.prototype.g=function(){return new XMLHttpRequest},fg.prototype.i=function(){return{}},G_=new fg;var mD=45e3,lw={},z_={};function cw(n,e,t){n.L=1,n.v=tf(Ao(e)),n.s=t,n.S=!0,jM(n,null)}function jM(n,e){n.G=Date.now(),gg(n),n.A=Ao(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),fw(t.i,"t",r),n.C=0,t=n.l.I,n.h=new pg,n.g=NN(n.l,t?e:null,!n.s),0<n.O&&(n.M=new $M(to(n.Pa,n,n.g),n.O)),uD(n.U,n.g,"readystatechange",n.nb),e=n.I?W0(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),dg(),function iw(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var c="",h=s.split("&"),m=0;m<h.length;m++){var y=h[m].split("=");if(1<y.length){var b=y[0];y=y[1];var S=b.split("_");c=2<=S.length&&"type"==S[1]?c+(b+"=")+y+"&":c+(b+"=redacted&")}}else c=null;else c=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.W,n.s)}function HM(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function uw(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=GM(n,t),i==z_){4==e&&(n.o=4,So(14),r=!1),ls(n.j,n.m,null,"[Incomplete Response]");break}if(i==lw){n.o=4,So(15),ls(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}ls(n.j,n.m,i,null),yD(n,i)}HM(n)&&i!=z_&&i!=lw&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,So(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ca&&(n.ca=!0,(e=n.l).g==n&&e.ca&&!e.L&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),SD(e),e.L=!0,So(11))):(ls(n.j,n.m,t,"[Invalid Chunked Response]"),Jh(n),q_(n))}function GM(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?z_:(t=Number(e.substring(t,r)),isNaN(t)?lw:(r+=1)+t>e.length?z_:(e=e.substr(r,t),n.C=r+t,e))}function gg(n){n.Y=Date.now()+n.P,_D(n,n.P)}function _D(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=B_(to(n.lb,n),e)}function dw(n){n.B&&(Mn.clearTimeout(n.B),n.B=null)}function q_(n){0==n.l.H||n.J||PN(n.l,n)}function Jh(n){dw(n);var e=n.M;e&&"function"==typeof e.ra&&e.ra(),n.M=null,ug(n.V),rw(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.ra())}function yD(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||vg(t.h,n)))if(!n.K&&vg(t.h,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;AD(t),ot(t)}$r(t),So(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.M&&0==t.A&&!t.v&&(t.v=B_(to(t.ib,t),6e3));if(1>=mw(t.h)&&t.na){try{t.na()}catch{}t.na=void 0}}else wg(t,11)}else if((n.K||t.g==n)&&AD(t),!S_(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let y=i[e];if(t.V=y[0],y=y[1],2==t.H)if("c"==y[0]){t.J=y[1],t.oa=y[2];const b=y[3];null!=b&&(t.qa=b,t.j.info("VER="+t.qa));const S=y[4];null!=S&&(t.Ga=S,t.j.info("SVER="+t.Ga));const P=y[5];null!=P&&"number"==typeof P&&0<P&&(t.K=r=1.5*P,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const V=n.g;if(V){const ne=V.g?V.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ne){var s=r.h;s.g||-1==ne.indexOf("spdy")&&-1==ne.indexOf("quic")&&-1==ne.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(_w(s,s.h),s.h=null))}if(r.F){const Ne=V.g?V.g.getResponseHeader("X-HTTP-Session-Id"):null;Ne&&(r.Da=Ne,Hr(r.G,r.F,Ne))}}t.H=3,t.l&&t.l.Ba(),t.ca&&(t.S=Date.now()-n.G,t.j.info("Handshake RTT: "+t.S+"ms"));var c=n;if((r=t).wa=kN(r,r.I?r.oa:null,r.Y),c.K){ED(r.h,c);var h=c,m=r.K;m&&h.setTimeout(m),h.B&&(dw(h),gg(h)),r.g=c}else wr(r);0<t.i.length&&It(t)}else"stop"!=y[0]&&"close"!=y[0]||wg(t,7);else 3==t.H&&("stop"==y[0]||"close"==y[0]?"stop"==y[0]?wg(t,7):Pe(t):"noop"!=y[0]&&t.l&&t.l.Aa(y),t.A=0)}dg()}catch{}}function mg(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(I_(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function zM(n){if(n.sa&&"function"==typeof n.sa)return n.sa();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(I_(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function bN(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(I_(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}(Bt=Bc.prototype).setTimeout=function(n){this.P=n},Bt.nb=function(n){n=n.target;const e=this.M;e&&3==E(n)?e.l():this.Pa(n)},Bt.Pa=function(n){try{if(n==this.g)e:{const b=E(this.g);var e=this.g.Ia();if(this.g.da(),!(3>b)&&(3!=b||A_||this.g&&(this.h.h||this.g.ja()||T(this.g)))){this.J||4!=b||7==e||dg(),dw(this);var t=this.g.da();this.aa=t;t:if(HM(this)){var r=T(this.g);n="";var i=r.length,s=4==E(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Jh(this),q_(this);var c="";break t}this.h.i=new Mn.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ja();if(this.i=200==t,function Hl(n,e,t,r,i,s,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+c})}(this.j,this.u,this.A,this.m,this.W,b,t),this.i){if(this.ba&&!this.K){t:{if(this.g){var h,m=this.g;if((h=m.g?m.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S_(h)){var y=h;break t}}y=null}if(!(t=y)){this.i=!1,this.o=3,So(12),Jh(this),q_(this);break e}ls(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,yD(this,t)}this.S?(uw(this,b,c),A_&&this.i&&3==b&&(uD(this.U,this.V,"tick",this.mb),this.V.start())):(ls(this.j,this.m,c,null),yD(this,c)),4==b&&Jh(this),this.i&&!this.J&&(4==b?PN(this.l,this):(this.i=!1,gg(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,So(12)):(this.o=0,So(13)),Jh(this),q_(this)}}}catch{}},Bt.mb=function(){if(this.g){var n=E(this.g),e=this.g.ja();this.C<e.length&&(dw(this),uw(this,n,e),this.i&&4!=n&&gg(this))}},Bt.cancel=function(){this.J=!0,Jh(this)},Bt.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function dD(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(dg(),So(17)),Jh(this),this.o=2,q_(this)):_D(this,this.Y-n)};var vD=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $c(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof $c){this.h=void 0!==e?e:n.h,_g(this,n.j),this.s=n.s,this.g=n.g,ef(this,n.m),this.l=n.l,e=n.i;var t=new yg;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),W_(this,t),this.o=n.o}else n&&(t=String(n).match(vD))?(this.h=!!e,_g(this,t[1]||"",!0),this.s=od(t[2]||""),this.g=od(t[3]||"",!0),ef(this,t[4]),this.l=od(t[5]||"",!0),W_(this,t[6]||"",!0),this.o=od(t[7]||"")):(this.h=!!e,this.i=new yg(null,this.h))}function Ao(n){return new $c(n)}function _g(n,e,t){n.j=t?od(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function ef(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function W_(n,e,t){e instanceof yg?(n.i=e,function YM(n,e){e&&!n.j&&(jc(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(CD(this,r),fw(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Vc(e,wD)),n.i=new yg(e,n.h))}function Hr(n,e,t){n.i.set(e,t)}function tf(n){return Hr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function od(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Vc(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,DN),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function DN(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}$c.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Vc(e,WM,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Vc(e,WM,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Vc(t,"/"==t.charAt(0)?SN:TN,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Vc(t,ZM)),n.join("")};var WM=/[#\/\?@]/g,TN=/[#\?:]/g,SN=/[#\?]/g,wD=/[#\?@]/g,ZM=/#/g;function yg(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function jc(n){n.g||(n.g=new Map,n.h=0,n.i&&function qM(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function CD(n,e){jc(n),e=sd(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function hw(n,e){return jc(n),e=sd(n,e),n.g.has(e)}function fw(n,e,t){CD(n,e),0<t.length&&(n.i=null,n.g.set(sd(n,e),rg(t)),n.h+=t.length)}function sd(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function pw(n){this.l=n||gw,n=Mn.PerformanceNavigationTiming?0<(n=Mn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Mn.g&&Mn.g.Ka&&Mn.g.Ka()&&Mn.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Bt=yg.prototype).add=function(n,e){jc(this),this.i=null,n=sd(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Bt.forEach=function(n,e){jc(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},Bt.sa=function(){jc(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let s=0;s<i.length;s++)t.push(e[r])}return t},Bt.Z=function(n){jc(this);let e=[];if("string"==typeof n)hw(this,n)&&(e=e.concat(this.g.get(sd(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Bt.set=function(n,e){return jc(this),this.i=null,hw(this,n=sd(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Bt.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},Bt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const s=encodeURIComponent(String(r)),c=this.Z(r);for(r=0;r<c.length;r++){var i=s;""!==c[r]&&(i+="="+encodeURIComponent(String(c[r]))),n.push(i)}}return this.i=n.join("&")};var gw=10;function QM(n){return!!n.h||!!n.g&&n.g.size>=n.j}function mw(n){return n.h?1:n.g?n.g.size:0}function vg(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function _w(n,e){n.g?n.g.add(e):n.h=e}function ED(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function XM(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return rg(n.i)}function ID(){}function JM(){this.g=new ID}function e1(n,e,t){const r=t||"";try{mg(n,function(i,s){let c=i;rd(i)&&(c=k_(i)),e.push(r+s+"="+encodeURIComponent(c))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function yw(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Z_(n){this.l=n.fc||null,this.j=n.ob||!1}function vw(n,e){Zi.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=bD,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}pw.prototype.cancel=function(){if(this.i=XM(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},ID.prototype.stringify=function(n){return Mn.JSON.stringify(n,void 0)},ID.prototype.parse=function(n){return Mn.JSON.parse(n,void 0)},Ni(Z_,$_),Z_.prototype.g=function(){return new vw(this.l,this.j)},Z_.prototype.i=function(n){return function(){return n}}({}),Ni(vw,Zi);var bD=0;function DD(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Y_(n){n.readyState=4,n.l=null,n.j=null,n.A=null,K_(n)}function K_(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Bt=vw.prototype).open=function(n,e){if(this.readyState!=bD)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,K_(this)},Bt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Mn).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Bt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Y_(this)),this.readyState=bD},Bt.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,K_(this)),this.g&&(this.readyState=3,K_(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Mn.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;DD(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},Bt.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Y_(this):K_(this),3==this.readyState&&DD(this)}},Bt.Za=function(n){this.g&&(this.response=this.responseText=n,Y_(this))},Bt.Ya=function(n){this.g&&(this.response=n,Y_(this))},Bt.ka=function(){this.g&&Y_(this)},Bt.setRequestHeader=function(n,e){this.v.append(n,e)},Bt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Bt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(vw.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var AN=Mn.JSON.parse;function wi(n){Zi.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=TD,this.L=this.M=!1}Ni(wi,Zi);var TD="",xN=/^https?$/i,o=["POST","PUT"];function u(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,d(n),g(n)}function d(n){n.F||(n.F=!0,mo(n,"complete"),mo(n,"error"))}function f(n){if(n.h&&typeof C_<"u"&&(!n.C[1]||4!=E(n)||2!=n.da()))if(n.v&&4==E(n))L_(n.La,0,n);else if(mo(n,"readystatechange"),4==E(n)){n.h=!1;try{const h=n.da();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===h){var i=String(n.I).match(vD)[1]||null;if(!i&&Mn.self&&Mn.self.location){var s=Mn.self.location.protocol;i=s.substr(0,s.length-1)}r=!xN.test(i?i.toLowerCase():"")}t=r}if(t)mo(n,"complete"),mo(n,"success");else{n.m=6;try{var c=2<E(n)?n.g.statusText:""}catch{c=""}n.j=c+" ["+n.da()+"]",d(n)}}finally{g(n)}}}function g(n,e){if(n.g){v(n);const t=n.g,r=n.C[0]?E_:null;n.g=null,n.C=null,e||mo(n,"ready");try{t.onreadystatechange=r}catch{}}}function v(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Mn.clearTimeout(n.A),n.A=null)}function E(n){return n.g?n.g.readyState:0}function T(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case TD:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function A(n){let e="";return rD(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function F(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=A(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Hr(n,e,t))}function G(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function de(n){this.Ga=0,this.i=[],this.j=new U_,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=G("failFast",!1,n),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=G("baseRetryDelayMs",5e3,n),this.hb=G("retryDelaySeedMs",1e4,n),this.eb=G("forwardChannelMaxRetries",2,n),this.xa=G("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.K=void 0,this.I=n&&n.supportsCrossDomainXhr||!1,this.J="",this.h=new pw(n&&n.concurrentRequestLimit),this.Ja=new JM,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.j.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function Pe(n){if(ft(n),3==n.H){var e=n.W++,t=Ao(n.G);Hr(t,"SID",n.J),Hr(t,"RID",e),Hr(t,"TYPE","terminate"),lt(n,t),(e=new Bc(n,n.j,e,void 0)).L=2,e.v=tf(Ao(t)),t=!1,Mn.navigator&&Mn.navigator.sendBeacon&&(t=Mn.navigator.sendBeacon(e.v.toString(),"")),!t&&Mn.Image&&((new Image).src=e.v,t=!0),t||(e.g=NN(e.l,null),e.g.ha(e.v)),e.G=Date.now(),gg(e)}ON(n)}function ot(n){n.g&&(SD(n),n.g.cancel(),n.g=null)}function ft(n){ot(n),n.u&&(Mn.clearTimeout(n.u),n.u=null),AD(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Mn.clearTimeout(n.m),n.m=null)}function It(n){QM(n.h)||n.m||(n.m=!0,lD(n.Na,n),n.C=0)}function ln(n,e){var t;t=e?e.m:n.W++;const r=Ao(n.G);Hr(r,"SID",n.J),Hr(r,"RID",t),Hr(r,"AID",n.V),lt(n,r),n.o&&n.s&&F(r,n.o,n.s),t=new Bc(n,n.j,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.i=e.F.concat(n.i)),e=Dn(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),_w(n.h,t),cw(t,r,e)}function lt(n,e){n.ma&&rD(n.ma,function(t,r){Hr(e,r,t)}),n.l&&mg({},function(t,r){Hr(e,r,t)})}function Dn(n,e,t){t=Math.min(n.i.length,t);var r=n.l?to(n.l.Va,n.l,n):null;e:{var i=n.i;let s=-1;for(;;){const c=["count="+t];-1==s?0<t?(s=i[0].h,c.push("ofs="+s)):s=0:c.push("ofs="+s);let h=!0;for(let m=0;m<t;m++){let y=i[m].h;const b=i[m].g;if(y-=s,0>y)s=Math.max(0,i[m].h-100),h=!1;else try{e1(b,c,"req"+y+"_")}catch{r&&r(b)}}if(h){r=c.join("&");break e}}}return n=n.i.splice(0,t),e.F=n,r}function wr(n){n.g||n.u||(n.ba=1,lD(n.Ma,n),n.A=0)}function $r(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=B_(to(n.Ma,n),RN(n,n.A)),n.A++,0))}function SD(n){null!=n.B&&(Mn.clearTimeout(n.B),n.B=null)}function MN(n){n.g=new Bc(n,n.j,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Ao(n.wa);Hr(e,"RID","rpc"),Hr(e,"SID",n.J),Hr(e,"CI",n.M?"0":"1"),Hr(e,"AID",n.V),Hr(e,"TYPE","xmlhttp"),lt(n,e),n.o&&n.s&&F(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.oa,t.L=1,t.v=tf(Ao(e)),t.s=null,t.S=!0,jM(t,n)}function AD(n){null!=n.v&&(Mn.clearTimeout(n.v),n.v=null)}function PN(n,e){var t=null;if(n.g==e){AD(n),SD(n),n.g=null;var r=2}else{if(!vg(n.h,e))return;t=e.F,ED(n.h,e),r=1}if(0!=n.H)if(n.ta=e.aa,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;mo(r=sw(),new aw(r,t)),It(n)}else wr(n);else if(3==(i=e.o)||0==i&&0<n.ta||!(1==r&&function Wt(n,e){return!(mw(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.F.concat(n.i),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=B_(to(n.Na,n,e),RN(n,n.C)),n.C++,0)))}(n,e)||2==r&&$r(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:wg(n,5);break;case 4:wg(n,10);break;case 3:wg(n,6);break;default:wg(n,2)}}function RN(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.l||(t*=2),t*e}function wg(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=to(n.pb,n);t||(t=new $c("//www.google.com/images/cleardot.gif"),Mn.location&&"http"==Mn.location.protocol||_g(t,"https"),tf(t)),function t1(n,e){const t=new U_;if(Mn.Image){const r=new Image;r.onload=T_(yw,t,r,"TestLoadImage: loaded",!0,e),r.onerror=T_(yw,t,r,"TestLoadImage: error",!1,e),r.onabort=T_(yw,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=T_(yw,t,r,"TestLoadImage: timeout",!1,e),Mn.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else So(2);n.H=0,n.l&&n.l.za(e),ON(n),ft(n)}function ON(n){if(n.H=0,n.pa=[],n.l){const e=XM(n.h);(0!=e.length||0!=n.i.length)&&(RM(n.pa,e),RM(n.pa,n.i),n.h.i.length=0,rg(n.i),n.i.length=0),n.l.ya()}}function kN(n,e,t){var r=t instanceof $c?Ao(t):new $c(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),ef(r,r.m);else{var i=Mn.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new $c(null,void 0);r&&_g(s,r),e&&(s.g=e),i&&ef(s,i),t&&(s.l=t),r=s}return e=n.Da,(t=n.F)&&e&&Hr(r,t,e),Hr(r,"VER",n.qa),lt(n,r),r}function NN(n,e,t){if(e&&!n.I)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new wi(t&&n.Ha&&!n.va?new Z_({ob:!0}):n.va)).Oa(n.I),e}function FN(){}function xD(){if(Kh&&!(10<=Number(yN)))throw Error("Environmental error: no available transport.")}function fa(n,e){Zi.call(this),this.g=new de(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!S_(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!S_(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Q_(this)}function LN(n){j_.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function UN(){H_.call(this),this.status=1}function Q_(n){this.g=n}function Gl(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function n1(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var s=n.g[3],c=(e=n.g[0])+(s^(t=n.g[1])&((i=n.g[2])^s))+r[0]+3614090360&4294967295;c=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=t+(c<<7&4294967295|c>>>25))+((c=s+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^s&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|c>>>10))+((c=e+(s^t&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|c>>>25))+((c=s+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^s&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|c>>>10))+((c=e+(s^t&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|c>>>25))+((c=s+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^s&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|c>>>10))+((c=e+(s^t&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|c>>>25))+((c=s+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^s&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|c>>>10))+((c=e+(i^s&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|c>>>27))+((c=s+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|c>>>18))+((c=t+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|c>>>12))+((c=e+(i^s&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|c>>>27))+((c=s+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|c>>>18))+((c=t+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|c>>>12))+((c=e+(i^s&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|c>>>27))+((c=s+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|c>>>18))+((c=t+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|c>>>12))+((c=e+(i^s&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|c>>>27))+((c=s+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|c>>>18))+((c=t+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|c>>>12))+((c=e+(t^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|c>>>28))+((c=s+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|c>>>21))+((c=i+(s^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|c>>>28))+((c=s+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|c>>>21))+((c=i+(s^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^i^s)+r[13]+681279174&4294967295)<<4&4294967295|c>>>28))+((c=s+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|c>>>21))+((c=i+(s^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|c>>>28))+((c=s+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|c>>>21))+((c=i+(s^e^t)+r[15]+530742520&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|c>>>9))+((c=e+(i^(t|~s))+r[0]+4096336452&4294967295)<<6&4294967295|c>>>26))+((c=s+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|c>>>22))+((c=i+(e^(s|~t))+r[14]+2878612391&4294967295)<<15&4294967295|c>>>17))+((c=t+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|c>>>11))+((c=e+(i^(t|~s))+r[12]+1700485571&4294967295)<<6&4294967295|c>>>26))+((c=s+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|c>>>22))+((c=i+(e^(s|~t))+r[10]+4293915773&4294967295)<<15&4294967295|c>>>17))+((c=t+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|c>>>11))+((c=e+(i^(t|~s))+r[8]+1873313359&4294967295)<<6&4294967295|c>>>26))+((c=s+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|c>>>22))+((c=i+(e^(s|~t))+r[6]+2734768916&4294967295)<<15&4294967295|c>>>17))+((c=t+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|c>>>11))+((s=(e=t+((c=e+(i^(t|~s))+r[4]+4149444226&4294967295)<<6&4294967295|c>>>26))+((c=s+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|c>>>22))^((i=s+((c=i+(e^(s|~t))+r[2]+718787259&4294967295)<<15&4294967295|c>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(c<<21&4294967295|c>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+s&4294967295}function Dr(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var s=0|n[i];r&&s==e||(t[i]=s,r=!1)}this.g=t}(Bt=wi.prototype).Oa=function(n){this.M=n},Bt.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():G_.g(),this.C=function VM(n){return n.h||(n.h=n.i())}(this.u?this.u:G_),this.g.onreadystatechange=to(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(s){return void u(this,s)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())t.set(s,r.get(s))}r=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),i=Mn.FormData&&n instanceof Mn.FormData,!(0<=$0(o,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,c]of t)this.g.setRequestHeader(s,c);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{v(this),0<this.B&&((this.L=function l(n){return Kh&&function tD(){return H0(_N,9,function(){let n=0;const e=Kb(String(og)).split("."),t=Kb("9").split("."),r=Math.max(e.length,t.length);for(let c=0;0==n&&c<r;c++){var i=e[c]||"",s=t[c]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;n=V0(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||V0(0==i[2].length,0==s[2].length)||V0(i[2],s[2]),i=i[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=to(this.ua,this)):this.A=L_(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){u(this,s)}},Bt.ua=function(){typeof C_<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,mo(this,"timeout"),this.abort(8))},Bt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,mo(this,"complete"),mo(this,"abort"),g(this))},Bt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),g(this,!0)),wi.$.N.call(this)},Bt.La=function(){this.s||(this.G||this.v||this.l?f(this):this.kb())},Bt.kb=function(){f(this)},Bt.da=function(){try{return 2<E(this)?this.g.status:-1}catch{return-1}},Bt.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Bt.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),AN(e)}},Bt.Ia=function(){return this.m},Bt.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Bt=de.prototype).qa=8,Bt.H=1,Bt.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new Bc(this,this.j,n,void 0);let s=this.s;if(this.U&&(s?(s=W0(s),Z0(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Dn(this,i,e),Hr(t=Ao(this.G),"RID",n),Hr(t,"CVER",22),this.F&&Hr(t,"X-HTTP-Session-Id",this.F),lt(this,t),s&&(this.O?e="headers="+encodeURIComponent(String(A(s)))+"&"+e:this.o&&F(t,this.o,s)),_w(this.h,i),this.bb&&Hr(t,"TYPE","init"),this.P?(Hr(t,"$req",e),Hr(t,"SID","null"),i.ba=!0,cw(i,t,null)):cw(i,t,e),this.H=2}}else 3==this.H&&(n?ln(this,n):0==this.i.length||QM(this.h)||ln(this))},Bt.Ma=function(){if(this.u=null,MN(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var n=2*this.S;this.j.info("BP detection timer enabled: "+n),this.B=B_(to(this.jb,this),n)}},Bt.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,So(10),ot(this),MN(this))},Bt.ib=function(){null!=this.v&&(this.v=null,ot(this),$r(this),So(19))},Bt.pb=function(n){n?(this.j.info("Successfully pinged google.com"),So(2)):(this.j.info("Failed to ping google.com"),So(1))},(Bt=FN.prototype).Ba=function(){},Bt.Aa=function(){},Bt.za=function(){},Bt.ya=function(){},Bt.Va=function(){},xD.prototype.g=function(n,e){return new fa(n,e)},Ni(fa,Zi),fa.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var n=this.g,e=this.l,t=this.h||void 0;So(0),n.Y=e,n.ma=t||{},n.M=n.aa,n.G=kN(n,null,n.Y),It(n)},fa.prototype.close=function(){Pe(this.g)},fa.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=k_(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.fb++,n)),3==e.H&&It(e)},fa.prototype.N=function(){this.g.l=null,delete this.j,Pe(this.g),delete this.g,fa.$.N.call(this)},Ni(LN,j_),Ni(UN,H_),Ni(Q_,FN),Q_.prototype.Ba=function(){mo(this.g,"a")},Q_.prototype.Aa=function(n){mo(this.g,new LN(n))},Q_.prototype.za=function(n){mo(this.g,new UN)},Q_.prototype.ya=function(){mo(this.g,"b")},Ni(Gl,function r3(){this.blockSize=-1}),Gl.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Gl.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=t;)n1(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<e;)if(r[i++]=n.charCodeAt(s++),i==this.blockSize){n1(this,r),i=0;break}}else for(;s<e;)if(r[i++]=n[s++],i==this.blockSize){n1(this,r),i=0;break}}this.h=i,this.i+=e},Gl.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var i3={};function r1(n){return-128<=n&&128>n?H0(i3,n,function(e){return new Dr([0|e],0>e?-1:0)}):new Dr([0|n],0>n?-1:0)}function Hc(n){if(isNaN(n)||!isFinite(n))return X_;if(0>n)return xo(Hc(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=i1;return new Dr(e,0)}var i1=4294967296,X_=r1(0),o1=r1(1),$N=r1(16777216);function ad(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Ja(n){return-1==n.h}function xo(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new Dr(t,~n.h).add(o1)}function MD(n,e){return n.add(xo(e))}function PD(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function ww(n,e){this.g=n,this.h=e}function RD(n,e){if(ad(e))throw Error("division by zero");if(ad(n))return new ww(X_,X_);if(Ja(n))return e=RD(xo(n),e),new ww(xo(e.g),xo(e.h));if(Ja(e))return e=RD(n,xo(e)),new ww(xo(e.g),e.h);if(30<n.g.length){if(Ja(n)||Ja(e))throw Error("slowDivide_ only works with positive integers.");for(var t=o1,r=e;0>=r.X(n);)t=VN(t),r=VN(r);var i=J_(t,1),s=J_(r,1);for(r=J_(r,2),t=J_(t,2);!ad(r);){var c=s.add(r);0>=c.X(n)&&(i=i.add(t),s=c),r=J_(r,1),t=J_(t,1)}return e=MD(n,i.R(e)),new ww(i,e)}for(i=X_;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),c=(s=Hc(t)).R(e);Ja(c)||0<c.X(n);)c=(s=Hc(t-=r)).R(e);ad(s)&&(s=o1),i=i.add(s),n=MD(n,c)}return new ww(i,n)}function VN(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new Dr(t,n.h)}function J_(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],s=0;s<r;s++)i[s]=0<e?n.D(s+t)>>>e|n.D(s+t+1)<<32-e:n.D(s+t);return new Dr(i,n.h)}(Bt=Dr.prototype).ea=function(){if(Ja(this))return-xo(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:i1+r)*e,e*=i1}return n},Bt.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(ad(this))return"0";if(Ja(this))return"-"+xo(this).toString(n);for(var e=Hc(Math.pow(n,6)),t=this,r="";;){var i=RD(t,e).g,s=((0<(t=MD(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(ad(t=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},Bt.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},Bt.X=function(n){return Ja(n=MD(this,n))?-1:ad(n)?0:1},Bt.abs=function(){return Ja(this)?xo(this):this},Bt.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&n.D(i)),c=(s>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=c>>>16,t[i]=(c&=65535)<<16|(s&=65535)}return new Dr(t,-2147483648&t[t.length-1]?-1:0)},Bt.R=function(n){if(ad(this)||ad(n))return X_;if(Ja(this))return Ja(n)?xo(this).R(xo(n)):xo(xo(this).R(n));if(Ja(n))return xo(this.R(xo(n)));if(0>this.X($N)&&0>n.X($N))return Hc(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var s=this.D(r)>>>16,c=65535&this.D(r),h=n.D(i)>>>16,m=65535&n.D(i);t[2*r+2*i]+=c*m,PD(t,2*r+2*i),t[2*r+2*i+1]+=s*m,PD(t,2*r+2*i+1),t[2*r+2*i+1]+=c*h,PD(t,2*r+2*i+1),t[2*r+2*i+2]+=s*h,PD(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new Dr(t,0)},Bt.gb=function(n){return RD(this,n).h},Bt.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new Dr(t,this.h&n.h)},Bt.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new Dr(t,this.h|n.h)},Bt.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new Dr(t,this.h^n.h)},xD.prototype.createWebChannel=xD.prototype.g,fa.prototype.send=fa.prototype.u,fa.prototype.open=fa.prototype.m,fa.prototype.close=fa.prototype.close,hg.NO_ERROR=0,hg.TIMEOUT=8,hg.HTTP_ERROR=6,gD.COMPLETE="complete",V_.EventType=Xh,Xh.OPEN="a",Xh.CLOSE="b",Xh.ERROR="c",Xh.MESSAGE="d",Zi.prototype.listen=Zi.prototype.O,wi.prototype.listenOnce=wi.prototype.P,wi.prototype.getLastError=wi.prototype.Sa,wi.prototype.getLastErrorCode=wi.prototype.Ia,wi.prototype.getStatus=wi.prototype.da,wi.prototype.getResponseJson=wi.prototype.Wa,wi.prototype.getResponseText=wi.prototype.ja,wi.prototype.send=wi.prototype.ha,wi.prototype.setWithCredentials=wi.prototype.Oa,Gl.prototype.digest=Gl.prototype.l,Gl.prototype.reset=Gl.prototype.reset,Gl.prototype.update=Gl.prototype.j,Dr.prototype.add=Dr.prototype.add,Dr.prototype.multiply=Dr.prototype.R,Dr.prototype.modulo=Dr.prototype.gb,Dr.prototype.compare=Dr.prototype.X,Dr.prototype.toNumber=Dr.prototype.ea,Dr.prototype.toString=Dr.prototype.toString,Dr.prototype.getBits=Dr.prototype.D,Dr.fromNumber=Hc,Dr.fromString=function BN(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return xo(BN(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Hc(Math.pow(e,8)),r=X_,i=0;i<n.length;i+=8){var s=Math.min(8,n.length-i),c=parseInt(n.substring(i,i+s),e);8>s?(s=Hc(Math.pow(e,s)),r=r.R(s).add(Hc(c))):r=(r=r.R(t)).add(Hc(c))}return r};var o3=ss.createWebChannelTransport=function(){return new xD},s3=ss.getStatEventTarget=function(){return sw()},s1=ss.ErrorCode=hg,a3=ss.EventType=gD,l3=ss.Event=Uc,jN=ss.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},c3=ss.FetchXmlHttpFactory=Z_,OD=ss.WebChannel=V_,u3=ss.XhrIo=wi,d3=ss.Md5=Gl,ey=ss.Integer=Dr;const HN="@firebase/firestore";class _o{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}_o.UNAUTHENTICATED=new _o(null),_o.GOOGLE_CREDENTIALS=new _o("google-credentials-uid"),_o.FIRST_PARTY=new _o("first-party-uid"),_o.MOCK_USER=new _o("mock-user");let ty="9.21.0";const nf=new po.Yd("@firebase/firestore");function a1(){return nf.logLevel}function gt(n,...e){if(nf.logLevel<=po.in.DEBUG){const t=e.map(l1);nf.debug(`Firestore (${ty}): ${n}`,...t)}}function Fi(n,...e){if(nf.logLevel<=po.in.ERROR){const t=e.map(l1);nf.error(`Firestore (${ty}): ${n}`,...t)}}function el(n,...e){if(nf.logLevel<=po.in.WARN){const t=e.map(l1);nf.warn(`Firestore (${ty}): ${n}`,...t)}}function l1(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Gt(n="Unexpected state"){const e=`FIRESTORE (${ty}) INTERNAL ASSERTION FAILED: `+n;throw Fi(e),new Error(e)}function en(n,e){n||Gt()}function kt(n,e){return n}const tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends j.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class no{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class GN{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class p3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(_o.UNAUTHENTICATED))}shutdown(){}}class g3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class m3{constructor(e){this.t=e,this.currentUser=_o.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=y=>this.i!==i?(i=this.i,t(y)):Promise.resolve();let c=new no;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new no,e.enqueueRetryable(()=>s(this.currentUser))};const h=()=>{const y=c;e.enqueueRetryable((0,ze.Z)(function*(){yield y.promise,yield s(r.currentUser)}))},m=y=>{gt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(y=>m(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?m(y):(gt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new no)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(gt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(en("string"==typeof r.accessToken),new GN(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return en(null===e||"string"==typeof e),new _o(e)}}class _3{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=_o.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class y3{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new _3(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(_o.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class zN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class v3{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=s=>{null!=s.error&&gt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const c=s.token!==this.T;return this.T=s.token,gt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{gt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):gt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(en("string"==typeof t.token),this.T=t.token,new zN(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function w3(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class qN{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=w3(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function Pn(n,e){return n<e?-1:n>e?1:0}function ny(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function WN(n){return n+"\0"}class di{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ct(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ct(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ct(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ct(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return di.fromMillis(Date.now())}static fromDate(e){return di.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new di(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Pn(this.nanoseconds,e.nanoseconds):Pn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class rn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new rn(e)}static min(){return new rn(new di(0,0))}static max(){return new rn(new di(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Cw{constructor(e,t,r){void 0===t?t=0:t>e.length&&Gt(),void 0===r?r=e.length-t:r>e.length-t&&Gt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Cw.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Cw?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),c=t.get(i);if(s<c)return-1;if(s>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class er extends Cw{construct(e,t,r){return new er(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ct(tt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new er(t)}static emptyPath(){return new er([])}}const C3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xi extends Cw{construct(e,t,r){return new xi(e,t,r)}static isValidIdentifier(e){return C3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new xi(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new ct(tt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;i<e.length;){const h=e[i];if("\\"===h){if(i+1===e.length)throw new ct(tt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[i+1];if("\\"!==m&&"."!==m&&"`"!==m)throw new ct(tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=m,i+=2}else"`"===h?(c=!c,i++):"."!==h||c?(r+=h,i++):(s(),i++)}if(s(),c)throw new ct(tt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xi(t)}static emptyPath(){return new xi([])}}class Pt{constructor(e){this.path=e}static fromPath(e){return new Pt(er.fromString(e))}static fromName(e){return new Pt(er.fromString(e).popFirst(5))}static empty(){return new Pt(er.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===er.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return er.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Pt(new er(e.slice()))}}class kD{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function c1(n){return n.fields.find(e=>2===e.kind)}function Cg(n){return n.fields.filter(e=>2!==e.kind)}kD.UNKNOWN_ID=-1;class ND{constructor(e,t){this.fieldPath=e,this.kind=t}}class Ew{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Ew(0,pa.min())}}function ZN(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=rn.fromTimestamp(1e9===r?new di(t+1,0):new di(t,r));return new pa(i,Pt.empty(),e)}function YN(n){return new pa(n.readTime,n.key,-1)}class pa{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new pa(rn.min(),Pt.empty(),-1)}static max(){return new pa(rn.max(),Pt.empty(),-1)}}function u1(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Pt.comparator(n.documentKey,e.documentKey),0!==t?t:Pn(n.largestBatchId,e.largestBatchId))}const KN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class QN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function rf(n){return d1.apply(this,arguments)}function d1(){return d1=(0,ze.Z)(function*(n){if(n.code!==tt.FAILED_PRECONDITION||n.message!==KN)throw n;gt("LocalStore","Unexpectedly lost primary lease")}),d1.apply(this,arguments)}class je{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Gt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new je((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof je?t:je.resolve(t)}catch(t){return je.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):je.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):je.reject(t)}static resolve(e){return new je((t,r)=>{t(e)})}static reject(e){return new je((t,r)=>{r(e)})}static waitFor(e){return new je((t,r)=>{let i=0,s=0,c=!1;e.forEach(h=>{++i,h.next(()=>{++s,c&&s===i&&t()},m=>r(m))}),c=!0,s===i&&t()})}static or(e){let t=je.resolve(!1);for(const r of e)t=t.next(i=>i?je.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new je((r,i)=>{const s=e.length,c=new Array(s);let h=0;for(let m=0;m<s;m++){const y=m;t(e[y]).next(b=>{c[y]=b,++h,h===s&&r(c)},b=>i(b))}})}static doWhile(e,t){return new je((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}class FD{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.R=new no,this.transaction.oncomplete=()=>{this.R.resolve()},this.transaction.onabort=()=>{t.error?this.R.reject(new Iw(e,t.error)):this.R.resolve()},this.transaction.onerror=r=>{const i=h1(r.target.error);this.R.reject(new Iw(e,i))}}static open(e,t,r,i){try{return new FD(t,e.transaction(i,r))}catch(s){throw new Iw(t,s)}}get v(){return this.R.promise}abort(e){e&&this.R.reject(e),this.aborted||(gt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new D3(t)}}class zl{constructor(e,t,r){this.name=e,this.version=t,this.V=r,12.2===zl.S((0,j.z$)())&&Fi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return gt("SimpleDb","Removing database:",e),Eg(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,j.hl)())return!1;if(zl.C())return!0;const e=(0,j.z$)(),t=zl.S(e),r=0<t&&t<10,i=zl.N(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){var t=this;return(0,ze.Z)(function*(){return t.db||(gt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const s=indexedDB.open(t.name,t.version);s.onsuccess=c=>{r(c.target.result)},s.onblocked=()=>{i(new Iw(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=c=>{const h=c.target.error;i("VersionError"===h.name?new ct(tt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new ct(tt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new Iw(e,h))},s.onupgradeneeded=c=>{gt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.V.$(c.target.result,s.transaction,c.oldVersion,t.version).next(()=>{gt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=r=>t.F(r)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var s=this;return(0,ze.Z)(function*(){const c="readonly"===t;let h=0;for(;;){++h;try{s.db=yield s.O(e);const m=FD.open(s.db,e,c?"readonly":"readwrite",r),y=i(m).next(b=>(m.P(),b)).catch(b=>(m.abort(b),je.reject(b))).toPromise();return y.catch(()=>{}),yield m.v,y}catch(m){const y=m,b="FirebaseError"!==y.name&&h<3;if(gt("SimpleDb","Transaction failed with error:",y.message,"Retrying:",b),s.close(),!b)return Promise.reject(y)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class b3{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Eg(this.L.delete())}}class Iw extends ct{constructor(e,t){super(tt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function sf(n){return"IndexedDbTransactionError"===n.name}class D3{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(gt("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(gt("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Eg(r)}add(e){return gt("SimpleDb","ADD",this.store.name,e,e),Eg(this.store.add(e))}get(e){return Eg(this.store.get(e)).next(t=>(void 0===t&&(t=null),gt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return gt("SimpleDb","DELETE",this.store.name,e),Eg(this.store.delete(e))}count(){return gt("SimpleDb","COUNT",this.store.name),Eg(this.store.count())}j(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),s=[];return this.W(i,(c,h)=>{s.push(h)}).next(()=>s)}{const i=this.store.getAll(r.range);return new je((s,c)=>{i.onerror=h=>{c(h.target.error)},i.onsuccess=h=>{s(h.target.result)}})}}H(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new je((i,s)=>{r.onerror=c=>{s(c.target.error)},r.onsuccess=c=>{i(c.target.result)}})}J(e,t){gt("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const i=this.cursor(r);return this.W(i,(s,c,h)=>h.delete())}X(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.W(i,t)}Z(e){const t=this.cursor({});return new je((r,i)=>{t.onerror=s=>{const c=h1(s.target.error);i(c)},t.onsuccess=s=>{const c=s.target.result;c?e(c.primaryKey,c.value).next(h=>{h?c.continue():r()}):r()}})}W(e,t){const r=[];return new je((i,s)=>{e.onerror=c=>{s(c.target.error)},e.onsuccess=c=>{const h=c.target.result;if(!h)return void i();const m=new b3(h),y=t(h.primaryKey,h.value,m);if(y instanceof je){const b=y.catch(S=>(m.done(),je.reject(S)));r.push(b)}m.isDone?i():null===m.K?h.continue():h.continue(m.K)}}).next(()=>je.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Eg(n){return new je((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=h1(r.target.error);t(i)}})}let XN=!1;function h1(n){const e=zl.S((0,j.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new ct("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return XN||(XN=!0,setTimeout(()=>{throw r},0)),r}}return n}class T3{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;gt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ze.Z)(function*(){t.task=null;try{gt("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(r){sf(r)?gt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield rf(r)}yield t.et(6e4)}))}}class S3{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,ze.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.st(r,e))})()}st(e,t){const r=new Set;let i=t,s=!0;return je.doWhile(()=>!0===s&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(c=>{if(null!==c&&!r.has(c))return gt("IndexBackiller",`Processing collection: ${c}`),this.it(e,c,i).next(h=>{i-=h,r.add(c)});s=!1})).next(()=>t-i)}it(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(s=>{const c=s.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next(()=>this.rt(i,s)).next(h=>(gt("IndexBackiller",`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(e,t,h))).next(()=>c.size)}))}rt(e,t){let r=e;return t.changes.forEach((i,s)=>{const c=YN(s);u1(c,r)>0&&(r=c)}),new pa(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let ga=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function bw(n){return null==n}function Dw(n){return 0===n&&1/n==-1/0}function JN(n){return"number"==typeof n&&Number.isInteger(n)&&!Dw(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function zo(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=eF(e)),e=A3(n.get(t),e);return eF(e)}function A3(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=s}}return t}function eF(n){return n+"\x01\x01"}function Gc(n){const e=n.length;if(en(e>=2),2===e)return en("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),er.emptyPath();const t=e-2,r=[];let i="";for(let s=0;s<e;){const c=n.indexOf("\x01",s);switch((c<0||c>t)&&Gt(),n.charAt(c+1)){case"\x01":const h=n.substring(s,c);let m;0===i.length?m=h:(i+=h,m=i,i=""),r.push(m);break;case"\x10":i+=n.substring(s,c),i+="\0";break;case"\x11":i+=n.substring(s,c+1);break;default:Gt()}s=c+2}return new er(r)}const tF=["userId","batchId"];function LD(n,e){return[n,zo(e)]}function nF(n,e,t){return[n,zo(e),t]}const x3={},M3=["prefixPath","collectionGroup","readTime","documentId"],P3=["prefixPath","collectionGroup","documentId"],R3=["collectionGroup","readTime","prefixPath","documentId"],O3=["canonicalId","targetId"],k3=["targetId","path"],N3=["path","targetId"],F3=["collectionId","parent"],L3=["indexId","uid"],U3=["uid","sequenceNumber"],B3=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],$3=["indexId","uid","orderedDocumentKey"],V3=["userId","collectionPath","documentId"],j3=["userId","collectionPath","largestBatchId"],H3=["userId","collectionGroup","largestBatchId"],rF=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],G3=[...rF,"documentOverlays"],iF=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],oF=iF,z3=[...oF,"indexConfiguration","indexState","indexEntries"];class f1 extends QN{constructor(e,t){super(),this.at=e,this.currentSequenceNumber=t}}function yo(n,e){const t=kt(n);return zl.M(t.at,e)}function sF(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function af(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function aF(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Gr{constructor(e,t){this.comparator=e,this.root=t||Mo.EMPTY}insert(e,t){return new Gr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Mo.BLACK,null,null))}remove(e){return new Gr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Mo.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new UD(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new UD(this.root,e,this.comparator,!1)}getReverseIterator(){return new UD(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new UD(this.root,e,this.comparator,!0)}}class UD{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Mo{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=null!=r?r:Mo.RED,this.left=null!=i?i:Mo.EMPTY,this.right=null!=s?s:Mo.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new Mo(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Mo.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Mo.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Mo.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Mo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Gt();const e=this.left.check();if(e!==this.right.check())throw Gt();return e+(this.isRed()?0:1)}}Mo.EMPTY=null,Mo.RED=!0,Mo.BLACK=!1,Mo.EMPTY=new class{constructor(){this.size=0}get key(){throw Gt()}get value(){throw Gt()}get color(){throw Gt()}get left(){throw Gt()}get right(){throw Gt()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Mo(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Jr{constructor(e){this.comparator=e,this.data=new Gr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new lF(this.data.getIterator())}getIteratorFrom(e){return new lF(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Jr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Jr(this.comparator);return t.data=e,t}}class lF{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ry(n){return n.hasNext()?n.getNext():void 0}class Ls{constructor(e){this.fields=e,e.sort(xi.comparator)}static empty(){return new Ls([])}unionWith(e){let t=new Jr(xi.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Ls(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ny(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class cF extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ro{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new cF("Invalid base64 string: "+i):i}}(e);return new ro(t)}static fromUint8Array(e){const t=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new ro(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ro.EMPTY_BYTE_STRING=new ro("");const W3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function lf(n){if(en(!!n),"string"==typeof n){let e=0;const t=W3.exec(n);if(en(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Mi(n.seconds),nanos:Mi(n.nanos)}}function Mi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function ld(n){return"string"==typeof n?ro.fromBase64String(n):ro.fromUint8Array(n)}function BD(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function $D(n){const e=n.mapValue.fields.__previous_value__;return BD(e)?$D(e):e}function Tw(n){const e=lf(n.mapValue.fields.__local_write_time__.timestampValue);return new di(e.seconds,e.nanos)}class Z3{constructor(e,t,r,i,s,c,h,m){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.useFetchStreams=m}}class cf{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new cf("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof cf&&e.projectId===this.projectId&&e.database===this.database}}const uf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},VD={nullValue:"NULL_VALUE"};function df(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?BD(n)?4:fF(n)?9007199254740991:10:Gt()}function zc(n,e){if(n===e)return!0;const t=df(n);if(t!==df(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Tw(n).isEqual(Tw(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=lf(r.timestampValue),c=lf(i.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,ld(n.bytesValue).isEqual(ld(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Mi(r.geoPointValue.latitude)===Mi(i.geoPointValue.latitude)&&Mi(r.geoPointValue.longitude)===Mi(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Mi(r.integerValue)===Mi(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Mi(r.doubleValue),c=Mi(i.doubleValue);return s===c?Dw(s)===Dw(c):isNaN(s)&&isNaN(c)}return!1}(n,e);case 9:return ny(n.arrayValue.values||[],e.arrayValue.values||[],zc);case 10:return function(r,i){const s=r.mapValue.fields||{},c=i.mapValue.fields||{};if(sF(s)!==sF(c))return!1;for(const h in s)if(s.hasOwnProperty(h)&&(void 0===c[h]||!zc(s[h],c[h])))return!1;return!0}(n,e);default:return Gt()}var i}function Sw(n,e){return void 0!==(n.values||[]).find(t=>zc(t,e))}function hf(n,e){if(n===e)return 0;const t=df(n),r=df(e);if(t!==r)return Pn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Pn(n.booleanValue,e.booleanValue);case 2:return function(i,s){const c=Mi(i.integerValue||i.doubleValue),h=Mi(s.integerValue||s.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(n,e);case 3:return uF(n.timestampValue,e.timestampValue);case 4:return uF(Tw(n),Tw(e));case 5:return Pn(n.stringValue,e.stringValue);case 6:return function(i,s){const c=ld(i),h=ld(s);return c.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(i,s){const c=i.split("/"),h=s.split("/");for(let m=0;m<c.length&&m<h.length;m++){const y=Pn(c[m],h[m]);if(0!==y)return y}return Pn(c.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,s){const c=Pn(Mi(i.latitude),Mi(s.latitude));return 0!==c?c:Pn(Mi(i.longitude),Mi(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,s){const c=i.values||[],h=s.values||[];for(let m=0;m<c.length&&m<h.length;++m){const y=hf(c[m],h[m]);if(y)return y}return Pn(c.length,h.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===uf.mapValue&&s===uf.mapValue)return 0;if(i===uf.mapValue)return 1;if(s===uf.mapValue)return-1;const c=i.fields||{},h=Object.keys(c),m=s.fields||{},y=Object.keys(m);h.sort(),y.sort();for(let b=0;b<h.length&&b<y.length;++b){const S=Pn(h[b],y[b]);if(0!==S)return S;const P=hf(c[h[b]],m[y[b]]);if(0!==P)return P}return Pn(h.length,y.length)}(n.mapValue,e.mapValue);default:throw Gt()}}function uF(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Pn(n,e);const t=lf(n),r=lf(e),i=Pn(t.seconds,r.seconds);return 0!==i?i:Pn(t.nanos,r.nanos)}function iy(n){return p1(n)}function p1(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=lf(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?ld(n.bytesValue).toBase64():"referenceValue"in n?Pt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",s=!0;for(const c of r.values||[])s?s=!1:i+=",",i+=p1(c);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",c=!0;for(const h of i)c?c=!1:s+=",",s+=`${h}:${p1(r.fields[h])}`;return s+"}"}(n.mapValue):Gt();var e}function Ig(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function g1(n){return!!n&&"integerValue"in n}function Aw(n){return!!n&&"arrayValue"in n}function dF(n){return!!n&&"nullValue"in n}function hF(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function HD(n){return!!n&&"mapValue"in n}function xw(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return af(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=xw(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=xw(n.arrayValue.values[t]);return e}return Object.assign({},n)}function fF(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function Y3(n){return"nullValue"in n?VD:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Ig(cf.empty(),Pt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Gt()}function K3(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Ig(cf.empty(),Pt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?uf:Gt()}function pF(n,e){const t=hf(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function gF(n,e){const t=hf(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Po{constructor(e){this.value=e}static empty(){return new Po({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!HD(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=xw(t)}setAll(e){let t=xi.emptyPath(),r={},i=[];e.forEach((c,h)=>{if(!t.isImmediateParentOf(h)){const m=this.getFieldsMap(t);this.applyChanges(m,r,i),r={},i=[],t=h.popLast()}c?r[h.lastSegment()]=xw(c):i.push(h.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());HD(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return zc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];HD(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){af(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Po(xw(this.value))}}function mF(n){const e=[];return af(n.fields,(t,r)=>{const i=new xi([t]);if(HD(r)){const s=mF(r.mapValue).fields;if(0===s.length)e.push(i);else for(const c of s)e.push(i.child(c))}else e.push(i)}),new Ls(e)}class ei{constructor(e,t,r,i,s,c,h){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=c,this.documentState=h}static newInvalidDocument(e){return new ei(e,0,rn.min(),rn.min(),rn.min(),Po.empty(),0)}static newFoundDocument(e,t,r,i){return new ei(e,1,t,rn.min(),r,i,0)}static newNoDocument(e,t){return new ei(e,2,t,rn.min(),rn.min(),Po.empty(),0)}static newUnknownDocument(e,t){return new ei(e,3,t,rn.min(),rn.min(),Po.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(rn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Po.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Po.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=rn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ei&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ei(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ff{constructor(e,t){this.position=e,this.inclusive=t}}function _F(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],c=n.position[i];if(r=s.field.isKeyField()?Pt.comparator(Pt.fromName(c.referenceValue),t.key):hf(c,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function yF(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!zc(n.position[t],e.position[t]))return!1;return!0}class oy{constructor(e,t="asc"){this.field=e,this.dir=t}}function Q3(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class vF{}class Qn extends vF{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new X3(e,t,r):"array-contains"===t?new t6(e,r):"in"===t?new DF(e,r):"not-in"===t?new n6(e,r):"array-contains-any"===t?new r6(e,r):new Qn(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new J3(e,r):new e6(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(hf(t,this.value)):null!==t&&df(this.value)===df(t)&&this.matchesComparison(hf(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Gt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Tr extends vF{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new Tr(e,t)}matches(e){return sy(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function sy(n){return"and"===n.op}function m1(n){return"or"===n.op}function _1(n){return wF(n)&&sy(n)}function wF(n){for(const e of n.filters)if(e instanceof Tr)return!1;return!0}function y1(n){if(n instanceof Qn)return n.field.canonicalString()+n.op.toString()+iy(n.value);if(_1(n))return n.filters.map(e=>y1(e)).join(",");{const e=n.filters.map(t=>y1(t)).join(",");return`${n.op}(${e})`}}function CF(n,e){return n instanceof Qn?(t=n,(r=e)instanceof Qn&&t.op===r.op&&t.field.isEqual(r.field)&&zc(t.value,r.value)):n instanceof Tr?function(t,r){return r instanceof Tr&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,s,c)=>i&&CF(s,r.filters[c]),!0)}(n,e):void Gt();var t,r}function EF(n,e){const t=n.filters.concat(e);return Tr.create(t,n.op)}function IF(n){return n instanceof Qn?`${(e=n).field.canonicalString()} ${e.op} ${iy(e.value)}`:n instanceof Tr?function(e){return e.op.toString()+" {"+e.getFilters().map(IF).join(" ,")+"}"}(n):"Filter";var e}class X3 extends Qn{constructor(e,t,r){super(e,t,r),this.key=Pt.fromName(r.referenceValue)}matches(e){const t=Pt.comparator(e.key,this.key);return this.matchesComparison(t)}}class J3 extends Qn{constructor(e,t){super(e,"in",t),this.keys=bF(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class e6 extends Qn{constructor(e,t){super(e,"not-in",t),this.keys=bF(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function bF(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Pt.fromName(r.referenceValue))}class t6 extends Qn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Aw(t)&&Sw(t.arrayValue,this.value)}}class DF extends Qn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Sw(this.value.arrayValue,t)}}class n6 extends Qn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Sw(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Sw(this.value.arrayValue,t)}}class r6 extends Qn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Aw(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Sw(this.value.arrayValue,r))}}class i6{constructor(e,t=null,r=[],i=[],s=null,c=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=c,this.endAt=h,this.ft=null}}function v1(n,e=null,t=[],r=[],i=null,s=null,c=null){return new i6(n,e,t,r,i,s,c)}function bg(n){const e=kt(n);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>y1(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),bw(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>iy(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>iy(r)).join(",")),e.ft=t}return e.ft}function Mw(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Q3(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!CF(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!yF(n.startAt,e.startAt)&&yF(n.endAt,e.endAt)}function GD(n){return Pt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function zD(n,e){return n.filters.filter(t=>t instanceof Qn&&t.field.isEqual(e))}function TF(n,e,t){let r=VD,i=!0;for(const s of zD(n,e)){let c=VD,h=!0;switch(s.op){case"<":case"<=":c=Y3(s.value);break;case"==":case"in":case">=":c=s.value;break;case">":c=s.value,h=!1;break;case"!=":case"not-in":c=VD}pF({value:r,inclusive:i},{value:c,inclusive:h})<0&&(r=c,i=h)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const c=t.position[s];pF({value:r,inclusive:i},{value:c,inclusive:t.inclusive})<0&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}function SF(n,e,t){let r=uf,i=!0;for(const s of zD(n,e)){let c=uf,h=!0;switch(s.op){case">=":case">":c=K3(s.value),h=!1;break;case"==":case"in":case"<=":c=s.value;break;case"<":c=s.value,h=!1;break;case"!=":case"not-in":c=uf}gF({value:r,inclusive:i},{value:c,inclusive:h})>0&&(r=c,i=h)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const c=t.position[s];gF({value:r,inclusive:i},{value:c,inclusive:t.inclusive})>0&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}class cd{constructor(e,t=null,r=[],i=[],s=null,c="F",h=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=c,this.startAt=h,this.endAt=m,this.dt=null,this._t=null}}function AF(n,e,t,r,i,s,c,h){return new cd(n,e,t,r,i,s,c,h)}function ay(n){return new cd(n)}function xF(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function w1(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function qD(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function C1(n){return null!==n.collectionGroup}function Dg(n){const e=kt(n);if(null===e.dt){e.dt=[];const t=qD(e),r=w1(e);if(null!==t&&null===r)t.isKeyField()||e.dt.push(new oy(t)),e.dt.push(new oy(xi.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.dt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new oy(xi.keyField(),s))}}}return e.dt}function cs(n){const e=kt(n);if(!e._t)if("F"===e.limitType)e._t=v1(e.path,e.collectionGroup,Dg(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of Dg(e))t.push(new oy(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new ff(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new ff(e.startAt.position,e.startAt.inclusive):null;e._t=v1(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function E1(n,e){e.getFirstInequalityField(),qD(n);const t=n.filters.concat([e]);return new cd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function WD(n,e,t){return new cd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Pw(n,e){return Mw(cs(n),cs(e))&&n.limitType===e.limitType}function MF(n){return`${bg(cs(n))}|lt:${n.limitType}`}function I1(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>IF(r)).join(", ")}]`),bw(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>iy(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>iy(r)).join(",")),`Target(${t})`}(cs(n))}; limitType=${n.limitType})`}function Rw(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):Pt.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of Dg(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,s,c){const h=_F(i,s,c);return i.inclusive?h<=0:h<0}(t.startAt,Dg(t),r)||t.endAt&&!function(i,s,c){const h=_F(i,s,c);return i.inclusive?h>=0:h>0}(t.endAt,Dg(t),r)));var t,r}function PF(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function RF(n){return(e,t)=>{let r=!1;for(const i of Dg(n)){const s=o6(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function o6(n,e,t){const r=n.field.isKeyField()?Pt.comparator(e.key,t.key):function(i,s,c){const h=s.data.field(i),m=c.data.field(i);return null!==h&&null!==m?hf(h,m):Gt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Gt()}}class ud{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){af(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return aF(this.inner)}size(){return this.innerSize}}const s6=new Gr(Pt.comparator);function Us(){return s6}const OF=new Gr(Pt.comparator);function Ow(...n){let e=OF;for(const t of n)e=e.insert(t.key,t);return e}function kF(n){let e=OF;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function qc(){return kw()}function NF(){return kw()}function kw(){return new ud(n=>n.toString(),(n,e)=>n.isEqual(e))}const a6=new Gr(Pt.comparator),l6=new Jr(Pt.comparator);function jn(...n){let e=l6;for(const t of n)e=e.add(t);return e}const c6=new Jr(Pn);function b1(){return c6}function FF(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dw(e)?"-0":e}}function LF(n){return{integerValue:""+n}}function UF(n,e){return JN(e)?LF(e):FF(n,e)}class ZD{constructor(){this._=void 0}}function u6(n,e,t){return n instanceof ly?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&BD(i)&&(i=$D(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(t,e):n instanceof Tg?$F(n,e):n instanceof Sg?VF(n,e):function(r,i){const s=BF(r,i),c=jF(s)+jF(r.wt);return g1(s)&&g1(r.wt)?LF(c):FF(r.serializer,c)}(n,e)}function d6(n,e,t){return n instanceof Tg?$F(n,e):n instanceof Sg?VF(n,e):t}function BF(n,e){return n instanceof cy?g1(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class ly extends ZD{}class Tg extends ZD{constructor(e){super(),this.elements=e}}function $F(n,e){const t=HF(e);for(const r of n.elements)t.some(i=>zc(i,r))||t.push(r);return{arrayValue:{values:t}}}class Sg extends ZD{constructor(e){super(),this.elements=e}}function VF(n,e){let t=HF(e);for(const r of n.elements)t=t.filter(i=>!zc(i,r));return{arrayValue:{values:t}}}class cy extends ZD{constructor(e,t){super(),this.serializer=e,this.wt=t}}function jF(n){return Mi(n.integerValue||n.doubleValue)}function HF(n){return Aw(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Nw{constructor(e,t){this.field=e,this.transform=t}}class f6{constructor(e,t){this.version=e,this.transformResults=t}}class hi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new hi}static exists(e){return new hi(void 0,e)}static updateTime(e){return new hi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function YD(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class KD{}function GF(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new dy(n.key,hi.none()):new uy(n.key,n.data,hi.none());{const t=n.data,r=Po.empty();let i=new Jr(xi.comparator);for(let s of e.fields)if(!i.has(s)){let c=t.field(s);null===c&&s.length>1&&(s=s.popLast(),c=t.field(s)),null===c?r.delete(s):r.set(s,c),i=i.add(s)}return new dd(n.key,r,new Ls(i.toArray()),hi.none())}}function p6(n,e,t){n instanceof uy?function(r,i,s){const c=r.value.clone(),h=WF(r.fieldTransforms,i,s.transformResults);c.setAll(h),i.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):n instanceof dd?function(r,i,s){if(!YD(r.precondition,i))return void i.convertToUnknownDocument(s.version);const c=WF(r.fieldTransforms,i,s.transformResults),h=i.data;h.setAll(qF(r)),h.setAll(c),i.convertToFoundDocument(s.version,h).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Fw(n,e,t,r){return n instanceof uy?function(i,s,c,h){if(!YD(i.precondition,s))return c;const m=i.value.clone(),y=ZF(i.fieldTransforms,h,s);return m.setAll(y),s.convertToFoundDocument(s.version,m).setHasLocalMutations(),null}(n,e,t,r):n instanceof dd?function(i,s,c,h){if(!YD(i.precondition,s))return c;const m=ZF(i.fieldTransforms,h,s),y=s.data;return y.setAll(qF(i)),y.setAll(m),s.convertToFoundDocument(s.version,y).setHasLocalMutations(),null===c?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(b=>b.field))}(n,e,t,r):(c=t,YD(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c);var s,c}function g6(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=BF(r.transform,i||null);null!=s&&(null===t&&(t=Po.empty()),t.set(r.field,s))}return t||null}function zF(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&ny(t,r,(i,s)=>function h6(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Tg&&r instanceof Tg||t instanceof Sg&&r instanceof Sg?ny(t.elements,r.elements,zc):t instanceof cy&&r instanceof cy?zc(t.wt,r.wt):t instanceof ly&&r instanceof ly);var t,r}(i,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class uy extends KD{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class dd extends KD{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function qF(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function WF(n,e,t){const r=new Map;en(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],c=s.transform,h=e.data.field(s.field);r.set(s.field,d6(c,h,t[i]))}return r}function ZF(n,e,t){const r=new Map;for(const i of n){const s=i.transform,c=t.data.field(i.field);r.set(i.field,u6(s,c,e))}return r}class dy extends KD{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class D1 extends KD{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class T1{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&p6(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Fw(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Fw(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=NF();return this.mutations.forEach(i=>{const s=e.get(i.key),c=s.overlayedDocument;let h=this.applyToLocalView(c,s.mutatedFields);h=t.has(i.key)?null:h;const m=GF(c,h);null!==m&&r.set(i.key,m),c.isValidDocument()||c.convertToNoDocument(rn.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),jn())}isEqual(e){return this.batchId===e.batchId&&ny(this.mutations,e.mutations,(t,r)=>zF(t,r))&&ny(this.baseMutations,e.baseMutations,(t,r)=>zF(t,r))}}class S1{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){en(e.mutations.length===r.length);let i=a6;const s=e.mutations;for(let c=0;c<s.length;c++)i=i.insert(s[c].key,r[c].version);return new S1(e,t,r,i)}}class A1{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class _6{constructor(e,t){this.count=e,this.unchangedNames=t}}var Yi,tr;function YF(n){switch(n){default:return Gt();case tt.CANCELLED:case tt.UNKNOWN:case tt.DEADLINE_EXCEEDED:case tt.RESOURCE_EXHAUSTED:case tt.INTERNAL:case tt.UNAVAILABLE:case tt.UNAUTHENTICATED:return!1;case tt.INVALID_ARGUMENT:case tt.NOT_FOUND:case tt.ALREADY_EXISTS:case tt.PERMISSION_DENIED:case tt.FAILED_PRECONDITION:case tt.ABORTED:case tt.OUT_OF_RANGE:case tt.UNIMPLEMENTED:case tt.DATA_LOSS:return!0}}function KF(n){if(void 0===n)return Fi("GRPC error has no .code"),tt.UNKNOWN;switch(n){case Yi.OK:return tt.OK;case Yi.CANCELLED:return tt.CANCELLED;case Yi.UNKNOWN:return tt.UNKNOWN;case Yi.DEADLINE_EXCEEDED:return tt.DEADLINE_EXCEEDED;case Yi.RESOURCE_EXHAUSTED:return tt.RESOURCE_EXHAUSTED;case Yi.INTERNAL:return tt.INTERNAL;case Yi.UNAVAILABLE:return tt.UNAVAILABLE;case Yi.UNAUTHENTICATED:return tt.UNAUTHENTICATED;case Yi.INVALID_ARGUMENT:return tt.INVALID_ARGUMENT;case Yi.NOT_FOUND:return tt.NOT_FOUND;case Yi.ALREADY_EXISTS:return tt.ALREADY_EXISTS;case Yi.PERMISSION_DENIED:return tt.PERMISSION_DENIED;case Yi.FAILED_PRECONDITION:return tt.FAILED_PRECONDITION;case Yi.ABORTED:return tt.ABORTED;case Yi.OUT_OF_RANGE:return tt.OUT_OF_RANGE;case Yi.UNIMPLEMENTED:return tt.UNIMPLEMENTED;case Yi.DATA_LOSS:return tt.DATA_LOSS;default:return Gt()}}(tr=Yi||(Yi={}))[tr.OK=0]="OK",tr[tr.CANCELLED=1]="CANCELLED",tr[tr.UNKNOWN=2]="UNKNOWN",tr[tr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tr[tr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tr[tr.NOT_FOUND=5]="NOT_FOUND",tr[tr.ALREADY_EXISTS=6]="ALREADY_EXISTS",tr[tr.PERMISSION_DENIED=7]="PERMISSION_DENIED",tr[tr.UNAUTHENTICATED=16]="UNAUTHENTICATED",tr[tr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tr[tr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tr[tr.ABORTED=10]="ABORTED",tr[tr.OUT_OF_RANGE=11]="OUT_OF_RANGE",tr[tr.UNIMPLEMENTED=12]="UNIMPLEMENTED",tr[tr.INTERNAL=13]="INTERNAL",tr[tr.UNAVAILABLE=14]="UNAVAILABLE",tr[tr.DATA_LOSS=15]="DATA_LOSS";class x1{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return QD}static getOrCreateInstance(){return null===QD&&(QD=new x1),QD}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let QD=null;function QF(){return new TextEncoder}const y6=new ey([4294967295,4294967295],0);function XF(n){const e=QF().encode(n),t=new d3;return t.update(e),new Uint8Array(t.digest())}function JF(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ey([t,r],0),new ey([i,s],0)]}class M1{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Lw(`Invalid padding: ${t}`);if(r<0)throw new Lw(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Lw(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new Lw(`Invalid padding when bitmap length is 0: ${t}`);this.yt=8*e.length-t,this.It=ey.fromNumber(this.yt)}Tt(e,t,r){let i=e.add(t.multiply(ey.fromNumber(r)));return 1===i.compare(y6)&&(i=new ey([i.getBits(0),i.getBits(1)],0)),i.modulo(this.It).toNumber()}Et(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}At(e){if(0===this.yt)return!1;const t=XF(e),[r,i]=JF(t);for(let s=0;s<this.hashCount;s++){const c=this.Tt(r,i,s);if(!this.Et(c))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),c=new M1(s,i,t);return r.forEach(h=>c.insert(h)),c}insert(e){if(0===this.yt)return;const t=XF(e),[r,i]=JF(t);for(let s=0;s<this.hashCount;s++){const c=this.Tt(r,i,s);this.Rt(c)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Lw extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Uw{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Bw.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Uw(rn.min(),i,new Gr(Pn),Us(),jn())}}class Bw{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Bw(r,t,jn(),jn(),jn())}}class XD{constructor(e,t,r,i){this.vt=e,this.removedTargetIds=t,this.key=r,this.Pt=i}}class eL{constructor(e,t){this.targetId=e,this.bt=t}}class tL{constructor(e,t,r=ro.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class nL{constructor(){this.Vt=0,this.St=iL(),this.Dt=ro.EMPTY_BYTE_STRING,this.Ct=!1,this.xt=!0}get current(){return this.Ct}get resumeToken(){return this.Dt}get Nt(){return 0!==this.Vt}get kt(){return this.xt}Mt(e){e.approximateByteSize()>0&&(this.xt=!0,this.Dt=e)}Ot(){let e=jn(),t=jn(),r=jn();return this.St.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Gt()}}),new Bw(this.Dt,this.Ct,e,t,r)}$t(){this.xt=!1,this.St=iL()}Ft(e,t){this.xt=!0,this.St=this.St.insert(e,t)}Bt(e){this.xt=!0,this.St=this.St.remove(e)}Lt(){this.Vt+=1}qt(){this.Vt-=1}Ut(){this.xt=!0,this.Ct=!0}}class v6{constructor(e){this.Kt=e,this.Gt=new Map,this.Qt=Us(),this.jt=rL(),this.zt=new Gr(Pn)}Wt(e){for(const t of e.vt)e.Pt&&e.Pt.isFoundDocument()?this.Ht(t,e.Pt):this.Jt(t,e.key,e.Pt);for(const t of e.removedTargetIds)this.Jt(t,e.key,e.Pt)}Yt(e){this.forEachTarget(e,t=>{const r=this.Xt(t);switch(e.state){case 0:this.Zt(t)&&r.Mt(e.resumeToken);break;case 1:r.qt(),r.Nt||r.$t(),r.Mt(e.resumeToken);break;case 2:r.qt(),r.Nt||this.removeTarget(t);break;case 3:this.Zt(t)&&(r.Ut(),r.Mt(e.resumeToken));break;case 4:this.Zt(t)&&(this.te(t),r.Mt(e.resumeToken));break;default:Gt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Gt.forEach((r,i)=>{this.Zt(i)&&t(i)})}ee(e){var t;const r=e.targetId,i=e.bt.count,s=this.ne(r);if(s){const c=s.target;if(GD(c))if(0===i){const h=new Pt(c.path);this.Jt(r,h,ei.newNoDocument(h,rn.min()))}else en(1===i);else{const h=this.se(r);if(h!==i){const m=this.ie(e,h);0!==m&&(this.te(r),this.zt=this.zt.insert(r,2===m?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=x1.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(y,b,S){var P,V,ne,Ne,Xe,ut;const xt={localCacheCount:b,existenceFilterCount:S.count},yt=S.unchangedNames;return yt&&(xt.bloomFilter={applied:0===y,hashCount:null!==(P=null==yt?void 0:yt.hashCount)&&void 0!==P?P:0,bitmapLength:null!==(Ne=null===(ne=null===(V=null==yt?void 0:yt.bits)||void 0===V?void 0:V.bitmap)||void 0===ne?void 0:ne.length)&&void 0!==Ne?Ne:0,padding:null!==(ut=null===(Xe=null==yt?void 0:yt.bits)||void 0===Xe?void 0:Xe.padding)&&void 0!==ut?ut:0}),xt}(m,h,e.bt))}}}}ie(e,t){const{unchangedNames:r,count:i}=e.bt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:c=0},hashCount:h=0}=r;let m,y;try{m=ld(s).toUint8Array()}catch(b){if(b instanceof cF)return el("Decoding the base64 bloom filter in existence filter failed ("+b.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw b}try{y=new M1(m,c,h)}catch(b){return el(b instanceof Lw?"BloomFilter error: ":"Applying bloom filter failed: ",b),1}return 0===y.yt?1:i!==t-this.re(e.targetId,y)?2:0}re(e,t){const r=this.Kt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const c=this.Kt.oe(),h=`projects/${c.projectId}/databases/${c.database}/documents/${s.path.canonicalString()}`;t.At(h)||(this.Jt(e,s,null),i++)}),i}ue(e){const t=new Map;this.Gt.forEach((s,c)=>{const h=this.ne(c);if(h){if(s.current&&GD(h.target)){const m=new Pt(h.target.path);null!==this.Qt.get(m)||this.ce(c,m)||this.Jt(c,m,ei.newNoDocument(m,e))}s.kt&&(t.set(c,s.Ot()),s.$t())}});let r=jn();this.jt.forEach((s,c)=>{let h=!0;c.forEachWhile(m=>{const y=this.ne(m);return!y||"TargetPurposeLimboResolution"===y.purpose||(h=!1,!1)}),h&&(r=r.add(s))}),this.Qt.forEach((s,c)=>c.setReadTime(e));const i=new Uw(e,t,this.zt,this.Qt,r);return this.Qt=Us(),this.jt=rL(),this.zt=new Gr(Pn),i}Ht(e,t){if(!this.Zt(e))return;const r=this.ce(e,t.key)?2:0;this.Xt(e).Ft(t.key,r),this.Qt=this.Qt.insert(t.key,t),this.jt=this.jt.insert(t.key,this.ae(t.key).add(e))}Jt(e,t,r){if(!this.Zt(e))return;const i=this.Xt(e);this.ce(e,t)?i.Ft(t,1):i.Bt(t),this.jt=this.jt.insert(t,this.ae(t).delete(e)),r&&(this.Qt=this.Qt.insert(t,r))}removeTarget(e){this.Gt.delete(e)}se(e){const t=this.Xt(e).Ot();return this.Kt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Lt(e){this.Xt(e).Lt()}Xt(e){let t=this.Gt.get(e);return t||(t=new nL,this.Gt.set(e,t)),t}ae(e){let t=this.jt.get(e);return t||(t=new Jr(Pn),this.jt=this.jt.insert(e,t)),t}Zt(e){const t=null!==this.ne(e);return t||gt("WatchChangeAggregator","Detected inactive target",e),t}ne(e){const t=this.Gt.get(e);return t&&t.Nt?null:this.Kt.he(e)}te(e){this.Gt.set(e,new nL),this.Kt.getRemoteKeysForTarget(e).forEach(t=>{this.Jt(e,t,null)})}ce(e,t){return this.Kt.getRemoteKeysForTarget(e).has(t)}}function rL(){return new Gr(Pt.comparator)}function iL(){return new Gr(Pt.comparator)}const w6={asc:"ASCENDING",desc:"DESCENDING"},C6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},E6={and:"AND",or:"OR"};class I6{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function P1(n,e){return n.useProto3Json||bw(e)?e:{value:e}}function hy(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function oL(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function b6(n,e){return hy(n,e.toTimestamp())}function Li(n){return en(!!n),rn.fromTimestamp(function(e){const t=lf(e);return new di(t.seconds,t.nanos)}(n))}function R1(n,e){return(t=n,new er(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function sL(n){const e=er.fromString(n);return en(gL(e)),e}function $w(n,e){return R1(n.databaseId,e.path)}function Wc(n,e){const t=sL(e);if(t.get(1)!==n.databaseId.projectId)throw new ct(tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ct(tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Pt(lL(t))}function O1(n,e){return R1(n.databaseId,e)}function aL(n){const e=sL(n);return 4===e.length?er.emptyPath():lL(e)}function Vw(n){return new er(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function lL(n){return en(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function cL(n,e,t){return{name:$w(n,e),fields:t.value.mapValue.fields}}function uL(n,e,t){const r=Wc(n,e.name),i=Li(e.updateTime),s=e.createTime?Li(e.createTime):rn.min(),c=new Po({mapValue:{fields:e.fields}}),h=ei.newFoundDocument(r,i,s,c);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function jw(n,e){let t;if(e instanceof uy)t={update:cL(n,e.key,e.value)};else if(e instanceof dy)t={delete:$w(n,e.key)};else if(e instanceof dd)t={update:cL(n,e.key,e.data),updateMask:R6(e.fieldMask)};else{if(!(e instanceof D1))return Gt();t={verify:$w(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const c=s.transform;if(c instanceof ly)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Tg)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Sg)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof cy)return{fieldPath:s.field.canonicalString(),increment:c.wt};throw Gt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:b6(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:Gt()),t;var i}function k1(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?hi.updateTime(Li(i.updateTime)):void 0!==i.exists?hi.exists(i.exists):hi.none():hi.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(s,c){let h=null;"setToServerValue"in c?(en("REQUEST_TIME"===c.setToServerValue),h=new ly):"appendMissingElements"in c?h=new Tg(c.appendMissingElements.values||[]):"removeAllFromArray"in c?h=new Sg(c.removeAllFromArray.values||[]):"increment"in c?h=new cy(s,c.increment):Gt();const m=xi.fromServerFormat(c.fieldPath);return new Nw(m,h)}(n,i)):[];var i;if(e.update){const i=Wc(n,e.update.name),s=new Po({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new Ls((e.updateMask.fieldPaths||[]).map(y=>xi.fromServerFormat(y)));return new dd(i,s,c,t,r)}return new uy(i,s,t,r)}if(e.delete){const i=Wc(n,e.delete);return new dy(i,t)}if(e.verify){const i=Wc(n,e.verify);return new D1(i,t)}return Gt()}function dL(n,e){return{documents:[O1(n,e.path)]}}function N1(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=O1(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=O1(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(m){if(0!==m.length)return pL(Tr.create(m,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const s=function(m){if(0!==m.length)return m.map(y=>{return{field:pf((b=y).field),direction:x6(b.dir)};var b})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const c=P1(n,e.limit);var h,m;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(h=e.startAt).inclusive,values:h.position}),e.endAt&&(t.structuredQuery.endAt={before:!(m=e.endAt).inclusive,values:m.position}),t}function hL(n){let e=aL(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){en(1===r);const b=t.from[0];b.allDescendants?i=b.collectionId:e=e.child(b.collectionId)}let s=[];t.where&&(s=function(b){const S=fL(b);return S instanceof Tr&&_1(S)?S.getFilters():[S]}(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(b=>{return new oy(fy((S=b).field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction));var S}));let h=null;t.limit&&(h=function(b){let S;return S="object"==typeof b?b.value:b,bw(S)?null:S}(t.limit));let m=null;var b;t.startAt&&(m=new ff((b=t.startAt).values||[],!!b.before));let y=null;return t.endAt&&(y=function(b){return new ff(b.values||[],!b.before)}(t.endAt)),AF(e,i,c,s,h,"F",m,y)}function fL(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=fy(e.unaryFilter.field);return Qn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=fy(e.unaryFilter.field);return Qn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=fy(e.unaryFilter.field);return Qn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=fy(e.unaryFilter.field);return Qn.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Gt()}}(n):void 0!==n.fieldFilter?Qn.create(fy((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Gt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Tr.create(e.compositeFilter.filters.map(t=>fL(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Gt()}}(e.compositeFilter.op))}(n):Gt();var e}function x6(n){return w6[n]}function M6(n){return C6[n]}function P6(n){return E6[n]}function pf(n){return{fieldPath:n.canonicalString()}}function fy(n){return xi.fromServerFormat(n.fieldPath)}function pL(n){return n instanceof Qn?function(e){if("=="===e.op){if(hF(e.value))return{unaryFilter:{field:pf(e.field),op:"IS_NAN"}};if(dF(e.value))return{unaryFilter:{field:pf(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(hF(e.value))return{unaryFilter:{field:pf(e.field),op:"IS_NOT_NAN"}};if(dF(e.value))return{unaryFilter:{field:pf(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pf(e.field),op:M6(e.op),value:e.value}}}(n):n instanceof Tr?function(e){const t=e.getFilters().map(r=>pL(r));return 1===t.length?t[0]:{compositeFilter:{op:P6(e.op),filters:t}}}(n):Gt()}function R6(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function gL(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class hd{constructor(e,t,r,i,s=rn.min(),c=rn.min(),h=ro.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=m}withSequenceNumber(e){return new hd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new hd(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class mL{constructor(e){this.le=e}}function _L(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:JD(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:$w(i=n.le,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:hy(i,s.version.toTimestamp()),createTime:hy(i,s.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Ag(e.version)};else{if(!e.isUnknownDocument())return Gt();r.unknownDocument={path:t.path.toArray(),version:Ag(e.version)}}var i,s;return r}function JD(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Ag(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function xg(n){const e=new di(n.seconds,n.nanoseconds);return rn.fromTimestamp(e)}function Mg(n,e){const t=(e.baseMutations||[]).map(s=>k1(n.le,s));for(let s=0;s<e.mutations.length-1;++s)s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(e.mutations[s].updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s);const r=e.mutations.map(s=>k1(n.le,s)),i=di.fromMillis(e.localWriteTimeMs);return new T1(e.batchId,i,t,r)}function Hw(n){const e=xg(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?xg(n.lastLimboFreeSnapshotVersion):rn.min();let r;var i;return void 0!==n.query.documents?(en(1===(i=n.query).documents.length),r=cs(ay(aL(i.documents[0])))):r=cs(hL(n.query)),new hd(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,ro.fromBase64String(n.resumeToken))}function yL(n,e){const t=Ag(e.snapshotVersion),r=Ag(e.lastLimboFreeSnapshotVersion);let i;i=GD(e.target)?dL(n.le,e.target):N1(n.le,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:bg(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function F1(n){const e=hL({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?WD(e,e.limit,"L"):e}function L1(n,e){return new A1(e.largestBatchId,k1(n.le,e.overlayMutation))}function vL(n,e){const t=e.path.lastSegment();return[n,zo(e.path.popLast()),t]}function wL(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Ag(r.readTime),documentKey:zo(r.documentKey.path),largestBatchId:r.largestBatchId}}class k6{getBundleMetadata(e,t){return CL(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:xg(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return CL(e).put({bundleId:(r=t).id,createTime:Ag(Li(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return EL(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:F1(i.bundledQuery),readTime:xg(i.readTime)};var i})}saveNamedQuery(e,t){return EL(e).put({name:(r=t).name,readTime:Ag(Li(r.readTime)),bundledQuery:r.bundledQuery});var r}}function CL(n){return yo(n,"bundles")}function EL(n){return yo(n,"namedQueries")}class eT{constructor(e,t){this.serializer=e,this.userId=t}static fe(e,t){return new eT(e,t.uid||"")}getOverlay(e,t){return Gw(e).get(vL(this.userId,t)).next(r=>r?L1(this.serializer,r):null)}getOverlays(e,t){const r=qc();return je.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((s,c)=>{const h=new A1(t,c);i.push(this.de(e,h))}),je.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(c=>i.add(zo(c.getCollectionPath())));const s=[];return i.forEach(c=>{const h=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);s.push(Gw(e).J("collectionPathOverlayIndex",h))}),je.waitFor(s)}getOverlaysForCollection(e,t,r){const i=qc(),s=zo(t),c=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Gw(e).j("collectionPathOverlayIndex",c).next(h=>{for(const m of h){const y=L1(this.serializer,m);i.set(y.getKey(),y)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const s=qc();let c;const h=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Gw(e).X({index:"collectionGroupOverlayIndex",range:h},(m,y,b)=>{const S=L1(this.serializer,y);s.size()<i||S.largestBatchId===c?(s.set(S.getKey(),S),c=S.largestBatchId):b.done()}).next(()=>s)}de(e,t){return Gw(e).put(function(r,i,s){const[c,h,m]=vL(i,s.mutation.key);return{userId:i,collectionPath:h,documentId:m,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:jw(r.le,s.mutation)}}(this.serializer,this.userId,t))}}function Gw(n){return yo(n,"documentOverlays")}class Pg{constructor(){}_e(e,t){this.we(e,t),t.me()}we(e,t){if("nullValue"in e)this.ge(t,5);else if("booleanValue"in e)this.ge(t,10),t.ye(e.booleanValue?1:0);else if("integerValue"in e)this.ge(t,15),t.ye(Mi(e.integerValue));else if("doubleValue"in e){const r=Mi(e.doubleValue);isNaN(r)?this.ge(t,13):(this.ge(t,15),Dw(r)?t.ye(0):t.ye(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ge(t,20),"string"==typeof r?t.pe(r):(t.pe(`${r.seconds||""}`),t.ye(r.nanos||0))}else if("stringValue"in e)this.Ie(e.stringValue,t),this.Te(t);else if("bytesValue"in e)this.ge(t,30),t.Ee(ld(e.bytesValue)),this.Te(t);else if("referenceValue"in e)this.Ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ge(t,45),t.ye(r.latitude||0),t.ye(r.longitude||0)}else"mapValue"in e?fF(e)?this.ge(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Te(t)):"arrayValue"in e?(this.ve(e.arrayValue,t),this.Te(t)):Gt()}Ie(e,t){this.ge(t,25),this.Pe(e,t)}Pe(e,t){t.pe(e)}Re(e,t){const r=e.fields||{};this.ge(t,55);for(const i of Object.keys(r))this.Ie(i,t),this.we(r[i],t)}ve(e,t){const r=e.values||[];this.ge(t,50);for(const i of r)this.we(i,t)}Ae(e,t){this.ge(t,37),Pt.fromName(e).path.forEach(r=>{this.ge(t,60),this.Pe(r,t)})}ge(e,t){e.ye(t)}Te(e){e.ye(2)}}function N6(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function IL(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const s=N6(255&t[i]);if(r+=s,8!==s)break}return r}(n);return Math.ceil(e/8)}Pg.be=new Pg;class F6{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ve(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Se(r.value),r=t.next();this.De()}Ce(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.xe(r.value),r=t.next();this.Ne()}ke(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Se(r);else if(r<2048)this.Se(960|r>>>6),this.Se(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Se(480|r>>>12),this.Se(128|63&r>>>6),this.Se(128|63&r);else{const i=t.codePointAt(0);this.Se(240|i>>>18),this.Se(128|63&i>>>12),this.Se(128|63&i>>>6),this.Se(128|63&i)}}this.De()}Me(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.xe(r);else if(r<2048)this.xe(960|r>>>6),this.xe(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.xe(480|r>>>12),this.xe(128|63&r>>>6),this.xe(128|63&r);else{const i=t.codePointAt(0);this.xe(240|i>>>18),this.xe(128|63&i>>>12),this.xe(128|63&i>>>6),this.xe(128|63&i)}}this.Ne()}Oe(e){const t=this.$e(e),r=IL(t);this.Fe(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Be(e){const t=this.$e(e),r=IL(t);this.Fe(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}Le(){this.qe(255),this.qe(255)}Ue(){this.Ke(255),this.Ke(255)}reset(){this.position=0}seed(e){this.Fe(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ge(){return this.buffer.slice(0,this.position)}$e(e){const t=function(i){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,i,!1),new Uint8Array(s.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Se(e){const t=255&e;0===t?(this.qe(0),this.qe(255)):255===t?(this.qe(255),this.qe(0)):this.qe(t)}xe(e){const t=255&e;0===t?(this.Ke(0),this.Ke(255)):255===t?(this.Ke(255),this.Ke(0)):this.Ke(e)}De(){this.qe(0),this.qe(1)}Ne(){this.Ke(0),this.Ke(1)}qe(e){this.Fe(1),this.buffer[this.position++]=e}Ke(e){this.Fe(1),this.buffer[this.position++]=~e}Fe(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class L6{constructor(e){this.Qe=e}Ee(e){this.Qe.Ve(e)}pe(e){this.Qe.ke(e)}ye(e){this.Qe.Oe(e)}me(){this.Qe.Le()}}class U6{constructor(e){this.Qe=e}Ee(e){this.Qe.Ce(e)}pe(e){this.Qe.Me(e)}ye(e){this.Qe.Be(e)}me(){this.Qe.Ue()}}class zw{constructor(){this.Qe=new F6,this.je=new L6(this.Qe),this.ze=new U6(this.Qe)}seed(e){this.Qe.seed(e)}We(e){return 0===e?this.je:this.ze}Ge(){return this.Qe.Ge()}reset(){this.Qe.reset()}}class Rg{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}He(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Rg(this.indexId,this.documentKey,this.arrayValue,r)}}function gf(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=bL(n.arrayValue,e.arrayValue),0!==t?t:(t=bL(n.directionalValue,e.directionalValue),0!==t?t:Pt.comparator(n.documentKey,e.documentKey)))}function bL(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class B6{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Je=e.orderBy,this.Ye=[];for(const t of e.filters){const r=t;r.isInequality()?this.Xe=r:this.Ye.push(r)}}Ze(e){en(e.collectionGroup===this.collectionId);const t=c1(e);if(void 0!==t&&!this.tn(t))return!1;const r=Cg(e);let i=0,s=0;for(;i<r.length&&this.tn(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Xe){const c=r[i];if(!this.en(this.Xe,c)||!this.nn(this.Je[s++],c))return!1;++i}for(;i<r.length;++i)if(s>=this.Je.length||!this.nn(this.Je[s++],r[i]))return!1;return!0}tn(e){for(const t of this.Ye)if(this.en(t,e))return!0;return!1}en(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}nn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function DL(n){var e,t;if(en(n instanceof Qn||n instanceof Tr),n instanceof Qn){if(n instanceof DF){const i=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(s=>Qn.create(n.field,"==",s)))||[];return Tr.create(i,"or")}return n}const r=n.filters.map(i=>DL(i));return Tr.create(r,n.op)}function $6(n){if(0===n.getFilters().length)return[];const e=$1(DL(n));return en(TL(e)),U1(e)||B1(e)?[e]:e.getFilters()}function U1(n){return n instanceof Qn}function B1(n){return n instanceof Tr&&_1(n)}function TL(n){return U1(n)||B1(n)||function(e){if(e instanceof Tr&&m1(e)){for(const t of e.getFilters())if(!U1(t)&&!B1(t))return!1;return!0}return!1}(n)}function $1(n){if(en(n instanceof Qn||n instanceof Tr),n instanceof Qn)return n;if(1===n.filters.length)return $1(n.filters[0]);const e=n.filters.map(r=>$1(r));let t=Tr.create(e,n.op);return t=tT(t),TL(t)?t:(en(t instanceof Tr),en(sy(t)),en(t.filters.length>1),t.filters.reduce((r,i)=>V1(r,i)))}function V1(n,e){let t;return en(n instanceof Qn||n instanceof Tr),en(e instanceof Qn||e instanceof Tr),t=n instanceof Qn?e instanceof Qn?Tr.create([n,e],"and"):SL(n,e):e instanceof Qn?SL(e,n):function(r,i){if(en(r.filters.length>0&&i.filters.length>0),sy(r)&&sy(i))return EF(r,i.getFilters());const s=m1(r)?r:i,c=m1(r)?i:r,h=s.filters.map(m=>V1(m,c));return Tr.create(h,"or")}(n,e),tT(t)}function SL(n,e){if(sy(e))return EF(e,n.getFilters());{const t=e.filters.map(r=>V1(n,r));return Tr.create(t,"or")}}function tT(n){if(en(n instanceof Qn||n instanceof Tr),n instanceof Qn)return n;const e=n.getFilters();if(1===e.length)return tT(e[0]);if(wF(n))return n;const t=e.map(i=>tT(i)),r=[];return t.forEach(i=>{i instanceof Qn?r.push(i):i instanceof Tr&&(i.op===n.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:Tr.create(r,n.op)}class V6{constructor(){this.sn=new j1}addToCollectionParentIndex(e,t){return this.sn.add(t),je.resolve()}getCollectionParents(e,t){return je.resolve(this.sn.getEntries(t))}addFieldIndex(e,t){return je.resolve()}deleteFieldIndex(e,t){return je.resolve()}getDocumentsMatchingTarget(e,t){return je.resolve(null)}getIndexType(e,t){return je.resolve(0)}getFieldIndexes(e,t){return je.resolve([])}getNextCollectionGroupToUpdate(e){return je.resolve(null)}getMinOffset(e,t){return je.resolve(pa.min())}getMinOffsetFromCollectionGroup(e,t){return je.resolve(pa.min())}updateCollectionGroup(e,t,r){return je.resolve()}updateIndexEntries(e,t){return je.resolve()}}class j1{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Jr(er.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Jr(er.comparator)).toArray()}}const nT=new Uint8Array(0);class j6{constructor(e,t){this.user=e,this.databaseId=t,this.rn=new j1,this.on=new ud(r=>bg(r),(r,i)=>Mw(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.rn.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.rn.add(t)});const s={collectionId:r,parent:zo(i)};return AL(e).put(s)}return je.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[WN(t),""],!1,!0);return AL(e).j(i).next(s=>{for(const c of s){if(c.collectionId!==t)break;r.push(Gc(c.parent))}return r})}addFieldIndex(e,t){const r=rT(e),i={indexId:(c=t).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(h=>[h.fieldPath.canonicalString(),h.kind])};var c;delete i.indexId;const s=r.add(i);if(t.indexState){const c=Ww(e);return s.next(h=>{c.put(wL(h,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return s.next()}deleteFieldIndex(e,t){const r=rT(e),i=Ww(e),s=qw(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=qw(e);let i=!0;const s=new Map;return je.forEach(this.un(t),c=>this.cn(e,c).next(h=>{i&&(i=!!h),s.set(c,h)})).next(()=>{if(i){let c=jn();const h=[];return je.forEach(s,(m,y)=>{var b;gt("IndexedDbIndexManager",`Using index ${b=m,`id=${b.indexId}|cg=${b.collectionGroup}|f=${b.fields.map(yt=>`${yt.fieldPath}:${yt.kind}`).join(",")}`} to execute ${bg(t)}`);const S=function(yt,Mt){const Sn=c1(Mt);if(void 0===Sn)return null;for(const Gn of zD(yt,Sn.fieldPath))switch(Gn.op){case"array-contains-any":return Gn.value.arrayValue.values||[];case"array-contains":return[Gn.value]}return null}(y,m),P=function(yt,Mt){const Sn=new Map;for(const Gn of Cg(Mt))for(const io of zD(yt,Gn.fieldPath))switch(io.op){case"==":case"in":Sn.set(Gn.fieldPath.canonicalString(),io.value);break;case"not-in":case"!=":return Sn.set(Gn.fieldPath.canonicalString(),io.value),Array.from(Sn.values())}return null}(y,m),V=function(yt,Mt){const Sn=[];let Gn=!0;for(const io of Cg(Mt)){const Vs=0===io.kind?TF(yt,io.fieldPath,yt.startAt):SF(yt,io.fieldPath,yt.startAt);Sn.push(Vs.value),Gn&&(Gn=Vs.inclusive)}return new ff(Sn,Gn)}(y,m),ne=function(yt,Mt){const Sn=[];let Gn=!0;for(const io of Cg(Mt)){const Vs=0===io.kind?SF(yt,io.fieldPath,yt.endAt):TF(yt,io.fieldPath,yt.endAt);Sn.push(Vs.value),Gn&&(Gn=Vs.inclusive)}return new ff(Sn,Gn)}(y,m),Ne=this.an(m,y,V),Xe=this.an(m,y,ne),ut=this.hn(m,y,P),xt=this.ln(m.indexId,S,Ne,V.inclusive,Xe,ne.inclusive,ut);return je.forEach(xt,yt=>r.H(yt,t.limit).next(Mt=>{Mt.forEach(Sn=>{const Gn=Pt.fromSegments(Sn.documentKey);c.has(Gn)||(c=c.add(Gn),h.push(Gn))})}))}).next(()=>h)}return je.resolve(null)})}un(e){let t=this.on.get(e);return t||(t=0===e.filters.length?[e]:$6(Tr.create(e.filters,"and")).map(r=>v1(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.on.set(e,t),t)}ln(e,t,r,i,s,c,h){const m=(null!=t?t.length:1)*Math.max(r.length,s.length),y=m/(null!=t?t.length:1),b=[];for(let S=0;S<m;++S){const P=t?this.fn(t[S/y]):nT,V=this.dn(e,P,r[S%y],i),ne=this._n(e,P,s[S%y],c),Ne=h.map(Xe=>this.dn(e,P,Xe,!0));b.push(...this.createRange(V,ne,Ne))}return b}dn(e,t,r,i){const s=new Rg(e,Pt.empty(),t,r);return i?s:s.He()}_n(e,t,r,i){const s=new Rg(e,Pt.empty(),t,r);return i?s.He():s}cn(e,t){const r=new B6(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let c=null;for(const h of s)r.Ze(h)&&(!c||h.fields.length>c.fields.length)&&(c=h);return c})}getIndexType(e,t){let r=2;const i=this.un(t);return je.forEach(i,s=>this.cn(e,s).next(c=>{c?0!==r&&c.fields.length<function(h){let m=new Jr(xi.comparator),y=!1;for(const b of h.filters)for(const S of b.getFlattenedFilters())S.field.isKeyField()||("array-contains"===S.op||"array-contains-any"===S.op?y=!0:m=m.add(S.field));for(const b of h.orderBy)b.field.isKeyField()||(m=m.add(b.field));return m.size+(y?1:0)}(s)&&(r=1):r=0})).next(()=>null!==t.limit&&i.length>1&&2===r?1:r)}wn(e,t){const r=new zw;for(const i of Cg(e)){const s=t.data.field(i.fieldPath);if(null==s)return null;const c=r.We(i.kind);Pg.be._e(s,c)}return r.Ge()}fn(e){const t=new zw;return Pg.be._e(e,t.We(0)),t.Ge()}mn(e,t){const r=new zw;return Pg.be._e(Ig(this.databaseId,t),r.We(function(i){const s=Cg(i);return 0===s.length?0:s[s.length-1].kind}(e))),r.Ge()}hn(e,t,r){if(null===r)return[];let i=[];i.push(new zw);let s=0;for(const c of Cg(e)){const h=r[s++];for(const m of i)if(this.gn(t,c.fieldPath)&&Aw(h))i=this.yn(i,c,h);else{const y=m.We(c.kind);Pg.be._e(h,y)}}return this.pn(i)}an(e,t,r){return this.hn(e,t,r.position)}pn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Ge();return t}yn(e,t,r){const i=[...e],s=[];for(const c of r.arrayValue.values||[])for(const h of i){const m=new zw;m.seed(h.Ge()),Pg.be._e(c,m.We(t.kind)),s.push(m)}return s}gn(e,t){return!!e.filters.find(r=>r instanceof Qn&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=rT(e),i=Ww(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next(s=>{const c=[];return je.forEach(s,h=>i.get([h.indexId,this.uid]).next(m=>{c.push(function(y,b){const S=b?new Ew(b.sequenceNumber,new pa(xg(b.readTime),new Pt(Gc(b.documentKey)),b.largestBatchId)):Ew.empty(),P=y.fields.map(([V,ne])=>new ND(xi.fromServerFormat(V),ne));return new kD(y.indexId,y.collectionGroup,P,S)}(h,m))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==s?s:Pn(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=rT(e),s=Ww(e);return this.In(e).next(c=>i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(h=>je.forEach(h,m=>s.put(wL(m.indexId,this.user,c,r)))))}updateIndexEntries(e,t){const r=new Map;return je.forEach(t,(i,s)=>{const c=r.get(i.collectionGroup);return(c?je.resolve(c):this.getFieldIndexes(e,i.collectionGroup)).next(h=>(r.set(i.collectionGroup,h),je.forEach(h,m=>this.Tn(e,i,m).next(y=>{const b=this.En(s,m);return y.isEqual(b)?je.resolve():this.An(e,s,m,y,b)}))))})}Rn(e,t,r,i){return qw(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.mn(r,t.key),documentKey:t.key.path.toArray()})}vn(e,t,r,i){return qw(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.mn(r,t.key),t.key.path.toArray()])}Tn(e,t,r){const i=qw(e);let s=new Jr(gf);return i.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.mn(r,t)])},(c,h)=>{s=s.add(new Rg(r.indexId,t,h.arrayValue,h.directionalValue))}).next(()=>s)}En(e,t){let r=new Jr(gf);const i=this.wn(t,e);if(null==i)return r;const s=c1(t);if(null!=s){const c=e.data.field(s.fieldPath);if(Aw(c))for(const h of c.arrayValue.values||[])r=r.add(new Rg(t.indexId,e.key,this.fn(h),i))}else r=r.add(new Rg(t.indexId,e.key,nT,i));return r}An(e,t,r,i,s){gt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const c=[];return function(h,m,y,b,S){const P=h.getIterator(),V=m.getIterator();let ne=ry(P),Ne=ry(V);for(;ne||Ne;){let Xe=!1,ut=!1;if(ne&&Ne){const xt=y(ne,Ne);xt<0?ut=!0:xt>0&&(Xe=!0)}else null!=ne?ut=!0:Xe=!0;Xe?(b(Ne),Ne=ry(V)):ut?(S(ne),ne=ry(P)):(ne=ry(P),Ne=ry(V))}}(i,s,gf,h=>{c.push(this.Rn(e,t,r,h))},h=>{c.push(this.vn(e,t,r,h))}),je.waitFor(c)}In(e){let t=1;return Ww(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((c,h)=>gf(c,h)).filter((c,h,m)=>!h||0!==gf(c,m[h-1]));const i=[];i.push(e);for(const c of r){const h=gf(c,e),m=gf(c,t);if(0===h)i[0]=e.He();else if(h>0&&m<0)i.push(c),i.push(c.He());else if(m>0)break}i.push(t);const s=[];for(let c=0;c<i.length;c+=2){if(this.Pn(i[c],i[c+1]))return[];s.push(IDBKeyRange.bound([i[c].indexId,this.uid,i[c].arrayValue,i[c].directionalValue,nT,[]],[i[c+1].indexId,this.uid,i[c+1].arrayValue,i[c+1].directionalValue,nT,[]]))}return s}Pn(e,t){return gf(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(xL)}getMinOffset(e,t){return je.mapArray(this.un(t),r=>this.cn(e,r).next(i=>i||Gt())).next(xL)}}function AL(n){return yo(n,"collectionParents")}function qw(n){return yo(n,"indexEntries")}function rT(n){return yo(n,"indexConfiguration")}function Ww(n){return yo(n,"indexState")}function xL(n){en(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;u1(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new pa(e.readTime,e.documentKey,t)}const ML={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class qo{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new qo(e,qo.DEFAULT_COLLECTION_PERCENTILE,qo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function PL(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),s=[],c=IDBKeyRange.only(t.batchId);let h=0;const m=r.X({range:c},(b,S,P)=>(h++,P.delete()));s.push(m.next(()=>{en(1===h)}));const y=[];for(const b of t.mutations){const S=nF(e,b.key.path,t.batchId);s.push(i.delete(S)),y.push(b.key)}return je.waitFor(s).next(()=>y)}function iT(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Gt();e=n.noDocument}return JSON.stringify(e).length}qo.DEFAULT_COLLECTION_PERCENTILE=10,qo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qo.DEFAULT=new qo(41943040,qo.DEFAULT_COLLECTION_PERCENTILE,qo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qo.DISABLED=new qo(-1,0,0);class oT{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.bn={}}static fe(e,t,r,i){en(""!==e.uid);const s=e.isAuthenticated()?e.uid:"";return new oT(s,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return mf(e).X({index:"userMutationsIndex",range:r},(i,s,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const s=py(e),c=mf(e);return c.add({}).next(h=>{en("number"==typeof h);const m=new T1(h,t,r,i),y=function(P,V,ne){const Ne=ne.baseMutations.map(ut=>jw(P.le,ut)),Xe=ne.mutations.map(ut=>jw(P.le,ut));return{userId:V,batchId:ne.batchId,localWriteTimeMs:ne.localWriteTime.toMillis(),baseMutations:Ne,mutations:Xe}}(this.serializer,this.userId,m),b=[];let S=new Jr((P,V)=>Pn(P.canonicalString(),V.canonicalString()));for(const P of i){const V=nF(this.userId,P.key.path,h);S=S.add(P.key.path.popLast()),b.push(c.put(y)),b.push(s.put(V,x3))}return S.forEach(P=>{b.push(this.indexManager.addToCollectionParentIndex(e,P))}),e.addOnCommittedListener(()=>{this.bn[h]=m.keys()}),je.waitFor(b).next(()=>m)})}lookupMutationBatch(e,t){return mf(e).get(t).next(r=>r?(en(r.userId===this.userId),Mg(this.serializer,r)):null)}Vn(e,t){return this.bn[t]?je.resolve(this.bn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.bn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return mf(e).X({index:"userMutationsIndex",range:i},(c,h,m)=>{h.userId===this.userId&&(en(h.batchId>=r),s=Mg(this.serializer,h)),m.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return mf(e).X({index:"userMutationsIndex",range:t,reverse:!0},(i,s,c)=>{r=s.batchId,c.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return mf(e).j("userMutationsIndex",t).next(r=>r.map(i=>Mg(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=LD(this.userId,t.path),i=IDBKeyRange.lowerBound(r),s=[];return py(e).X({range:i},(c,h,m)=>{const[y,b,S]=c,P=Gc(b);if(y===this.userId&&t.path.isEqual(P))return mf(e).get(S).next(V=>{if(!V)throw Gt();en(V.userId===this.userId),s.push(Mg(this.serializer,V))});m.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Jr(Pn);const i=[];return t.forEach(s=>{const c=LD(this.userId,s.path),h=IDBKeyRange.lowerBound(c),m=py(e).X({range:h},(y,b,S)=>{const[P,V,ne]=y,Ne=Gc(V);P===this.userId&&s.path.isEqual(Ne)?r=r.add(ne):S.done()});i.push(m)}),je.waitFor(i).next(()=>this.Sn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,s=LD(this.userId,r),c=IDBKeyRange.lowerBound(s);let h=new Jr(Pn);return py(e).X({range:c},(m,y,b)=>{const[S,P,V]=m,ne=Gc(P);S===this.userId&&r.isPrefixOf(ne)?ne.length===i&&(h=h.add(V)):b.done()}).next(()=>this.Sn(e,h))}Sn(e,t){const r=[],i=[];return t.forEach(s=>{i.push(mf(e).get(s).next(c=>{if(null===c)throw Gt();en(c.userId===this.userId),r.push(Mg(this.serializer,c))}))}),je.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return PL(e.at,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Dn(t.batchId)}),je.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Dn(e){delete this.bn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return je.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return py(e).X({range:r},(s,c,h)=>{if(s[0]===this.userId){const m=Gc(s[1]);i.push(m)}else h.done()}).next(()=>{en(0===i.length)})})}containsKey(e,t){return RL(e,this.userId,t)}Cn(e){return OL(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function RL(n,e,t){const r=LD(e,t.path),i=r[1],s=IDBKeyRange.lowerBound(r);let c=!1;return py(n).X({range:s,Y:!0},(h,m,y)=>{const[b,S,P]=h;b===e&&S===i&&(c=!0),y.done()}).next(()=>c)}function mf(n){return yo(n,"mutations")}function py(n){return yo(n,"documentMutations")}function OL(n){return yo(n,"mutationQueues")}class Og{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static Nn(){return new Og(0)}static kn(){return new Og(-1)}}class H6{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Mn(e).next(t=>{const r=new Og(t.highestTargetId);return t.highestTargetId=r.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Mn(e).next(t=>rn.fromTimestamp(new di(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Mn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Mn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.On(e,i)))}addTargetData(e,t){return this.$n(e,t).next(()=>this.Mn(e).next(r=>(r.targetCount+=1,this.Fn(t,r),this.On(e,r))))}updateTargetData(e,t){return this.$n(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>gy(e).delete(t.targetId)).next(()=>this.Mn(e)).next(r=>(en(r.targetCount>0),r.targetCount-=1,this.On(e,r)))}removeTargets(e,t,r){let i=0;const s=[];return gy(e).X((c,h)=>{const m=Hw(h);m.sequenceNumber<=t&&null===r.get(m.targetId)&&(i++,s.push(this.removeTargetData(e,m)))}).next(()=>je.waitFor(s)).next(()=>i)}forEachTarget(e,t){return gy(e).X((r,i)=>{const s=Hw(i);t(s)})}Mn(e){return kL(e).get("targetGlobalKey").next(t=>(en(null!==t),t))}On(e,t){return kL(e).put("targetGlobalKey",t)}$n(e,t){return gy(e).put(yL(this.serializer,t))}Fn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Mn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=bg(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return gy(e).X({range:i,index:"queryTargetsIndex"},(c,h,m)=>{const y=Hw(h);Mw(t,y.target)&&(s=y,m.done())}).next(()=>s)}addMatchingKeys(e,t,r){const i=[],s=_f(e);return t.forEach(c=>{const h=zo(c.path);i.push(s.put({targetId:r,path:h})),i.push(this.referenceDelegate.addReference(e,r,c))}),je.waitFor(i)}removeMatchingKeys(e,t,r){const i=_f(e);return je.forEach(t,s=>{const c=zo(s.path);return je.waitFor([i.delete([r,c]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,t){const r=_f(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=_f(e);let s=jn();return i.X({range:r,Y:!0},(c,h,m)=>{const y=Gc(c[1]),b=new Pt(y);s=s.add(b)}).next(()=>s)}containsKey(e,t){const r=zo(t.path),i=IDBKeyRange.bound([r],[WN(r)],!1,!0);let s=0;return _f(e).X({index:"documentTargetsIndex",Y:!0,range:i},([c,h],m,y)=>{0!==c&&(s++,y.done())}).next(()=>s>0)}he(e,t){return gy(e).get(t).next(r=>r?Hw(r):null)}}function gy(n){return yo(n,"targets")}function kL(n){return yo(n,"targetGlobal")}function _f(n){return yo(n,"targetDocuments")}function NL([n,e],[t,r]){const i=Pn(n,t);return 0===i?Pn(e,r):i}class G6{constructor(e){this.Bn=e,this.buffer=new Jr(NL),this.Ln=0}qn(){return++this.Ln}Un(e){const t=[e,this.qn()];if(this.buffer.size<this.Bn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();NL(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class FL{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Kn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Kn&&(this.Kn.cancel(),this.Kn=null)}get started(){return null!==this.Kn}Gn(e){var t=this;gt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Kn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ze.Z)(function*(){t.Kn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){sf(r)?gt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield rf(r)}yield t.Gn(3e5)}))}}class z6{constructor(e,t){this.Qn=e,this.params=t}calculateTargetCount(e,t){return this.Qn.jn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return je.resolve(ga.ct);const r=new G6(t);return this.Qn.forEachTarget(e,i=>r.Un(i.sequenceNumber)).next(()=>this.Qn.zn(e,i=>r.Un(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Qn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Qn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(gt("LruGarbageCollector","Garbage collection skipped; disabled"),je.resolve(ML)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(gt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ML):this.Wn(e,t))}getCacheSize(e){return this.Qn.getCacheSize(e)}Wn(e,t){let r,i,s,c,h,m,y;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(gt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),i=this.params.maximumSequenceNumbersToCollect):i=S,c=Date.now(),this.nthSequenceNumber(e,i))).next(S=>(r=S,h=Date.now(),this.removeTargets(e,r,t))).next(S=>(s=S,m=Date.now(),this.removeOrphanedDocuments(e,r))).next(S=>(y=Date.now(),a1()<=po.in.DEBUG&&gt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-b}ms\n\tDetermined least recently used ${i} in `+(h-c)+`ms\n\tRemoved ${s} targets in `+(m-h)+`ms\n\tRemoved ${S} documents in `+(y-m)+`ms\nTotal Duration: ${y-b}ms`),je.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:S})))}}class q6{constructor(e,t){this.db=e,this.garbageCollector=function LL(n,e){return new z6(n,e)}(this,t)}jn(e){const t=this.Hn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Hn(e){let t=0;return this.zn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}zn(e,t){return this.Jn(e,(r,i)=>t(i))}addReference(e,t,r){return sT(e,r)}removeReference(e,t,r){return sT(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return sT(e,t)}Yn(e,t){return function(r,i){let s=!1;return OL(r).Z(c=>RL(r,c,i).next(h=>(h&&(s=!0),je.resolve(!h)))).next(()=>s)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Jn(e,(c,h)=>{if(h<=t){const m=this.Yn(e,c).next(y=>{if(!y)return s++,r.getEntry(e,c).next(()=>(r.removeEntry(c,rn.min()),_f(e).delete([0,zo(c.path)])))});i.push(m)}}).next(()=>je.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return sT(e,t)}Jn(e,t){const r=_f(e);let i,s=ga.ct;return r.X({index:"documentTargetsIndex"},([c,h],{path:m,sequenceNumber:y})=>{0===c?(s!==ga.ct&&t(new Pt(Gc(i)),s),s=y,i=m):s=ga.ct}).next(()=>{s!==ga.ct&&t(new Pt(Gc(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function sT(n,e){return _f(n).put((r=n.currentSequenceNumber,{targetId:0,path:zo(e.path),sequenceNumber:r}));var r}class UL{constructor(){this.changes=new ud(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ei.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?je.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class W6{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return kg(e).put(r)}removeEntry(e,t,r){return kg(e).delete(function(i,s){const c=i.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],JD(s),c[c.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Xn(e,r)))}getEntry(e,t){let r=ei.newInvalidDocument(t);return kg(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Zw(t))},(i,s)=>{r=this.Zn(t,s)}).next(()=>r)}ts(e,t){let r={size:0,document:ei.newInvalidDocument(t)};return kg(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Zw(t))},(i,s)=>{r={document:this.Zn(t,s),size:iT(s)}}).next(()=>r)}getEntries(e,t){let r=Us();return this.es(e,t,(i,s)=>{const c=this.Zn(i,s);r=r.insert(i,c)}).next(()=>r)}ns(e,t){let r=Us(),i=new Gr(Pt.comparator);return this.es(e,t,(s,c)=>{const h=this.Zn(s,c);r=r.insert(s,h),i=i.insert(s,iT(c))}).next(()=>({documents:r,ss:i}))}es(e,t,r){if(t.isEmpty())return je.resolve();let i=new Jr(jL);t.forEach(m=>i=i.add(m));const s=IDBKeyRange.bound(Zw(i.first()),Zw(i.last())),c=i.getIterator();let h=c.getNext();return kg(e).X({index:"documentKeyIndex",range:s},(m,y,b)=>{const S=Pt.fromSegments([...y.prefixPath,y.collectionGroup,y.documentId]);for(;h&&jL(h,S)<0;)r(h,null),h=c.getNext();h&&h.isEqual(S)&&(r(h,y),h=c.hasNext()?c.getNext():null),h?b.G(Zw(h)):b.done()}).next(()=>{for(;h;)r(h,null),h=c.hasNext()?c.getNext():null})}getDocumentsMatchingQuery(e,t,r,i){const s=t.path,c=[s.popLast().toArray(),s.lastSegment(),JD(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],h=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return kg(e).j(IDBKeyRange.bound(c,h,!0)).next(m=>{let y=Us();for(const b of m){const S=this.Zn(Pt.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);S.isFoundDocument()&&(Rw(t,S)||i.has(S.key))&&(y=y.insert(S.key,S))}return y})}getAllFromCollectionGroup(e,t,r,i){let s=Us();const c=VL(t,r),h=VL(t,pa.max());return kg(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,h,!0)},(m,y,b)=>{const S=this.Zn(Pt.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);s=s.insert(S.key,S),s.size===i&&b.done()}).next(()=>s)}newChangeBuffer(e){return new Z6(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return $L(e).get("remoteDocumentGlobalKey").next(t=>(en(!!t),t))}Xn(e,t){return $L(e).put("remoteDocumentGlobalKey",t)}Zn(e,t){if(t){const r=function O6(n,e){let t;if(e.document)t=uL(n.le,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Pt.fromSegments(e.noDocument.path),i=xg(e.noDocument.readTime);t=ei.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Gt();{const r=Pt.fromSegments(e.unknownDocument.path),i=xg(e.unknownDocument.version);t=ei.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new di(r[0],r[1]);return rn.fromTimestamp(i)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(rn.min()))return r}return ei.newInvalidDocument(e)}}function BL(n){return new W6(n)}class Z6 extends UL{constructor(e,t){super(),this.rs=e,this.trackRemovals=t,this.os=new ud(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Jr((s,c)=>Pn(s.canonicalString(),c.canonicalString()));return this.changes.forEach((s,c)=>{const h=this.os.get(s);if(t.push(this.rs.removeEntry(e,s,h.readTime)),c.isValidDocument()){const m=_L(this.rs.serializer,c);i=i.add(s.path.popLast());const y=iT(m);r+=y-h.size,t.push(this.rs.addEntry(e,s,m))}else if(r-=h.size,this.trackRemovals){const m=_L(this.rs.serializer,c.convertToNoDocument(rn.min()));t.push(this.rs.addEntry(e,s,m))}}),i.forEach(s=>{t.push(this.rs.indexManager.addToCollectionParentIndex(e,s))}),t.push(this.rs.updateMetadata(e,r)),je.waitFor(t)}getFromCache(e,t){return this.rs.ts(e,t).next(r=>(this.os.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.rs.ns(e,t).next(({documents:r,ss:i})=>(i.forEach((s,c)=>{this.os.set(s,{size:c,readTime:r.get(s).readTime})}),r))}}function $L(n){return yo(n,"remoteDocumentGlobal")}function kg(n){return yo(n,"remoteDocumentsV14")}function Zw(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function VL(n,e){const t=e.documentKey.path.toArray();return[n,JD(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function jL(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<t.length-2&&s<r.length-2;++s)if(i=Pn(t[s],r[s]),i)return i;return i=Pn(t.length,r.length),i||(i=Pn(t[t.length-2],r[r.length-2]),i||Pn(t[t.length-1],r[r.length-1]))}class Y6{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class HL{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&Fw(r.mutation,i,Ls.empty(),di.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,jn()).next(()=>r))}getLocalViewOfDocuments(e,t,r=jn()){const i=qc();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let c=Ow();return s.forEach((h,m)=>{c=c.insert(h,m.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const r=qc();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,jn()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((c,h)=>{t.set(c,h)})})}computeViews(e,t,r,i){let s=Us();const c=kw(),h=kw();return t.forEach((m,y)=>{const b=r.get(y.key);i.has(y.key)&&(void 0===b||b.mutation instanceof dd)?s=s.insert(y.key,y):void 0!==b?(c.set(y.key,b.mutation.getFieldMask()),Fw(b.mutation,y,b.mutation.getFieldMask(),di.now())):c.set(y.key,Ls.empty())}),this.recalculateAndSaveOverlays(e,s).next(m=>(m.forEach((y,b)=>c.set(y,b)),t.forEach((y,b)=>{var S;return h.set(y,new Y6(b,null!==(S=c.get(y))&&void 0!==S?S:null))}),h))}recalculateAndSaveOverlays(e,t){const r=kw();let i=new Gr((c,h)=>c-h),s=jn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const h of c)h.keys().forEach(m=>{const y=t.get(m);if(null===y)return;let b=r.get(m)||Ls.empty();b=h.applyToLocalView(y,b),r.set(m,b);const S=(i.get(h.batchId)||jn()).add(m);i=i.insert(h.batchId,S)})}).next(()=>{const c=[],h=i.getReverseIterator();for(;h.hasNext();){const m=h.getNext(),y=m.key,b=m.value,S=NF();b.forEach(P=>{if(!s.has(P)){const V=GF(t.get(P),r.get(P));null!==V&&S.set(P,V),s=s.add(P)}}),c.push(this.documentOverlayCache.saveOverlays(e,y,S))}return je.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return Pt.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):C1(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const c=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):je.resolve(qc());let h=-1,m=s;return c.next(y=>je.forEach(y,(b,S)=>(h<S.largestBatchId&&(h=S.largestBatchId),s.get(b)?je.resolve():this.remoteDocumentCache.getEntry(e,b).next(P=>{m=m.insert(b,P)}))).next(()=>this.populateOverlays(e,y,s)).next(()=>this.computeViews(e,m,y,jn())).next(b=>({batchId:h,changes:kF(b)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Pt(t)).next(r=>{let i=Ow();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let s=Ow();return this.indexManager.getCollectionParents(e,i).next(c=>je.forEach(c,h=>{const m=(y=t,b=h.child(i),new cd(b,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt));var y,b;return this.getDocumentsMatchingCollectionQuery(e,m,r).next(y=>{y.forEach((b,S)=>{s=s.insert(b,S)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(s=>{i.forEach((h,m)=>{const y=m.getKey();null===s.get(y)&&(s=s.insert(y,ei.newInvalidDocument(y)))});let c=Ow();return s.forEach((h,m)=>{const y=i.get(h);void 0!==y&&Fw(y.mutation,m,Ls.empty(),di.now()),Rw(t,m)&&(c=c.insert(h,m))}),c})}}class K6{constructor(e){this.serializer=e,this.us=new Map,this.cs=new Map}getBundleMetadata(e,t){return je.resolve(this.us.get(t))}saveBundleMetadata(e,t){var r;return this.us.set(t.id,{id:(r=t).id,version:r.version,createTime:Li(r.createTime)}),je.resolve()}getNamedQuery(e,t){return je.resolve(this.cs.get(t))}saveNamedQuery(e,t){return this.cs.set(t.name,{name:(r=t).name,query:F1(r.bundledQuery),readTime:Li(r.readTime)}),je.resolve();var r}}class Q6{constructor(){this.overlays=new Gr(Pt.comparator),this.hs=new Map}getOverlay(e,t){return je.resolve(this.overlays.get(t))}getOverlays(e,t){const r=qc();return je.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.de(e,t,s)}),je.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.hs.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hs.delete(r)),je.resolve()}getOverlaysForCollection(e,t,r){const i=qc(),s=t.length+1,c=new Pt(t.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const m=h.getNext().value,y=m.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===s&&m.largestBatchId>r&&i.set(m.getKey(),m)}return je.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new Gr((y,b)=>y-b);const c=this.overlays.getIterator();for(;c.hasNext();){const y=c.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>r){let b=s.get(y.largestBatchId);null===b&&(b=qc(),s=s.insert(y.largestBatchId,b)),b.set(y.getKey(),y)}}const h=qc(),m=s.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((y,b)=>h.set(y,b)),!(h.size()>=i)););return je.resolve(h)}de(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const c=this.hs.get(i.largestBatchId).delete(r.key);this.hs.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new A1(t,r));let s=this.hs.get(t);void 0===s&&(s=jn(),this.hs.set(t,s)),this.hs.set(t,s.add(r.key))}}class H1{constructor(){this.ls=new Jr(vo.fs),this.ds=new Jr(vo._s)}isEmpty(){return this.ls.isEmpty()}addReference(e,t){const r=new vo(e,t);this.ls=this.ls.add(r),this.ds=this.ds.add(r)}ws(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.gs(new vo(e,t))}ys(e,t){e.forEach(r=>this.removeReference(r,t))}ps(e){const t=new Pt(new er([])),r=new vo(t,e),i=new vo(t,e+1),s=[];return this.ds.forEachInRange([r,i],c=>{this.gs(c),s.push(c.key)}),s}Is(){this.ls.forEach(e=>this.gs(e))}gs(e){this.ls=this.ls.delete(e),this.ds=this.ds.delete(e)}Ts(e){const t=new Pt(new er([])),r=new vo(t,e),i=new vo(t,e+1);let s=jn();return this.ds.forEachInRange([r,i],c=>{s=s.add(c.key)}),s}containsKey(e){const t=new vo(e,0),r=this.ls.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class vo{constructor(e,t){this.key=e,this.Es=t}static fs(e,t){return Pt.comparator(e.key,t.key)||Pn(e.Es,t.Es)}static _s(e,t){return Pn(e.Es,t.Es)||Pt.comparator(e.key,t.key)}}class X6{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.As=1,this.Rs=new Jr(vo.fs)}checkEmpty(e){return je.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.As;this.As++;const c=new T1(s,t,r,i);this.mutationQueue.push(c);for(const h of i)this.Rs=this.Rs.add(new vo(h.key,s)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return je.resolve(c)}lookupMutationBatch(e,t){return je.resolve(this.vs(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.Ps(t+1),s=i<0?0:i;return je.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return je.resolve(0===this.mutationQueue.length?-1:this.As-1)}getAllMutationBatches(e){return je.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new vo(t,0),i=new vo(t,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],c=>{const h=this.vs(c.Es);s.push(h)}),je.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Jr(Pn);return t.forEach(i=>{const s=new vo(i,0),c=new vo(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,c],h=>{r=r.add(h.Es)})}),je.resolve(this.bs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;Pt.isDocumentKey(s)||(s=s.child(""));const c=new vo(new Pt(s),0);let h=new Jr(Pn);return this.Rs.forEachWhile(m=>{const y=m.key.path;return!!r.isPrefixOf(y)&&(y.length===i&&(h=h.add(m.Es)),!0)},c),je.resolve(this.bs(h))}bs(e){const t=[];return e.forEach(r=>{const i=this.vs(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){en(0===this.Vs(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return je.forEach(t.mutations,i=>{const s=new vo(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Dn(e){}containsKey(e,t){const r=new vo(t,0),i=this.Rs.firstAfterOrEqual(r);return je.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return je.resolve()}Vs(e,t){return this.Ps(e)}Ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}vs(e){const t=this.Ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class J6{constructor(e){this.Ss=e,this.docs=new Gr(Pt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,c=this.Ss(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return je.resolve(r?r.document.mutableCopy():ei.newInvalidDocument(t))}getEntries(e,t){let r=Us();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ei.newInvalidDocument(i))}),je.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=Us();const c=t.path,h=new Pt(c.child("")),m=this.docs.getIteratorFrom(h);for(;m.hasNext();){const{key:y,value:{document:b}}=m.getNext();if(!c.isPrefixOf(y.path))break;y.path.length>c.length+1||u1(YN(b),r)<=0||(i.has(b.key)||Rw(t,b))&&(s=s.insert(b.key,b.mutableCopy()))}return je.resolve(s)}getAllFromCollectionGroup(e,t,r,i){Gt()}Ds(e,t){return je.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new ej(this)}getSize(e){return je.resolve(this.size)}}class ej extends UL{constructor(e){super(),this.rs=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.rs.addEntry(e,i)):this.rs.removeEntry(r)}),je.waitFor(t)}getFromCache(e,t){return this.rs.getEntry(e,t)}getAllFromCache(e,t){return this.rs.getEntries(e,t)}}class tj{constructor(e){this.persistence=e,this.Cs=new ud(t=>bg(t),Mw),this.lastRemoteSnapshotVersion=rn.min(),this.highestTargetId=0,this.xs=0,this.Ns=new H1,this.targetCount=0,this.ks=Og.Nn()}forEachTarget(e,t){return this.Cs.forEach((r,i)=>t(i)),je.resolve()}getLastRemoteSnapshotVersion(e){return je.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return je.resolve(this.xs)}allocateTargetId(e){return this.highestTargetId=this.ks.next(),je.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.xs&&(this.xs=t),je.resolve()}$n(e){this.Cs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ks=new Og(t),this.highestTargetId=t),e.sequenceNumber>this.xs&&(this.xs=e.sequenceNumber)}addTargetData(e,t){return this.$n(t),this.targetCount+=1,je.resolve()}updateTargetData(e,t){return this.$n(t),je.resolve()}removeTargetData(e,t){return this.Cs.delete(t.target),this.Ns.ps(t.targetId),this.targetCount-=1,je.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Cs.forEach((c,h)=>{h.sequenceNumber<=t&&null===r.get(h.targetId)&&(this.Cs.delete(c),s.push(this.removeMatchingKeysForTargetId(e,h.targetId)),i++)}),je.waitFor(s).next(()=>i)}getTargetCount(e){return je.resolve(this.targetCount)}getTargetData(e,t){const r=this.Cs.get(t)||null;return je.resolve(r)}addMatchingKeys(e,t,r){return this.Ns.ws(t,r),je.resolve()}removeMatchingKeys(e,t,r){this.Ns.ys(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(c=>{s.push(i.markPotentiallyOrphaned(e,c))}),je.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Ns.ps(t),je.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ns.Ts(t);return je.resolve(r)}containsKey(e,t){return je.resolve(this.Ns.containsKey(t))}}class G1{constructor(e,t){this.Ms={},this.overlays={},this.Os=new ga(0),this.$s=!1,this.$s=!0,this.referenceDelegate=e(this),this.Fs=new tj(this),this.indexManager=new V6,this.remoteDocumentCache=new J6(r=>this.referenceDelegate.Bs(r)),this.serializer=new mL(t),this.Ls=new K6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.$s=!1,Promise.resolve()}get started(){return this.$s}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Q6,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Ms[e.toKey()];return r||(r=new X6(t,this.referenceDelegate),this.Ms[e.toKey()]=r),r}getTargetCache(){return this.Fs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ls}runTransaction(e,t,r){gt("MemoryPersistence","Starting transaction:",e);const i=new nj(this.Os.next());return this.referenceDelegate.qs(),r(i).next(s=>this.referenceDelegate.Us(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ks(e,t){return je.or(Object.values(this.Ms).map(r=>()=>r.containsKey(e,t)))}}class nj extends QN{constructor(e){super(),this.currentSequenceNumber=e}}class aT{constructor(e){this.persistence=e,this.Gs=new H1,this.Qs=null}static js(e){return new aT(e)}get zs(){if(this.Qs)return this.Qs;throw Gt()}addReference(e,t,r){return this.Gs.addReference(r,t),this.zs.delete(r.toString()),je.resolve()}removeReference(e,t,r){return this.Gs.removeReference(r,t),this.zs.add(r.toString()),je.resolve()}markPotentiallyOrphaned(e,t){return this.zs.add(t.toString()),je.resolve()}removeTarget(e,t){this.Gs.ps(t.targetId).forEach(i=>this.zs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.zs.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}qs(){this.Qs=new Set}Us(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return je.forEach(this.zs,r=>{const i=Pt.fromPath(r);return this.Ws(e,i).next(s=>{s||t.removeEntry(i,rn.min())})}).next(()=>(this.Qs=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ws(e,t).next(r=>{r?this.zs.delete(t.toString()):this.zs.add(t.toString())})}Bs(e){return 0}Ws(e,t){return je.or([()=>je.resolve(this.Gs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ks(e,t)])}}class rj{constructor(e){this.serializer=e}$(e,t,r,i){const s=new FD("createOrUpgrade",t);var h;r<1&&i>=1&&(e.createObjectStore("owner"),(h=e).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",tF,{unique:!0}),h.createObjectStore("documentMutations"),GL(e),function(h){h.createObjectStore("remoteDocuments")}(e));let c=je.resolve();return r<3&&i>=3&&(0!==r&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(e),GL(e)),c=c.next(()=>function(h){const m=h.store("targetGlobal"),y={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:rn.min().toTimestamp(),targetCount:0};return m.put("targetGlobalKey",y)}(s))),r<4&&i>=4&&(0!==r&&(c=c.next(()=>function(h,m){return m.store("mutations").j().next(y=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",tF,{unique:!0});const b=m.store("mutations"),S=y.map(P=>b.put(P));return je.waitFor(S)})}(e,s))),c=c.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(c=c.next(()=>this.Js(s))),r<6&&i>=6&&(c=c.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(e),this.Ys(s)))),r<7&&i>=7&&(c=c.next(()=>this.Xs(s))),r<8&&i>=8&&(c=c.next(()=>this.Zs(e,s))),r<9&&i>=9&&(c=c.next(()=>{!function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(c=c.next(()=>this.ti(s))),r<11&&i>=11&&(c=c.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(c=c.next(()=>{!function(h){const m=h.createObjectStore("documentOverlays",{keyPath:V3});m.createIndex("collectionPathOverlayIndex",j3,{unique:!1}),m.createIndex("collectionGroupOverlayIndex",H3,{unique:!1})}(e)})),r<13&&i>=13&&(c=c.next(()=>function(h){const m=h.createObjectStore("remoteDocumentsV14",{keyPath:M3});m.createIndex("documentKeyIndex",P3),m.createIndex("collectionGroupIndex",R3)}(e)).next(()=>this.ei(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(c=c.next(()=>this.ni(e,s))),r<15&&i>=15&&(c=c.next(()=>function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:L3}).createIndex("sequenceNumberIndex",U3,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:B3}).createIndex("documentKeyIndex",$3,{unique:!1})}(e))),c}Ys(e){let t=0;return e.store("remoteDocuments").X((r,i)=>{t+=iT(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Js(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.j().next(i=>je.forEach(i,s=>{const c=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",c).next(h=>je.forEach(h,m=>{en(m.userId===s.userId);const y=Mg(this.serializer,m);return PL(e,s.userId,y).next(()=>{})}))}))}Xs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.X((c,h)=>{const m=new er(c),y=[0,zo(m)];s.push(t.get(y).next(b=>b?je.resolve():t.put({targetId:0,path:zo(m),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>je.waitFor(s))})}Zs(e,t){e.createObjectStore("collectionParents",{keyPath:F3});const r=t.store("collectionParents"),i=new j1,s=c=>{if(i.add(c)){const h=c.lastSegment(),m=c.popLast();return r.put({collectionId:h,parent:zo(m)})}};return t.store("remoteDocuments").X({Y:!0},(c,h)=>{const m=new er(c);return s(m.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([c,h,m],y)=>{const b=Gc(h);return s(b.popLast())}))}ti(e){const t=e.store("targets");return t.X((r,i)=>{const s=Hw(i),c=yL(this.serializer,s);return t.put(c)})}ei(e,t){const r=t.store("remoteDocuments"),i=[];return r.X((s,c)=>{const h=t.store("remoteDocumentsV14"),m=(y=c,y.document?new Pt(er.fromString(y.document.name).popFirst(5)):y.noDocument?Pt.fromSegments(y.noDocument.path):y.unknownDocument?Pt.fromSegments(y.unknownDocument.path):Gt()).path.toArray();var y;const b={prefixPath:m.slice(0,m.length-2),collectionGroup:m[m.length-2],documentId:m[m.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};i.push(h.put(b))}).next(()=>je.waitFor(i))}ni(e,t){const r=t.store("mutations"),i=BL(this.serializer),s=new G1(aT.js,this.serializer.le);return r.j().next(c=>{const h=new Map;return c.forEach(m=>{var y;let b=null!==(y=h.get(m.userId))&&void 0!==y?y:jn();Mg(this.serializer,m).keys().forEach(S=>b=b.add(S)),h.set(m.userId,b)}),je.forEach(h,(m,y)=>{const b=new _o(y),S=eT.fe(this.serializer,b),P=s.getIndexManager(b),V=oT.fe(b,this.serializer,P,s.referenceDelegate);return new HL(i,V,S,P).recalculateAndSaveOverlaysForDocumentKeys(new f1(t,ga.ct),m).next()})})}}function GL(n){n.createObjectStore("targetDocuments",{keyPath:k3}).createIndex("documentTargetsIndex",N3,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",O3,{unique:!0}),n.createObjectStore("targetGlobal")}const z1="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class q1{constructor(e,t,r,i,s,c,h,m,y,b,S=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.si=s,this.window=c,this.document=h,this.ii=y,this.ri=b,this.oi=S,this.Os=null,this.$s=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.ai=null,this.hi=Number.NEGATIVE_INFINITY,this.li=P=>Promise.resolve(),!q1.D())throw new ct(tt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new q6(this,i),this.fi=t+"main",this.serializer=new mL(m),this.di=new zl(this.fi,this.oi,new rj(this.serializer)),this.Fs=new H6(this.referenceDelegate,this.serializer),this.remoteDocumentCache=BL(this.serializer),this.Ls=new k6,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===b&&Fi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.wi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ct(tt.FAILED_PRECONDITION,z1);return this.mi(),this.gi(),this.yi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Fs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new ga(e,this.ii)}).then(()=>{this.$s=!0}).catch(e=>(this.di&&this.di.close(),Promise.reject(e)))}pi(e){var t=this;return this.li=function(){var r=(0,ze.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.di.B(function(){var t=(0,ze.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((0,ze.Z)(function*(){t.started&&(yield t.wi())})))}wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>cT(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ii(e).next(t=>{t||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.li(!1)))})}).next(()=>this.Ti(e)).next(t=>this.isPrimary&&!t?this.Ei(e).next(()=>!1):!!t&&this.Ai(e).next(()=>!0))).catch(e=>{if(sf(e))return gt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return gt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.li(e)),this.isPrimary=e})}Ii(e){return Yw(e).get("owner").next(t=>je.resolve(this.Ri(t)))}vi(e){return cT(e).delete(this.clientId)}Pi(){var e=this;return(0,ze.Z)(function*(){if(e.isPrimary&&!e.bi(e.hi,18e5)){e.hi=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=yo(r,"clientMetadata");return i.j().next(s=>{const c=e.Vi(s,18e5),h=s.filter(m=>-1===c.indexOf(m));return je.forEach(h,m=>i.delete(m.clientId)).next(()=>h)})}).catch(()=>[]);if(e._i)for(const r of t)e._i.removeItem(e.Si(r.clientId))}})()}yi(){this.ai=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.wi().then(()=>this.Pi()).then(()=>this.yi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ti(e){return this.ri?je.resolve(!0):Yw(e).get("owner").next(t=>{if(null!==t&&this.bi(t.leaseTimestampMs,5e3)&&!this.Di(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new ct(tt.FAILED_PRECONDITION,z1);return!1}}return!(!this.networkEnabled||!this.inForeground)||cT(e).j().next(r=>void 0===this.Vi(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(t=>(this.isPrimary!==t&&gt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ze.Z)(function*(){e.$s=!1,e.Ci(),e.ai&&(e.ai.cancel(),e.ai=null),e.xi(),e.Ni(),yield e.di.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new f1(t,ga.ct);return e.Ei(r).next(()=>e.vi(r))}),e.di.close(),e.ki()})()}Vi(e,t){return e.filter(r=>this.bi(r.updateTimeMs,t)&&!this.Di(r.clientId))}Mi(){return this.runTransaction("getActiveClients","readonly",e=>cT(e).j().next(t=>this.Vi(t,18e5).map(r=>r.clientId)))}get started(){return this.$s}getMutationQueue(e,t){return oT.fe(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Fs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new j6(e,this.serializer.le.databaseId)}getDocumentOverlayCache(e){return eT.fe(this.serializer,e)}getBundleCache(){return this.Ls}runTransaction(e,t,r){gt("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",s=15===(c=this.oi)?z3:14===c?oF:13===c?iF:12===c?G3:11===c?rF:void Gt();var c;let h;return this.di.runTransaction(e,i,s,m=>(h=new f1(m,this.Os?this.Os.next():ga.ct),"readwrite-primary"===t?this.Ii(h).next(y=>!!y||this.Ti(h)).next(y=>{if(!y)throw Fi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.li(!1)),new ct(tt.FAILED_PRECONDITION,KN);return r(h)}).next(y=>this.Ai(h).next(()=>y)):this.Oi(h).next(()=>r(h)))).then(m=>(h.raiseOnCommittedEvent(),m))}Oi(e){return Yw(e).get("owner").next(t=>{if(null!==t&&this.bi(t.leaseTimestampMs,5e3)&&!this.Di(t.ownerId)&&!this.Ri(t)&&!(this.ri||this.allowTabSynchronization&&t.allowTabSynchronization))throw new ct(tt.FAILED_PRECONDITION,z1)})}Ai(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Yw(e).put("owner",t)}static D(){return zl.D()}Ei(e){const t=Yw(e);return t.get("owner").next(r=>this.Ri(r)?(gt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):je.resolve())}bi(e,t){const r=Date.now();return!(e<r-t||e>r&&(Fi(`Detected an update time that is in the future: ${e} > ${r}`),1))}mi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.wi()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}gi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Ci();const t=/(?:Version|Mobile)\/1[456]/;(0,j.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Ni(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Di(e){var t;try{const r=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Si(e)));return gt("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Fi("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ci(){if(this._i)try{this._i.setItem(this.Si(this.clientId),String(Date.now()))}catch(e){Fi("Failed to set zombie client id.",e)}}ki(){if(this._i)try{this._i.removeItem(this.Si(this.clientId))}catch{}}Si(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Yw(n){return yo(n,"owner")}function cT(n){return yo(n,"clientMetadata")}function W1(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class Z1{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Fi=i}static Bi(e,t){let r=jn(),i=jn();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Z1(e,t.fromCache,r,i)}}class zL{constructor(){this.Li=!1}initialize(e,t){this.qi=e,this.indexManager=t,this.Li=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ui(e,t).next(s=>s||this.Ki(e,t,i,r)).next(s=>s||this.Gi(e,t))}Ui(e,t){if(xF(t))return je.resolve(null);let r=cs(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=WD(t,null,"F"),r=cs(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const c=jn(...s);return this.qi.getDocuments(e,c).next(h=>this.indexManager.getMinOffset(e,r).next(m=>{const y=this.Qi(t,h);return this.ji(t,y,c,m.readTime)?this.Ui(e,WD(t,null,"F")):this.zi(e,y,t,m)}))})))}Ki(e,t,r,i){return xF(t)||i.isEqual(rn.min())?this.Gi(e,t):this.qi.getDocuments(e,r).next(s=>{const c=this.Qi(t,s);return this.ji(t,c,r,i)?this.Gi(e,t):(a1()<=po.in.DEBUG&&gt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),I1(t)),this.zi(e,c,t,ZN(i,-1)))})}Qi(e,t){let r=new Jr(RF(e));return t.forEach((i,s)=>{Rw(e,s)&&(r=r.add(s))}),r}ji(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Gi(e,t){return a1()<=po.in.DEBUG&&gt("QueryEngine","Using full collection scan to execute query:",I1(t)),this.qi.getDocumentsMatchingQuery(e,t,pa.min())}zi(e,t,r,i){return this.qi.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(c=>{s=s.insert(c.key,c)}),s))}}class ij{constructor(e,t,r,i){this.persistence=e,this.Wi=t,this.serializer=i,this.Hi=new Gr(Pn),this.Ji=new ud(s=>bg(s),Mw),this.Yi=new Map,this.Xi=e.getRemoteDocumentCache(),this.Fs=e.getTargetCache(),this.Ls=e.getBundleCache(),this.Zi(r)}Zi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new HL(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Wi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Hi))}}function qL(n,e,t,r){return new ij(n,e,t,r)}function WL(n,e){return Y1.apply(this,arguments)}function Y1(){return Y1=(0,ze.Z)(function*(n,e){const t=kt(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.Zi(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const c=[],h=[];let m=jn();for(const y of i){c.push(y.batchId);for(const b of y.mutations)m=m.add(b.key)}for(const y of s){h.push(y.batchId);for(const b of y.mutations)m=m.add(b.key)}return t.localDocuments.getDocuments(r,m).next(y=>({tr:y,removedBatchIds:c,addedBatchIds:h}))})})}),Y1.apply(this,arguments)}function ZL(n){const e=kt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Fs.getLastRemoteSnapshotVersion(t))}function YL(n,e,t){let r=jn(),i=jn();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let c=Us();return t.forEach((h,m)=>{const y=s.get(h);m.isFoundDocument()!==y.isFoundDocument()&&(i=i.add(h)),m.isNoDocument()&&m.version.isEqual(rn.min())?(e.removeEntry(h,m.readTime),c=c.insert(h,m)):!y.isValidDocument()||m.version.compareTo(y.version)>0||0===m.version.compareTo(y.version)&&y.hasPendingWrites?(e.addEntry(m),c=c.insert(h,m)):gt("LocalStore","Ignoring outdated watch update for ",h,". Current version:",y.version," Watch version:",m.version)}),{er:c,nr:i}})}function aj(n,e){const t=kt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function my(n,e){const t=kt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Fs.getTargetData(r,e).next(s=>s?(i=s,je.resolve(i)):t.Fs.allocateTargetId(r).next(c=>(i=new hd(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.Fs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Hi.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Hi=t.Hi.insert(r.targetId,r),t.Ji.set(e,r.targetId)),r})}function _y(n,e,t){return K1.apply(this,arguments)}function K1(){return K1=(0,ze.Z)(function*(n,e,t){const r=kt(n),i=r.Hi.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!sf(c))throw c;gt("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.Hi=r.Hi.remove(e),r.Ji.delete(i.target)}),K1.apply(this,arguments)}function uT(n,e,t){const r=kt(n);let i=rn.min(),s=jn();return r.persistence.runTransaction("Execute query","readonly",c=>function(h,m,y){const b=kt(h),S=b.Ji.get(y);return void 0!==S?je.resolve(b.Hi.get(S)):b.Fs.getTargetData(m,y)}(r,c,cs(e)).next(h=>{if(h)return i=h.lastLimboFreeSnapshotVersion,r.Fs.getMatchingKeysForTargetId(c,h.targetId).next(m=>{s=m})}).next(()=>r.Wi.getDocumentsMatchingQuery(c,e,t?i:rn.min(),t?s:jn())).next(h=>(XL(r,PF(e),h),{documents:h,sr:s})))}function KL(n,e){const t=kt(n),r=kt(t.Fs),i=t.Hi.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",s=>r.he(s,e).next(c=>c?c.target:null))}function QL(n,e){const t=kt(n),r=t.Yi.get(e)||rn.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Xi.getAllFromCollectionGroup(i,e,ZN(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(XL(t,e,i),i))}function XL(n,e,t){let r=n.Yi.get(e)||rn.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Yi.set(e,r)}function Q1(){return Q1=(0,ze.Z)(function*(n,e,t,r){const i=kt(n);let s=jn(),c=Us();for(const y of t){const b=e.ir(y.metadata.name);y.document&&(s=s.add(b));const S=e.rr(y);S.setReadTime(e.ur(y.metadata.readTime)),c=c.insert(b,S)}const h=i.Xi.newChangeBuffer({trackRemovals:!0}),m=yield my(i,(y=r,cs(ay(er.fromString(`__bundle__/docs/${y}`)))));var y;return i.persistence.runTransaction("Apply bundle documents","readwrite",y=>YL(y,h,c).next(b=>(h.apply(y),b)).next(b=>i.Fs.removeMatchingKeysForTargetId(y,m.targetId).next(()=>i.Fs.addMatchingKeys(y,s,m.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(y,b.er,b.nr)).next(()=>b.er)))}),Q1.apply(this,arguments)}function cj(n,e){return X1.apply(this,arguments)}function X1(){return X1=(0,ze.Z)(function*(n,e,t=jn()){const r=yield my(n,cs(F1(e.bundledQuery))),i=kt(n);return i.persistence.runTransaction("Save named query","readwrite",s=>{const c=Li(e.readTime);if(r.snapshotVersion.compareTo(c)>=0)return i.Ls.saveNamedQuery(s,e);const h=r.withResumeToken(ro.EMPTY_BYTE_STRING,c);return i.Hi=i.Hi.insert(h.targetId,h),i.Fs.updateTargetData(s,h).next(()=>i.Fs.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.Fs.addMatchingKeys(s,t,r.targetId)).next(()=>i.Ls.saveNamedQuery(s,e))})}),X1.apply(this,arguments)}function JL(n,e){return`firestore_clients_${n}_${e}`}function e2(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function J1(n,e){return`firestore_targets_${n}_${e}`}class dT{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static cr(e,t,r){const i=JSON.parse(r);let s,c="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return c&&i.error&&(c="string"==typeof i.error.message&&"string"==typeof i.error.code,c&&(s=new ct(i.error.code,i.error.message))),c?new dT(e,t,i.state,s):(Fi("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}ar(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Kw{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static cr(e,t){const r=JSON.parse(t);let i,s="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new ct(r.error.code,r.error.message))),s?new Kw(e,r.state,i):(Fi("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}ar(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class hT{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static cr(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,s=b1();for(let c=0;i&&c<r.activeTargetIds.length;++c)i=JN(r.activeTargetIds[c]),s=s.add(r.activeTargetIds[c]);return i?new hT(e,s):(Fi("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class eP{constructor(e,t){this.clientId=e,this.onlineState=t}static cr(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new eP(t.clientId,t.onlineState):(Fi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class tP{constructor(){this.activeTargetIds=b1()}hr(e){this.activeTargetIds=this.activeTargetIds.add(e)}lr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ar(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class nP{constructor(e,t,r,i,s){this.window=e,this.si=t,this.persistenceKey=r,this.dr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.wr.bind(this),this.mr=new Gr(Pn),this.started=!1,this.gr=[];const c=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.yr=JL(this.persistenceKey,this.dr),this.pr=`firestore_sequence_number_${this.persistenceKey}`,this.mr=this.mr.insert(this.dr,new tP),this.Ir=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.Tr=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this.Er=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.Ar=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ze.Z)(function*(){const t=yield e.syncEngine.Mi();for(const i of t){if(i===e.dr)continue;const s=e.getItem(JL(e.persistenceKey,i));if(s){const c=hT.cr(i,s);c&&(e.mr=e.mr.insert(c.clientId,c))}}e.vr();const r=e.storage.getItem(e.Ar);if(r){const i=e.Pr(r);i&&e.br(i)}for(const i of e.gr)e.wr(i);e.gr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.pr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Vr(this.mr)}isActiveQueryTarget(e){let t=!1;return this.mr.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Sr(e,"pending")}updateMutationState(e,t,r){this.Sr(e,t,r),this.Dr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(J1(this.persistenceKey,e));if(r){const i=Kw.cr(e,r);i&&(t=i.state)}}return this.Cr.hr(e),this.vr(),t}removeLocalQueryTarget(e){this.Cr.lr(e),this.vr()}isLocalQueryTarget(e){return this.Cr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(J1(this.persistenceKey,e))}updateQueryState(e,t,r){this.Nr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Dr(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.kr(e)}notifyBundleLoaded(e){this.Mr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.yr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return gt("SharedClientState","READ",e,t),t}setItem(e,t){gt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){gt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}wr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(gt("SharedClientState","EVENT",r.key,r.newValue),r.key===this.yr)return void Fi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,ze.Z)(function*(){if(t.started){if(null!==r.key)if(t.Ir.test(r.key)){if(null==r.newValue){const i=t.Or(r.key);return t.$r(i,null)}{const i=t.Fr(r.key,r.newValue);if(i)return t.$r(i.clientId,i)}}else if(t.Tr.test(r.key)){if(null!==r.newValue){const i=t.Br(r.key,r.newValue);if(i)return t.Lr(i)}}else if(t.Er.test(r.key)){if(null!==r.newValue){const i=t.qr(r.key,r.newValue);if(i)return t.Ur(i)}}else if(r.key===t.Ar){if(null!==r.newValue){const i=t.Pr(r.newValue);if(i)return t.br(i)}}else if(r.key===t.pr){const i=function(s){let c=ga.ct;if(null!=s)try{const h=JSON.parse(s);en("number"==typeof h),c=h}catch(h){Fi("SharedClientState","Failed to read sequence number from WebStorage",h)}return c}(r.newValue);i!==ga.ct&&t.sequenceNumberHandler(i)}else if(r.key===t.Rr){const i=t.Kr(r.newValue);yield Promise.all(i.map(s=>t.syncEngine.Gr(s)))}}else t.gr.push(r)}))}}get Cr(){return this.mr.get(this.dr)}vr(){this.setItem(this.yr,this.Cr.ar())}Sr(e,t,r){const i=new dT(this.currentUser,e,t,r),s=e2(this.persistenceKey,this.currentUser,e);this.setItem(s,i.ar())}Dr(e){const t=e2(this.persistenceKey,this.currentUser,e);this.removeItem(t)}kr(e){this.storage.setItem(this.Ar,JSON.stringify({clientId:this.dr,onlineState:e}))}Nr(e,t,r){const i=J1(this.persistenceKey,e),s=new Kw(e,t,r);this.setItem(i,s.ar())}Mr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Ir.exec(e);return t?t[1]:null}Fr(e,t){const r=this.Or(e);return hT.cr(r,t)}Br(e,t){const r=this.Tr.exec(e),i=Number(r[1]);return dT.cr(new _o(void 0!==r[2]?r[2]:null),i,t)}qr(e,t){const r=this.Er.exec(e),i=Number(r[1]);return Kw.cr(i,t)}Pr(e){return eP.cr(e)}Kr(e){return JSON.parse(e)}Lr(e){var t=this;return(0,ze.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Qr(e.batchId,e.state,e.error);gt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Ur(e){return this.syncEngine.jr(e.targetId,e.state,e.error)}$r(e,t){const r=t?this.mr.insert(e,t):this.mr.remove(e),i=this.Vr(this.mr),s=this.Vr(r),c=[],h=[];return s.forEach(m=>{i.has(m)||c.push(m)}),i.forEach(m=>{s.has(m)||h.push(m)}),this.syncEngine.zr(c,h).then(()=>{this.mr=r})}br(e){this.mr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Vr(e){let t=b1();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class t2{constructor(){this.Wr=new tP,this.Hr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Wr.hr(e),this.Hr[e]||"not-current"}updateQueryState(e,t,r){this.Hr[e]=t}removeLocalQueryTarget(e){this.Wr.lr(e)}isLocalQueryTarget(e){return this.Wr.activeTargetIds.has(e)}clearQueryState(e){delete this.Hr[e]}getAllActiveQueryTargets(){return this.Wr.activeTargetIds}isActiveQueryTarget(e){return this.Wr.activeTargetIds.has(e)}start(){return this.Wr=new tP,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class uj{Jr(e){}shutdown(){}}class n2{constructor(){this.Yr=()=>this.Xr(),this.Zr=()=>this.eo(),this.no=[],this.so()}Jr(e){this.no.push(e)}shutdown(){window.removeEventListener("online",this.Yr),window.removeEventListener("offline",this.Zr)}so(){window.addEventListener("online",this.Yr),window.addEventListener("offline",this.Zr)}Xr(){gt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.no)e(0)}eo(){gt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.no)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let fT=null;function rP(){return null===fT?fT=268435456+Math.round(2147483648*Math.random()):fT++,"0x"+fT.toString(16)}const dj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class hj{constructor(e){this.io=e.io,this.ro=e.ro}oo(e){this.uo=e}co(e){this.ao=e}onMessage(e){this.ho=e}close(){this.ro()}send(e){this.io(e)}lo(){this.uo()}fo(e){this.ao(e)}_o(e){this.ho(e)}}const Wo="WebChannelConnection";class fj extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.wo=(e.ssl?"https":"http")+"://"+e.host,this.mo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get yo(){return!1}po(e,t,r,i,s){const c=rP(),h=this.Io(e,t);gt("RestConnection",`Sending RPC '${e}' ${c}:`,h,r);const m={};return this.To(m,i,s),this.Eo(e,h,m,r).then(y=>(gt("RestConnection",`Received RPC '${e}' ${c}: `,y),y),y=>{throw el("RestConnection",`RPC '${e}' ${c} failed with error: `,y,"url: ",h,"request:",r),y})}Ao(e,t,r,i,s,c){return this.po(e,t,r,i,s)}To(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+ty,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}Io(e,t){return`${this.wo}/v1/${t}:${dj[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Eo(e,t,r,i){const s=rP();return new Promise((c,h)=>{const m=new u3;m.setWithCredentials(!0),m.listenOnce(a3.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case s1.NO_ERROR:const b=m.getResponseJson();gt(Wo,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(b)),c(b);break;case s1.TIMEOUT:gt(Wo,`RPC '${e}' ${s} timed out`),h(new ct(tt.DEADLINE_EXCEEDED,"Request time out"));break;case s1.HTTP_ERROR:const S=m.getStatus();if(gt(Wo,`RPC '${e}' ${s} failed with status:`,S,"response text:",m.getResponseText()),S>0){let P=m.getResponseJson();Array.isArray(P)&&(P=P[0]);const V=null==P?void 0:P.error;if(V&&V.status&&V.message){const ne=function(Ne){const Xe=Ne.toLowerCase().replace(/_/g,"-");return Object.values(tt).indexOf(Xe)>=0?Xe:tt.UNKNOWN}(V.status);h(new ct(ne,V.message))}else h(new ct(tt.UNKNOWN,"Server responded with status "+m.getStatus()))}else h(new ct(tt.UNAVAILABLE,"Connection failed."));break;default:Gt()}}finally{gt(Wo,`RPC '${e}' ${s} completed.`)}});const y=JSON.stringify(i);gt(Wo,`RPC '${e}' ${s} sending request:`,i),m.send(t,"POST",y,r,15)})}Ro(e,t,r){const i=rP(),s=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=o3(),h=s3(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(m.xmlHttpFactory=new c3({})),this.To(m.initMessageHeaders,t,r),m.encodeInitMessageHeaders=!0;const y=s.join("");gt(Wo,`Creating RPC '${e}' stream ${i}: ${y}`,m);const b=c.createWebChannel(y,m);let S=!1,P=!1;const V=new hj({io:Ne=>{P?gt(Wo,`Not sending because RPC '${e}' stream ${i} is closed:`,Ne):(S||(gt(Wo,`Opening RPC '${e}' stream ${i} transport.`),b.open(),S=!0),gt(Wo,`RPC '${e}' stream ${i} sending:`,Ne),b.send(Ne))},ro:()=>b.close()}),ne=(Ne,Xe,ut)=>{Ne.listen(Xe,xt=>{try{ut(xt)}catch(yt){setTimeout(()=>{throw yt},0)}})};return ne(b,OD.EventType.OPEN,()=>{P||gt(Wo,`RPC '${e}' stream ${i} transport opened.`)}),ne(b,OD.EventType.CLOSE,()=>{P||(P=!0,gt(Wo,`RPC '${e}' stream ${i} transport closed`),V.fo())}),ne(b,OD.EventType.ERROR,Ne=>{P||(P=!0,el(Wo,`RPC '${e}' stream ${i} transport errored:`,Ne),V.fo(new ct(tt.UNAVAILABLE,"The operation could not be completed")))}),ne(b,OD.EventType.MESSAGE,Ne=>{var Xe;if(!P){const ut=Ne.data[0];en(!!ut);const yt=ut.error||(null===(Xe=ut[0])||void 0===Xe?void 0:Xe.error);if(yt){gt(Wo,`RPC '${e}' stream ${i} received error:`,yt);const Mt=yt.status;let Sn=function(io){const Vs=Yi[io];if(void 0!==Vs)return KF(Vs)}(Mt),Gn=yt.message;void 0===Sn&&(Sn=tt.INTERNAL,Gn="Unknown error status: "+Mt+" with message "+yt.message),P=!0,V.fo(new ct(Sn,Gn)),b.close()}else gt(Wo,`RPC '${e}' stream ${i} received:`,ut),V._o(ut)}}),ne(h,l3.STAT_EVENT,Ne=>{Ne.stat===jN.PROXY?gt(Wo,`RPC '${e}' stream ${i} detected buffering proxy`):Ne.stat===jN.NOPROXY&&gt(Wo,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{V.lo()},0),V}}function r2(){return typeof window<"u"?window:null}function pT(){return typeof document<"u"?document:null}function Qw(n){return new I6(n,!0)}class iP{constructor(e,t,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=t,this.vo=r,this.Po=i,this.bo=s,this.Vo=0,this.So=null,this.Do=Date.now(),this.reset()}reset(){this.Vo=0}Co(){this.Vo=this.bo}xo(e){this.cancel();const t=Math.floor(this.Vo+this.No()),r=Math.max(0,Date.now()-this.Do),i=Math.max(0,t-r);i>0&&gt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Vo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.So=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Do=Date.now(),e())),this.Vo*=this.Po,this.Vo<this.vo&&(this.Vo=this.vo),this.Vo>this.bo&&(this.Vo=this.bo)}ko(){null!==this.So&&(this.So.skipDelay(),this.So=null)}cancel(){null!==this.So&&(this.So.cancel(),this.So=null)}No(){return(Math.random()-.5)*this.Vo}}class i2{constructor(e,t,r,i,s,c,h,m){this.si=e,this.Mo=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=m,this.state=0,this.$o=0,this.Fo=null,this.Bo=null,this.stream=null,this.Lo=new iP(e,t)}qo(){return 1===this.state||5===this.state||this.Uo()}Uo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Ko()}stop(){var e=this;return(0,ze.Z)(function*(){e.qo()&&(yield e.close(0))})()}Go(){this.state=0,this.Lo.reset()}Qo(){this.Uo()&&null===this.Fo&&(this.Fo=this.si.enqueueAfterDelay(this.Mo,6e4,()=>this.jo()))}zo(e){this.Wo(),this.stream.send(e)}jo(){var e=this;return(0,ze.Z)(function*(){if(e.Uo())return e.close(0)})()}Wo(){this.Fo&&(this.Fo.cancel(),this.Fo=null)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}close(e,t){var r=this;return(0,ze.Z)(function*(){r.Wo(),r.Ho(),r.Lo.cancel(),r.$o++,4!==e?r.Lo.reset():t&&t.code===tt.RESOURCE_EXHAUSTED?(Fi(t.toString()),Fi("Using maximum backoff delay to prevent overloading the backend."),r.Lo.Co()):t&&t.code===tt.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Jo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.co(t)})()}Jo(){}auth(){this.state=1;const e=this.Yo(this.$o),t=this.$o;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.$o===t&&this.Xo(r,i)},r=>{e(()=>{const i=new ct(tt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Zo(i)})})}Xo(e,t){const r=this.Yo(this.$o);this.stream=this.tu(e,t),this.stream.oo(()=>{r(()=>(this.state=2,this.Bo=this.si.enqueueAfterDelay(this.Oo,1e4,()=>(this.Uo()&&(this.state=3),Promise.resolve())),this.listener.oo()))}),this.stream.co(i=>{r(()=>this.Zo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Ko(){var e=this;this.state=5,this.Lo.xo((0,ze.Z)(function*(){e.state=0,e.start()}))}Zo(e){return gt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Yo(e){return t=>{this.si.enqueueAndForget(()=>this.$o===e?t():(gt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class pj extends i2{constructor(e,t,r,i,s,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,c),this.serializer=s}tu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.Lo.reset();const t=function T6(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(m=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===m?1:"REMOVE"===m?2:"CURRENT"===m?3:"RESET"===m?4:Gt(),i=e.targetChange.targetIds||[],s=function(m,y){return m.useProto3Json?(en(void 0===y||"string"==typeof y),ro.fromBase64String(y||"")):(en(void 0===y||y instanceof Uint8Array),ro.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&function(m){const y=void 0===m.code?tt.UNKNOWN:KF(m.code);return new ct(y,m.message||"")}(c);t=new tL(r,i,s,h||null)}else if("documentChange"in e){const r=e.documentChange,i=Wc(n,r.document.name),s=Li(r.document.updateTime),c=r.document.createTime?Li(r.document.createTime):rn.min(),h=new Po({mapValue:{fields:r.document.fields}}),m=ei.newFoundDocument(i,s,c,h);t=new XD(r.targetIds||[],r.removedTargetIds||[],m.key,m)}else if("documentDelete"in e){const r=e.documentDelete,i=Wc(n,r.document),s=r.readTime?Li(r.readTime):rn.min(),c=ei.newNoDocument(i,s);t=new XD([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const r=e.documentRemove,i=Wc(n,r.document);t=new XD([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Gt();{const r=e.filter,{count:i=0,unchangedNames:s}=r,c=new _6(i,s);t=new eL(r.targetId,c)}}var m;return t}(this.serializer,e),r=function(i){if(!("targetChange"in i))return rn.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?rn.min():s.readTime?Li(s.readTime):rn.min()}(e);return this.listener.eu(t,r)}nu(e){const t={};t.database=Vw(this.serializer),t.addTarget=function(i,s){let c;const h=s.target;if(c=GD(h)?{documents:dL(i,h)}:{query:N1(i,h)},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){c.resumeToken=oL(i,s.resumeToken);const m=P1(i,s.expectedCount);null!==m&&(c.expectedCount=m)}else if(s.snapshotVersion.compareTo(rn.min())>0){c.readTime=hy(i,s.snapshotVersion.toTimestamp());const m=P1(i,s.expectedCount);null!==m&&(c.expectedCount=m)}return c}(this.serializer,e);const r=function A6(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Gt()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.zo(t)}su(e){const t={};t.database=Vw(this.serializer),t.removeTarget=e,this.zo(t)}}class gj extends i2{constructor(e,t,r,i,s,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,c),this.serializer=s,this.iu=!1}get ru(){return this.iu}start(){this.iu=!1,this.lastStreamToken=void 0,super.start()}Jo(){this.iu&&this.ou([])}tu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(en(!!e.streamToken),this.lastStreamToken=e.streamToken,this.iu){this.Lo.reset();const t=function S6(n,e){return n&&n.length>0?(en(void 0!==e),n.map(t=>function(r,i){let s=Li(r.updateTime?r.updateTime:i);return s.isEqual(rn.min())&&(s=Li(i)),new f6(s,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Li(e.commitTime);return this.listener.uu(r,t)}return en(!e.writeResults||0===e.writeResults.length),this.iu=!0,this.listener.cu()}au(){const e={};e.database=Vw(this.serializer),this.zo(e)}ou(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>jw(this.serializer,r))};this.zo(t)}}class mj extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.hu=!1}lu(){if(this.hu)throw new ct(tt.FAILED_PRECONDITION,"The client has already been terminated.")}po(e,t,r){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.po(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ct(tt.UNKNOWN,i.toString())})}Ao(e,t,r,i){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection.Ao(e,t,r,s,c,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ct(tt.UNKNOWN,s.toString())})}terminate(){this.hu=!0}}class yj{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.du=0,this._u=null,this.wu=!0}mu(){0===this.du&&(this.gu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.yu("Backend didn't respond within 10 seconds."),this.gu("Offline"),Promise.resolve())))}pu(e){"Online"===this.state?this.gu("Unknown"):(this.du++,this.du>=1&&(this.Iu(),this.yu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.gu("Offline")))}set(e){this.Iu(),this.du=0,"Online"===e&&(this.wu=!1),this.gu(e)}gu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}yu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.wu?(Fi(t),this.wu=!1):gt("OnlineStateTracker",t)}Iu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class vj{constructor(e,t,r,i,s){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Tu=[],this.Eu=new Map,this.Au=new Set,this.Ru=[],this.vu=s,this.vu.Jr(h=>{r.enqueueAndForget((0,ze.Z)(function*(){var m;yf(c)&&(gt("RemoteStore","Restarting streams for network reachability change."),yield(m=(0,ze.Z)(function*(y){const b=kt(y);b.Au.add(4),yield yy(b),b.Pu.set("Unknown"),b.Au.delete(4),yield Xw(b)}),function(y){return m.apply(this,arguments)})(c))}))}),this.Pu=new yj(r,i)}}function Xw(n){return sP.apply(this,arguments)}function sP(){return sP=(0,ze.Z)(function*(n){if(yf(n))for(const e of n.Ru)yield e(!0)}),sP.apply(this,arguments)}function yy(n){return aP.apply(this,arguments)}function aP(){return aP=(0,ze.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),aP.apply(this,arguments)}function gT(n,e){const t=kt(n);t.Eu.has(e.targetId)||(t.Eu.set(e.targetId,e),uP(t)?cP(t):wy(t).Uo()&&lP(t,e))}function Jw(n,e){const t=kt(n),r=wy(t);t.Eu.delete(e),r.Uo()&&o2(t,e),0===t.Eu.size&&(r.Uo()?r.Qo():yf(t)&&t.Pu.set("Unknown"))}function lP(n,e){if(n.bu.Lt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(rn.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}wy(n).nu(e)}function o2(n,e){n.bu.Lt(e),wy(n).su(e)}function cP(n){n.bu=new v6({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),he:e=>n.Eu.get(e)||null,oe:()=>n.datastore.serializer.databaseId}),wy(n).start(),n.Pu.mu()}function uP(n){return yf(n)&&!wy(n).qo()&&n.Eu.size>0}function yf(n){return 0===kt(n).Au.size}function s2(n){n.bu=void 0}function wj(n){return dP.apply(this,arguments)}function dP(){return dP=(0,ze.Z)(function*(n){n.Eu.forEach((e,t)=>{lP(n,e)})}),dP.apply(this,arguments)}function Cj(n,e){return hP.apply(this,arguments)}function hP(){return hP=(0,ze.Z)(function*(n,e){s2(n),uP(n)?(n.Pu.pu(e),cP(n)):n.Pu.set("Unknown")}),hP.apply(this,arguments)}function Ej(n,e,t){return fP.apply(this,arguments)}function fP(){return fP=(0,ze.Z)(function*(n,e,t){if(n.Pu.set("Online"),e instanceof tL&&2===e.state&&e.cause)try{yield(r=(0,ze.Z)(function*(i,s){const c=s.cause;for(const h of s.targetIds)i.Eu.has(h)&&(yield i.remoteSyncer.rejectListen(h,c),i.Eu.delete(h),i.bu.removeTarget(h))}),function(i,s){return r.apply(this,arguments)})(n,e)}catch(r){gt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield mT(n,r)}else if(e instanceof XD?n.bu.Wt(e):e instanceof eL?n.bu.ee(e):n.bu.Yt(e),!t.isEqual(rn.min()))try{const r=yield ZL(n.localStore);t.compareTo(r)>=0&&(yield function(i,s){const c=i.bu.ue(s);return c.targetChanges.forEach((h,m)=>{if(h.resumeToken.approximateByteSize()>0){const y=i.Eu.get(m);y&&i.Eu.set(m,y.withResumeToken(h.resumeToken,s))}}),c.targetMismatches.forEach((h,m)=>{const y=i.Eu.get(h);if(!y)return;i.Eu.set(h,y.withResumeToken(ro.EMPTY_BYTE_STRING,y.snapshotVersion)),o2(i,h);const b=new hd(y.target,h,m,y.sequenceNumber);lP(i,b)}),i.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){gt("RemoteStore","Failed to raise snapshot:",r),yield mT(n,r)}var r}),fP.apply(this,arguments)}function mT(n,e,t){return pP.apply(this,arguments)}function pP(){return pP=(0,ze.Z)(function*(n,e,t){if(!sf(e))throw e;n.Au.add(1),yield yy(n),n.Pu.set("Offline"),t||(t=()=>ZL(n.localStore)),n.asyncQueue.enqueueRetryable((0,ze.Z)(function*(){gt("RemoteStore","Retrying IndexedDB access"),yield t(),n.Au.delete(1),yield Xw(n)}))}),pP.apply(this,arguments)}function a2(n,e){return e().catch(t=>mT(n,t,e))}function vy(n){return gP.apply(this,arguments)}function gP(){return gP=(0,ze.Z)(function*(n){const e=kt(n),t=vf(e);let r=e.Tu.length>0?e.Tu[e.Tu.length-1].batchId:-1;for(;Ij(e);)try{const i=yield aj(e.localStore,r);if(null===i){0===e.Tu.length&&t.Qo();break}r=i.batchId,bj(e,i)}catch(i){yield mT(e,i)}l2(e)&&c2(e)}),gP.apply(this,arguments)}function Ij(n){return yf(n)&&n.Tu.length<10}function bj(n,e){n.Tu.push(e);const t=vf(n);t.Uo()&&t.ru&&t.ou(e.mutations)}function l2(n){return yf(n)&&!vf(n).qo()&&n.Tu.length>0}function c2(n){vf(n).start()}function Dj(n){return mP.apply(this,arguments)}function mP(){return mP=(0,ze.Z)(function*(n){vf(n).au()}),mP.apply(this,arguments)}function Tj(n){return _P.apply(this,arguments)}function _P(){return _P=(0,ze.Z)(function*(n){const e=vf(n);for(const t of n.Tu)e.ou(t.mutations)}),_P.apply(this,arguments)}function Sj(n,e,t){return yP.apply(this,arguments)}function yP(){return yP=(0,ze.Z)(function*(n,e,t){const r=n.Tu.shift(),i=S1.from(r,e,t);yield a2(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield vy(n)}),yP.apply(this,arguments)}function Aj(n,e){return vP.apply(this,arguments)}function vP(){return vP=(0,ze.Z)(function*(n,e){var t;e&&vf(n).ru&&(yield(t=(0,ze.Z)(function*(r,i){if(YF(s=i.code)&&s!==tt.ABORTED){const c=r.Tu.shift();vf(r).Go(),yield a2(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,i)),yield vy(r)}var s}),function(r,i){return t.apply(this,arguments)})(n,e)),l2(n)&&c2(n)}),vP.apply(this,arguments)}function u2(n,e){return wP.apply(this,arguments)}function wP(){return wP=(0,ze.Z)(function*(n,e){const t=kt(n);t.asyncQueue.verifyOperationInProgress(),gt("RemoteStore","RemoteStore received new credentials");const r=yf(t);t.Au.add(3),yield yy(t),r&&t.Pu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Au.delete(3),yield Xw(t)}),wP.apply(this,arguments)}function CP(n,e){return EP.apply(this,arguments)}function EP(){return EP=(0,ze.Z)(function*(n,e){const t=kt(n);e?(t.Au.delete(2),yield Xw(t)):e||(t.Au.add(2),yield yy(t),t.Pu.set("Unknown"))}),EP.apply(this,arguments)}function wy(n){return n.Vu||(n.Vu=function(e,t,r){const i=kt(e);return i.lu(),new pj(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{oo:wj.bind(null,n),co:Cj.bind(null,n),eu:Ej.bind(null,n)}),n.Ru.push(function(){var e=(0,ze.Z)(function*(t){t?(n.Vu.Go(),uP(n)?cP(n):n.Pu.set("Unknown")):(yield n.Vu.stop(),s2(n))});return function(t){return e.apply(this,arguments)}}())),n.Vu}function vf(n){return n.Su||(n.Su=function(e,t,r){const i=kt(e);return i.lu(),new gj(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{oo:Dj.bind(null,n),co:Aj.bind(null,n),cu:Tj.bind(null,n),uu:Sj.bind(null,n)}),n.Ru.push(function(){var e=(0,ze.Z)(function*(t){t?(n.Su.Go(),yield vy(n)):(yield n.Su.stop(),n.Tu.length>0&&(gt("RemoteStore",`Stopping write stream with ${n.Tu.length} pending writes`),n.Tu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Su}class IP{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new no,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,r,i,s){const c=Date.now()+r,h=new IP(e,t,c,i,s);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ct(tt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cy(n,e){if(Fi("AsyncQueue",`${e}: ${n}`),sf(n))return new ct(tt.UNAVAILABLE,`${e}: ${n}`);throw n}class Ey{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Pt.comparator(t.key,r.key):(t,r)=>Pt.comparator(t.key,r.key),this.keyedMap=Ow(),this.sortedSet=new Gr(this.comparator)}static emptySet(e){return new Ey(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ey)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Ey;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class d2{constructor(){this.Du=new Gr(Pt.comparator)}track(e){const t=e.doc.key,r=this.Du.get(t);r?0!==e.type&&3===r.type?this.Du=this.Du.insert(t,e):3===e.type&&1!==r.type?this.Du=this.Du.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Du=this.Du.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Du=this.Du.remove(t):1===e.type&&2===r.type?this.Du=this.Du.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):Gt():this.Du=this.Du.insert(t,e)}Cu(){const e=[];return this.Du.inorderTraversal((t,r)=>{e.push(r)}),e}}class Iy{constructor(e,t,r,i,s,c,h,m,y){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=m,this.hasCachedResults=y}static fromInitialDocuments(e,t,r,i,s){const c=[];return t.forEach(h=>{c.push({type:0,doc:h})}),new Iy(e,t,Ey.emptySet(t),c,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Pw(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class xj{constructor(){this.xu=void 0,this.listeners=[]}}class Mj{constructor(){this.queries=new ud(e=>MF(e),Pw),this.onlineState="Unknown",this.Nu=new Set}}function bP(n,e){return DP.apply(this,arguments)}function DP(){return DP=(0,ze.Z)(function*(n,e){const t=kt(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new xj),i)try{s.xu=yield t.onListen(r)}catch(c){const h=Cy(c,`Initialization of query '${I1(e.query)}' failed`);return void e.onError(h)}t.queries.set(r,s),s.listeners.push(e),e.ku(t.onlineState),s.xu&&e.Mu(s.xu)&&AP(t)}),DP.apply(this,arguments)}function TP(n,e){return SP.apply(this,arguments)}function SP(){return SP=(0,ze.Z)(function*(n,e){const t=kt(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const c=s.listeners.indexOf(e);c>=0&&(s.listeners.splice(c,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),SP.apply(this,arguments)}function Pj(n,e){const t=kt(n);let r=!1;for(const i of e){const c=t.queries.get(i.query);if(c){for(const h of c.listeners)h.Mu(i)&&(r=!0);c.xu=i}}r&&AP(t)}function Rj(n,e,t){const r=kt(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function AP(n){n.Nu.forEach(e=>{e.next()})}class xP{constructor(e,t,r){this.query=e,this.Ou=t,this.$u=!1,this.Fu=null,this.onlineState="Unknown",this.options=r||{}}Mu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Iy(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.$u?this.Bu(e)&&(this.Ou.next(e),t=!0):this.Lu(e,this.onlineState)&&(this.qu(e),t=!0),this.Fu=e,t}onError(e){this.Ou.error(e)}ku(e){this.onlineState=e;let t=!1;return this.Fu&&!this.$u&&this.Lu(this.Fu,e)&&(this.qu(this.Fu),t=!0),t}Lu(e,t){return!e.fromCache||(!this.options.Uu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Bu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Fu&&this.Fu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}qu(e){e=Iy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.$u=!0,this.Ou.next(e)}}class Oj{constructor(e,t){this.Ku=e,this.byteLength=t}Gu(){return"metadata"in this.Ku}}class h2{constructor(e){this.serializer=e}ir(e){return Wc(this.serializer,e)}rr(e){return e.metadata.exists?uL(this.serializer,e.document,!1):ei.newNoDocument(this.ir(e.metadata.name),this.ur(e.metadata.readTime))}ur(e){return Li(e)}}class kj{constructor(e,t,r){this.Qu=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=f2(e)}ju(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Ku.namedQuery)this.queries.push(e.Ku.namedQuery);else if(e.Ku.documentMetadata){this.documents.push({metadata:e.Ku.documentMetadata}),e.Ku.documentMetadata.exists||++t;const r=er.fromString(e.Ku.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Ku.document&&(this.documents[this.documents.length-1].document=e.Ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}zu(e){const t=new Map,r=new h2(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.ir(i.metadata.name);for(const c of i.metadata.queries){const h=(t.get(c)||jn()).add(s);t.set(c,h)}}return t}complete(){var e=this;return(0,ze.Z)(function*(){const t=yield function lj(n,e,t,r){return Q1.apply(this,arguments)}(e.localStore,new h2(e.serializer),e.documents,e.Qu.id),r=e.zu(e.documents);for(const i of e.queries)yield cj(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Wu:e.collectionGroups,Hu:t}})()}}function f2(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class p2{constructor(e){this.key=e}}class g2{constructor(e){this.key=e}}class m2{constructor(e,t){this.query=e,this.Ju=t,this.Yu=null,this.hasCachedResults=!1,this.current=!1,this.Xu=jn(),this.mutatedKeys=jn(),this.Zu=RF(e),this.tc=new Ey(this.Zu)}get ec(){return this.Ju}nc(e,t){const r=t?t.sc:new d2,i=t?t.tc:this.tc;let s=t?t.mutatedKeys:this.mutatedKeys,c=i,h=!1;const m="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,y="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((b,S)=>{const P=i.get(b),V=Rw(this.query,S)?S:null,ne=!!P&&this.mutatedKeys.has(P.key),Ne=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let Xe=!1;P&&V?P.data.isEqual(V.data)?ne!==Ne&&(r.track({type:3,doc:V}),Xe=!0):this.ic(P,V)||(r.track({type:2,doc:V}),Xe=!0,(m&&this.Zu(V,m)>0||y&&this.Zu(V,y)<0)&&(h=!0)):!P&&V?(r.track({type:0,doc:V}),Xe=!0):P&&!V&&(r.track({type:1,doc:P}),Xe=!0,(m||y)&&(h=!0)),Xe&&(V?(c=c.add(V),s=Ne?s.add(b):s.delete(b)):(c=c.delete(b),s=s.delete(b)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const b="F"===this.query.limitType?c.last():c.first();c=c.delete(b.key),s=s.delete(b.key),r.track({type:1,doc:b})}return{tc:c,sc:r,ji:h,mutatedKeys:s}}ic(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.tc;this.tc=e.tc,this.mutatedKeys=e.mutatedKeys;const s=e.sc.Cu();s.sort((y,b)=>function(S,P){const V=ne=>{switch(ne){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Gt()}};return V(S)-V(P)}(y.type,b.type)||this.Zu(y.doc,b.doc)),this.rc(r);const c=t?this.oc():[],h=0===this.Xu.size&&this.current?1:0,m=h!==this.Yu;return this.Yu=h,0!==s.length||m?{snapshot:new Iy(this.query,e.tc,i,s,e.mutatedKeys,0===h,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),uc:c}:{uc:c}}ku(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tc:this.tc,sc:new d2,mutatedKeys:this.mutatedKeys,ji:!1},!1)):{uc:[]}}cc(e){return!this.Ju.has(e)&&!!this.tc.has(e)&&!this.tc.get(e).hasLocalMutations}rc(e){e&&(e.addedDocuments.forEach(t=>this.Ju=this.Ju.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ju=this.Ju.delete(t)),this.current=e.current)}oc(){if(!this.current)return[];const e=this.Xu;this.Xu=jn(),this.tc.forEach(r=>{this.cc(r.key)&&(this.Xu=this.Xu.add(r.key))});const t=[];return e.forEach(r=>{this.Xu.has(r)||t.push(new g2(r))}),this.Xu.forEach(r=>{e.has(r)||t.push(new p2(r))}),t}ac(e){this.Ju=e.sr,this.Xu=jn();const t=this.nc(e.documents);return this.applyChanges(t,!0)}hc(){return Iy.fromInitialDocuments(this.query,this.tc,this.mutatedKeys,0===this.Yu,this.hasCachedResults)}}class Nj{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Fj{constructor(e){this.key=e,this.lc=!1}}class Lj{constructor(e,t,r,i,s,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=c,this.fc={},this.dc=new ud(h=>MF(h),Pw),this._c=new Map,this.wc=new Set,this.mc=new Gr(Pt.comparator),this.gc=new Map,this.yc=new H1,this.Ic={},this.Tc=new Map,this.Ec=Og.kn(),this.onlineState="Unknown",this.Ac=void 0}get isPrimaryClient(){return!0===this.Ac}}function Uj(n,e){return MP.apply(this,arguments)}function MP(){return MP=(0,ze.Z)(function*(n,e){const t=JP(n);let r,i;const s=t.dc.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.hc();else{const c=yield my(t.localStore,cs(e)),h=t.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,i=yield PP(t,e,r,"current"===h,c.resumeToken),t.isPrimaryClient&&gT(t.remoteStore,c)}return i}),MP.apply(this,arguments)}function PP(n,e,t,r,i){return RP.apply(this,arguments)}function RP(){return RP=(0,ze.Z)(function*(n,e,t,r,i){n.Rc=(S,P,V)=>{return(ne=(0,ze.Z)(function*(Ne,Xe,ut,xt){let yt=Xe.view.nc(ut);yt.ji&&(yt=yield uT(Ne.localStore,Xe.query,!1).then(({documents:Gn})=>Xe.view.nc(Gn,yt)));const Mt=xt&&xt.targetChanges.get(Xe.targetId),Sn=Xe.view.applyChanges(yt,Ne.isPrimaryClient,Mt);return jP(Ne,Xe.targetId,Sn.uc),Sn.snapshot}),function(Ne,Xe,ut,xt){return ne.apply(this,arguments)})(n,S,P,V);var ne};const s=yield uT(n.localStore,e,!0),c=new m2(e,s.sr),h=c.nc(s.documents),m=Bw.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),y=c.applyChanges(h,n.isPrimaryClient,m);jP(n,t,y.uc);const b=new Nj(e,t,c);return n.dc.set(e,b),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),y.snapshot}),RP.apply(this,arguments)}function Bj(n,e){return OP.apply(this,arguments)}function OP(){return OP=(0,ze.Z)(function*(n,e){const t=kt(n),r=t.dc.get(e),i=t._c.get(r.targetId);if(i.length>1)return t._c.set(r.targetId,i.filter(s=>!Pw(s,e))),void t.dc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield _y(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Jw(t.remoteStore,r.targetId),by(t,r.targetId)}).catch(rf))):(by(t,r.targetId),yield _y(t.localStore,r.targetId,!0))}),OP.apply(this,arguments)}function kP(){return kP=(0,ze.Z)(function*(n,e,t){const r=eR(n);try{const i=yield function(s,c){const h=kt(s),m=di.now(),y=c.reduce((P,V)=>P.add(V.key),jn());let b,S;return h.persistence.runTransaction("Locally write mutations","readwrite",P=>{let V=Us(),ne=jn();return h.Xi.getEntries(P,y).next(Ne=>{V=Ne,V.forEach((Xe,ut)=>{ut.isValidDocument()||(ne=ne.add(Xe))})}).next(()=>h.localDocuments.getOverlayedDocuments(P,V)).next(Ne=>{b=Ne;const Xe=[];for(const ut of c){const xt=g6(ut,b.get(ut.key).overlayedDocument);null!=xt&&Xe.push(new dd(ut.key,xt,mF(xt.value.mapValue),hi.exists(!0)))}return h.mutationQueue.addMutationBatch(P,m,Xe,c)}).next(Ne=>{S=Ne;const Xe=Ne.applyToLocalDocumentSet(b,ne);return h.documentOverlayCache.saveOverlays(P,Ne.batchId,Xe)})}).then(()=>({batchId:S.batchId,changes:kF(b)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,c,h){let m=s.Ic[s.currentUser.toKey()];m||(m=new Gr(Pn)),m=m.insert(c,h),s.Ic[s.currentUser.toKey()]=m}(r,i.batchId,t),yield fd(r,i.changes),yield vy(r.remoteStore)}catch(i){const s=Cy(i,"Failed to persist write");t.reject(s)}}),kP.apply(this,arguments)}function _2(n,e){return NP.apply(this,arguments)}function NP(){return NP=(0,ze.Z)(function*(n,e){const t=kt(n);try{const r=yield function sj(n,e){const t=kt(n),r=e.snapshotVersion;let i=t.Hi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const c=t.Xi.newChangeBuffer({trackRemovals:!0});i=t.Hi;const h=[];e.targetChanges.forEach((b,S)=>{const P=i.get(S);if(!P)return;h.push(t.Fs.removeMatchingKeys(s,b.removedDocuments,S).next(()=>t.Fs.addMatchingKeys(s,b.addedDocuments,S)));let V=P.withSequenceNumber(s.currentSequenceNumber);var ne,Ne,Xe;null!==e.targetMismatches.get(S)?V=V.withResumeToken(ro.EMPTY_BYTE_STRING,rn.min()).withLastLimboFreeSnapshotVersion(rn.min()):b.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(b.resumeToken,r)),i=i.insert(S,V),Ne=V,Xe=b,(0===(ne=P).resumeToken.approximateByteSize()||Ne.snapshotVersion.toMicroseconds()-ne.snapshotVersion.toMicroseconds()>=3e8||Xe.addedDocuments.size+Xe.modifiedDocuments.size+Xe.removedDocuments.size>0)&&h.push(t.Fs.updateTargetData(s,V))});let m=Us(),y=jn();if(e.documentUpdates.forEach(b=>{e.resolvedLimboDocuments.has(b)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(s,b))}),h.push(YL(s,c,e.documentUpdates).next(b=>{m=b.er,y=b.nr})),!r.isEqual(rn.min())){const b=t.Fs.getLastRemoteSnapshotVersion(s).next(S=>t.Fs.setTargetsMetadata(s,s.currentSequenceNumber,r));h.push(b)}return je.waitFor(h).next(()=>c.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,m,y)).next(()=>m)}).then(s=>(t.Hi=i,s))}(t.localStore,e);e.targetChanges.forEach((i,s)=>{const c=t.gc.get(s);c&&(en(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?c.lc=!0:i.modifiedDocuments.size>0?en(c.lc):i.removedDocuments.size>0&&(en(c.lc),c.lc=!1))}),yield fd(t,r,e)}catch(r){yield rf(r)}}),NP.apply(this,arguments)}function y2(n,e,t){const r=kt(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.dc.forEach((s,c)=>{const h=c.view.ku(e);h.snapshot&&i.push(h.snapshot)}),function(s,c){const h=kt(s);h.onlineState=c;let m=!1;h.queries.forEach((y,b)=>{for(const S of b.listeners)S.ku(c)&&(m=!0)}),m&&AP(h)}(r.eventManager,e),i.length&&r.fc.eu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Vj(n,e,t){return FP.apply(this,arguments)}function FP(){return FP=(0,ze.Z)(function*(n,e,t){const r=kt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.gc.get(e),s=i&&i.key;if(s){let c=new Gr(Pt.comparator);c=c.insert(s,ei.newNoDocument(s,rn.min()));const h=jn().add(s),m=new Uw(rn.min(),new Map,new Gr(Pn),c,h);yield _2(r,m),r.mc=r.mc.remove(s),r.gc.delete(e),HP(r)}else yield _y(r.localStore,e,!1).then(()=>by(r,e,t)).catch(rf)}),FP.apply(this,arguments)}function jj(n,e){return LP.apply(this,arguments)}function LP(){return LP=(0,ze.Z)(function*(n,e){const t=kt(n),r=e.batch.batchId;try{const i=yield function oj(n,e){const t=kt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.Xi.newChangeBuffer({trackRemovals:!0});return function(c,h,m,y){const b=m.batch,S=b.keys();let P=je.resolve();return S.forEach(V=>{P=P.next(()=>y.getEntry(h,V)).next(ne=>{const Ne=m.docVersions.get(V);en(null!==Ne),ne.version.compareTo(Ne)<0&&(b.applyToRemoteDocument(ne,m),ne.isValidDocument()&&(ne.setReadTime(m.commitVersion),y.addEntry(ne)))})}),P.next(()=>c.mutationQueue.removeMutationBatch(h,b))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let h=jn();for(let m=0;m<c.mutationResults.length;++m)c.mutationResults[m].transformResults.length>0&&(h=h.add(c.batch.mutations[m].key));return h}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);VP(t,r,null),$P(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield fd(t,i)}catch(i){yield rf(i)}}),LP.apply(this,arguments)}function Hj(n,e,t){return UP.apply(this,arguments)}function UP(){return UP=(0,ze.Z)(function*(n,e,t){const r=kt(n);try{const i=yield function(s,c){const h=kt(s);return h.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let y;return h.mutationQueue.lookupMutationBatch(m,c).next(b=>(en(null!==b),y=b.keys(),h.mutationQueue.removeMutationBatch(m,b))).next(()=>h.mutationQueue.performConsistencyCheck(m)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(m,y,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y)).next(()=>h.localDocuments.getDocuments(m,y))})}(r.localStore,e);VP(r,e,t),$P(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield fd(r,i)}catch(i){yield rf(i)}}),UP.apply(this,arguments)}function BP(){return BP=(0,ze.Z)(function*(n,e){const t=kt(n);yf(t.remoteStore)||gt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(s){const c=kt(s);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>c.mutationQueue.getHighestUnacknowledgedBatchId(h))}(t.localStore);if(-1===r)return void e.resolve();const i=t.Tc.get(r)||[];i.push(e),t.Tc.set(r,i)}catch(r){const i=Cy(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),BP.apply(this,arguments)}function $P(n,e){(n.Tc.get(e)||[]).forEach(t=>{t.resolve()}),n.Tc.delete(e)}function VP(n,e,t){const r=kt(n);let i=r.Ic[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Ic[r.currentUser.toKey()]=i}}function by(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.dc.delete(r),t&&n.fc.vc(r,t);n._c.delete(e),n.isPrimaryClient&&n.yc.ps(e).forEach(r=>{n.yc.containsKey(r)||v2(n,r)})}function v2(n,e){n.wc.delete(e.path.canonicalString());const t=n.mc.get(e);null!==t&&(Jw(n.remoteStore,t),n.mc=n.mc.remove(e),n.gc.delete(t),HP(n))}function jP(n,e,t){for(const r of t)r instanceof p2?(n.yc.addReference(r.key,e),zj(n,r)):r instanceof g2?(gt("SyncEngine","Document no longer in limbo: "+r.key),n.yc.removeReference(r.key,e),n.yc.containsKey(r.key)||v2(n,r.key)):Gt()}function zj(n,e){const t=e.key,r=t.path.canonicalString();n.mc.get(t)||n.wc.has(r)||(gt("SyncEngine","New document in limbo: "+t),n.wc.add(r),HP(n))}function HP(n){for(;n.wc.size>0&&n.mc.size<n.maxConcurrentLimboResolutions;){const e=n.wc.values().next().value;n.wc.delete(e);const t=new Pt(er.fromString(e)),r=n.Ec.next();n.gc.set(r,new Fj(t)),n.mc=n.mc.insert(t,r),gT(n.remoteStore,new hd(cs(ay(t.path)),r,"TargetPurposeLimboResolution",ga.ct))}}function fd(n,e,t){return GP.apply(this,arguments)}function GP(){return GP=(0,ze.Z)(function*(n,e,t){const r=kt(n),i=[],s=[],c=[];var h;r.dc.isEmpty()||(r.dc.forEach((h,m)=>{c.push(r.Rc(m,e,t).then(y=>{if((y||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(m.targetId,null!=y&&y.fromCache?"not-current":"current"),y){i.push(y);const b=Z1.Bi(m.targetId,y);s.push(b)}}))}),yield Promise.all(c),r.fc.eu(i),yield(h=(0,ze.Z)(function*(m,y){const b=kt(m);try{yield b.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>je.forEach(y,P=>je.forEach(P.$i,V=>b.persistence.referenceDelegate.addReference(S,P.targetId,V)).next(()=>je.forEach(P.Fi,V=>b.persistence.referenceDelegate.removeReference(S,P.targetId,V)))))}catch(S){if(!sf(S))throw S;gt("LocalStore","Failed to update sequence numbers: "+S)}for(const S of y){const P=S.targetId;if(!S.fromCache){const V=b.Hi.get(P),Ne=V.withLastLimboFreeSnapshotVersion(V.snapshotVersion);b.Hi=b.Hi.insert(P,Ne)}}}),function(m,y){return h.apply(this,arguments)})(r.localStore,s))}),GP.apply(this,arguments)}function qj(n,e){return zP.apply(this,arguments)}function zP(){return zP=(0,ze.Z)(function*(n,e){const t=kt(n);if(!t.currentUser.isEqual(e)){gt("SyncEngine","User change. New user:",e.toKey());const r=yield WL(t.localStore,e);t.currentUser=e,(i=t).Tc.forEach(c=>{c.forEach(h=>{h.reject(new ct(tt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Tc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield fd(t,r.tr)}var i}),zP.apply(this,arguments)}function Wj(n,e){const t=kt(n),r=t.gc.get(e);if(r&&r.lc)return jn().add(r.key);{let i=jn();const s=t._c.get(e);if(!s)return i;for(const c of s){const h=t.dc.get(c);i=i.unionWith(h.view.ec)}return i}}function Zj(n,e){return qP.apply(this,arguments)}function qP(){return qP=(0,ze.Z)(function*(n,e){const t=kt(n),r=yield uT(t.localStore,e.query,!0),i=e.view.ac(r);return t.isPrimaryClient&&jP(t,e.targetId,i.uc),i}),qP.apply(this,arguments)}function Yj(n,e){return WP.apply(this,arguments)}function WP(){return WP=(0,ze.Z)(function*(n,e){const t=kt(n);return QL(t.localStore,e).then(r=>fd(t,r))}),WP.apply(this,arguments)}function Kj(n,e,t,r){return ZP.apply(this,arguments)}function ZP(){return ZP=(0,ze.Z)(function*(n,e,t,r){const i=kt(n),s=yield function(c,h){const m=kt(c),y=kt(m.mutationQueue);return m.persistence.runTransaction("Lookup mutation documents","readonly",b=>y.Vn(b,h).next(S=>S?m.localDocuments.getDocuments(b,S):je.resolve(null)))}(i.localStore,e);var h;null!==s?("pending"===t?yield vy(i.remoteStore):"acknowledged"===t||"rejected"===t?(VP(i,e,r||null),$P(i,e),h=e,kt(kt(i.localStore).mutationQueue).Dn(h)):Gt(),yield fd(i,s)):gt("SyncEngine","Cannot apply mutation batch with id: "+e)}),ZP.apply(this,arguments)}function YP(){return YP=(0,ze.Z)(function*(n,e){const t=kt(n);if(JP(t),eR(t),!0===e&&!0!==t.Ac){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield w2(t,r.toArray());t.Ac=!0,yield CP(t.remoteStore,!0);for(const s of i)gT(t.remoteStore,s)}else if(!1===e&&!1!==t.Ac){const r=[];let i=Promise.resolve();t._c.forEach((s,c)=>{t.sharedClientState.isLocalQueryTarget(c)?r.push(c):i=i.then(()=>(by(t,c),_y(t.localStore,c,!0))),Jw(t.remoteStore,c)}),yield i,yield w2(t,r),function(s){const c=kt(s);c.gc.forEach((h,m)=>{Jw(c.remoteStore,m)}),c.yc.Is(),c.gc=new Map,c.mc=new Gr(Pt.comparator)}(t),t.Ac=!1,yield CP(t.remoteStore,!1)}}),YP.apply(this,arguments)}function w2(n,e,t){return KP.apply(this,arguments)}function KP(){return KP=(0,ze.Z)(function*(n,e,t){const r=kt(n),i=[],s=[];for(const c of e){let h;const m=r._c.get(c);if(m&&0!==m.length){h=yield my(r.localStore,cs(m[0]));for(const y of m){const b=r.dc.get(y),S=yield Zj(r,b);S.snapshot&&s.push(S.snapshot)}}else{const y=yield KL(r.localStore,c);h=yield my(r.localStore,y),yield PP(r,C2(y),c,!1,h.resumeToken)}i.push(h)}return r.fc.eu(s),i}),KP.apply(this,arguments)}function C2(n){return AF(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Xj(n){const e=kt(n);return kt(kt(e.localStore).persistence).Mi()}function Jj(n,e,t,r){return QP.apply(this,arguments)}function QP(){return QP=(0,ze.Z)(function*(n,e,t,r){const i=kt(n);if(i.Ac)return void gt("SyncEngine","Ignoring unexpected query state notification.");const s=i._c.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const c=yield QL(i.localStore,PF(s[0])),h=Uw.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,ro.EMPTY_BYTE_STRING);yield fd(i,c,h);break}case"rejected":yield _y(i.localStore,e,!0),by(i,e,r);break;default:Gt()}}),QP.apply(this,arguments)}function e4(n,e,t){return XP.apply(this,arguments)}function XP(){return XP=(0,ze.Z)(function*(n,e,t){const r=JP(n);if(r.Ac){for(const i of e){if(r._c.has(i)){gt("SyncEngine","Adding an already active target "+i);continue}const s=yield KL(r.localStore,i),c=yield my(r.localStore,s);yield PP(r,C2(s),c.targetId,!1,c.resumeToken),gT(r.remoteStore,c)}for(const i of t)r._c.has(i)&&(yield _y(r.localStore,i,!1).then(()=>{Jw(r.remoteStore,i),by(r,i)}).catch(rf))}}),XP.apply(this,arguments)}function JP(n){const e=kt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=_2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Wj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Vj.bind(null,e),e.fc.eu=Pj.bind(null,e.eventManager),e.fc.vc=Rj.bind(null,e.eventManager),e}function eR(n){const e=kt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=jj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Hj.bind(null,e),e}class eC{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ze.Z)(function*(){t.serializer=Qw(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return qL(this.persistence,new zL,e.initialUser,this.serializer)}createPersistence(e){return new G1(aT.js,this.serializer)}createSharedClientState(e){return new t2}terminate(){var e=this;return(0,ze.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class tR extends eC{constructor(e,t,r){super(),this.bc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,ze.Z)(function*(){yield t().call(r,e),yield r.bc.initialize(r,e),yield eR(r.bc.syncEngine),yield vy(r.bc.remoteStore),yield r.persistence.pi(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return qL(this.persistence,new zL,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new FL(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new S3(t,this.persistence);return new T3(e.asyncQueue,r)}createPersistence(e){const t=W1(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?qo.withCacheSize(this.cacheSizeBytes):qo.DEFAULT;return new q1(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,r2(),pT(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new t2}}class E2 extends tR{constructor(e,t){super(e,t,!1),this.bc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,ze.Z)(function*(){yield t().call(r,e);const i=r.bc.syncEngine;r.sharedClientState instanceof nP&&(r.sharedClientState.syncEngine={Qr:Kj.bind(null,i),jr:Jj.bind(null,i),zr:e4.bind(null,i),Mi:Xj.bind(null,i),Gr:Yj.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.pi(function(){var s=(0,ze.Z)(function*(c){yield function Qj(n,e){return YP.apply(this,arguments)}(r.bc.syncEngine,c),r.gcScheduler&&(c&&!r.gcScheduler.started?r.gcScheduler.start():c||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(c&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():c||r.indexBackfillerScheduler.stop())});return function(c){return s.apply(this,arguments)}}())})()}createSharedClientState(e){const t=r2();if(!nP.D(t))throw new ct(tt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=W1(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new nP(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class Dy{initialize(e,t){var r=this;return(0,ze.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>y2(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=qj.bind(null,r.syncEngine),yield CP(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Mj}createDatastore(e){const t=Qw(e.databaseInfo.databaseId),r=new fj(e.databaseInfo);return new mj(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,s=h=>y2(this.syncEngine,h,0),c=n2.D()?new n2:new uj,new vj(t,r,i,s,c);var t,r,i,s,c}createSyncEngine(e,t){return function(r,i,s,c,h,m,y){const b=new Lj(r,i,s,c,h,m);return y&&(b.Ac=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ze.Z)(function*(t){const r=kt(t);gt("RemoteStore","RemoteStore shutting down."),r.Au.add(5),yield yy(r),r.vu.shutdown(),r.Pu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function I2(n,e=10240){let t=0;return{read:()=>(0,ze.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,ze.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class _T{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Vc(this.observer.next,e)}error(e){this.observer.error?this.Vc(this.observer.error,e):Fi("Uncaught Error in snapshot listener:",e.toString())}Sc(){this.muted=!0}Vc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class r4{constructor(e,t){this.Dc=e,this.serializer=t,this.metadata=new no,this.buffer=new Uint8Array,this.Cc=new TextDecoder("utf-8"),this.xc().then(r=>{r&&r.Gu()?this.metadata.resolve(r.Ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.Ku)}`))},r=>this.metadata.reject(r))}close(){return this.Dc.cancel()}getMetadata(){var e=this;return(0,ze.Z)(function*(){return e.metadata.promise})()}Pc(){var e=this;return(0,ze.Z)(function*(){return yield e.getMetadata(),e.xc()})()}xc(){var e=this;return(0,ze.Z)(function*(){const t=yield e.Nc();if(null===t)return null;const r=e.Cc.decode(t),i=Number(r);isNaN(i)&&e.kc(`length string (${r}) is not valid number`);const s=yield e.Mc(i);return new Oj(JSON.parse(s),t.length+i)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Nc(){var e=this;return(0,ze.Z)(function*(){for(;e.Oc()<0&&!(yield e.$c()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.kc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Mc(e){var t=this;return(0,ze.Z)(function*(){for(;t.buffer.length<e;)(yield t.$c())&&t.kc("Reached the end of bundle when more is expected.");const r=t.Cc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}kc(e){throw this.Dc.cancel(),new Error(`Invalid bundle format: ${e}`)}$c(){var e=this;return(0,ze.Z)(function*(){const t=yield e.Dc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class i4{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ze.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new ct(tt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,ze.Z)(function*(s,c){const h=kt(s),m=Vw(h.serializer)+"/documents",y={documents:c.map(V=>$w(h.serializer,V))},b=yield h.Ao("BatchGetDocuments",m,y,c.length),S=new Map;b.forEach(V=>{const ne=function D6(n,e){return"found"in e?function(t,r){en(!!r.found);const i=Wc(t,r.found.name),s=Li(r.found.updateTime),c=r.found.createTime?Li(r.found.createTime):rn.min(),h=new Po({mapValue:{fields:r.found.fields}});return ei.newFoundDocument(i,s,c,h)}(n,e):"missing"in e?function(t,r){en(!!r.missing),en(!!r.readTime);const i=Wc(t,r.missing),s=Li(r.readTime);return ei.newNoDocument(i,s)}(n,e):Gt()}(h.serializer,V);S.set(ne.key.toString(),ne)});const P=[];return c.forEach(V=>{const ne=S.get(V.toString());en(!!ne),P.push(ne)}),P}),function(s,c){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new dy(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ze.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const s=Pt.fromPath(i);e.mutations.push(new D1(s,e.precondition(s)))}),yield(r=(0,ze.Z)(function*(i,s){const c=kt(i),h=Vw(c.serializer)+"/documents",m={writes:s.map(y=>jw(c.serializer,y))};yield c.po("Commit",h,m)}),function(i,s){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Gt();t=rn.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new ct(tt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(rn.min())?hi.exists(!1):hi.updateTime(t):hi.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(rn.min()))throw new ct(tt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return hi.updateTime(t)}return hi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class o4{constructor(e,t,r,i,s){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=s,this.Fc=r.maxAttempts,this.Lo=new iP(this.asyncQueue,"transaction_retry")}run(){this.Fc-=1,this.Bc()}Bc(){var e=this;this.Lo.xo((0,ze.Z)(function*(){const t=new i4(e.datastore),r=e.Lc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(s=>{e.qc(s)}))}).catch(i=>{e.qc(i)})}))}Lc(e){try{const t=this.updateFunction(e);return!bw(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}qc(e){this.Fc>0&&this.Uc(e)?(this.Fc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Bc(),Promise.resolve()))):this.deferred.reject(e)}Uc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!YF(t)}return!1}}class s4{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=_o.UNAUTHENTICATED,this.clientId=qN.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,ze.Z)(function*(h){gt("FirestoreClient","Received user=",h.uid),yield s.authCredentialListener(h),s.user=h});return function(h){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>(gt("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,ze.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ct(tt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new no;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ze.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Cy(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function yT(n,e){return nR.apply(this,arguments)}function nR(){return nR=(0,ze.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),gt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,ze.Z)(function*(s){r.isEqual(s)||(yield WL(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),nR.apply(this,arguments)}function rR(n,e){return iR.apply(this,arguments)}function iR(){return iR=(0,ze.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield oR(n);gt("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>u2(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>u2(e.remoteStore,s)),n._onlineComponents=e}),iR.apply(this,arguments)}function b2(n){return"FirebaseError"===n.name?n.code===tt.FAILED_PRECONDITION||n.code===tt.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function oR(n){return sR.apply(this,arguments)}function sR(){return sR=(0,ze.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){gt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield yT(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!b2(t))throw t;el("Error using user provided cache. Falling back to memory cache: "+t),yield yT(n,new eC)}}else gt("FirestoreClient","Using default OfflineComponentProvider"),yield yT(n,new eC);return n._offlineComponents}),sR.apply(this,arguments)}function vT(n){return aR.apply(this,arguments)}function aR(){return aR=(0,ze.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(gt("FirestoreClient","Using user provided OnlineComponentProvider"),yield rR(n,n._uninitializedComponentsProvider._online)):(gt("FirestoreClient","Using default OnlineComponentProvider"),yield rR(n,new Dy))),n._onlineComponents}),aR.apply(this,arguments)}function D2(n){return oR(n).then(e=>e.persistence)}function wT(n){return oR(n).then(e=>e.localStore)}function T2(n){return vT(n).then(e=>e.remoteStore)}function lR(n){return vT(n).then(e=>e.syncEngine)}function Ty(n){return cR.apply(this,arguments)}function cR(){return cR=(0,ze.Z)(function*(n){const e=yield vT(n),t=e.eventManager;return t.onListen=Uj.bind(null,e.syncEngine),t.onUnlisten=Bj.bind(null,e.syncEngine),t}),cR.apply(this,arguments)}function A2(n,e,t={}){const r=new no;return n.asyncQueue.enqueueAndForget((0,ze.Z)(function*(){return function(i,s,c,h,m){const y=new _T({next:S=>{s.enqueueAndForget(()=>TP(i,b));const P=S.docs.has(c);!P&&S.fromCache?m.reject(new ct(tt.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&S.fromCache&&h&&"server"===h.source?m.reject(new ct(tt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(S)},error:S=>m.reject(S)}),b=new xP(ay(c.path),y,{includeMetadataChanges:!0,Uu:!0});return bP(i,b)}(yield Ty(n),n.asyncQueue,e,t,r)})),r.promise}function x2(n,e,t={}){const r=new no;return n.asyncQueue.enqueueAndForget((0,ze.Z)(function*(){return function(i,s,c,h,m){const y=new _T({next:S=>{s.enqueueAndForget(()=>TP(i,b)),S.fromCache&&"server"===h.source?m.reject(new ct(tt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(S)},error:S=>m.reject(S)}),b=new xP(c,y,{includeMetadataChanges:!0,Uu:!0});return bP(i,b)}(yield Ty(n),n.asyncQueue,e,t,r)})),r.promise}const M2=new Map;function uR(n,e,t){if(!t)throw new ct(tt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function P2(n,e,t,r){if(!0===e&&!0===r)throw new ct(tt.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function R2(n){if(!Pt.isDocumentKey(n))throw new ct(tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function O2(n){if(Pt.isDocumentKey(n))throw new ct(tt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function CT(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Gt()}function Xn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ct(tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=CT(n);throw new ct(tt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function k2(n,e){if(e<=0)throw new ct(tt.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class N2{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new ct(tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ct(tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}P2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!this.experimentalForceLongPolling&&void 0!==e.experimentalAutoDetectLongPolling&&!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class tC{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new N2({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ct(tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ct(tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new N2(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new p3;switch(t.type){case"firstParty":return new y3(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new ct(tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=M2.get(e);t&&(gt("ComponentProvider","Removing Datastore"),M2.delete(e),t.terminate())}(this),Promise.resolve()}}class ti{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ti(this.firestore,e,this._key)}}class Ro{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ro(this.firestore,e,this._query)}}class Zc extends Ro{constructor(e,t,r){super(e,t,ay(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ti(this.firestore,null,new Pt(e))}withConverter(e){return new Zc(this.firestore,e,this._path)}}function L2(n,e,...t){if(n=(0,j.m9)(n),uR("collection","path",e),n instanceof tC){const r=er.fromString(e,...t);return O2(r),new Zc(n,null,r)}{if(!(n instanceof ti||n instanceof Zc))throw new ct(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(er.fromString(e,...t));return O2(r),new Zc(n.firestore,null,r)}}function ET(n,e,...t){if(n=(0,j.m9)(n),1===arguments.length&&(e=qN.A()),uR("doc","path",e),n instanceof tC){const r=er.fromString(e,...t);return R2(r),new ti(n,null,new Pt(r))}{if(!(n instanceof ti||n instanceof Zc))throw new ct(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(er.fromString(e,...t));return R2(r),new ti(n.firestore,n instanceof Zc?n.converter:null,new Pt(r))}}function U2(n,e){return n=(0,j.m9)(n),e=(0,j.m9)(e),(n instanceof ti||n instanceof Zc)&&(e instanceof ti||e instanceof Zc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function dR(n,e){return n=(0,j.m9)(n),e=(0,j.m9)(e),n instanceof Ro&&e instanceof Ro&&n.firestore===e.firestore&&Pw(n._query,e._query)&&n.converter===e.converter}class m4{constructor(){this.Kc=Promise.resolve(),this.Gc=[],this.Qc=!1,this.jc=[],this.zc=null,this.Wc=!1,this.Hc=!1,this.Jc=[],this.Lo=new iP(this,"async_queue_retry"),this.Yc=()=>{const t=pT();t&&gt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Lo.ko()};const e=pT();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Yc)}get isShuttingDown(){return this.Qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Xc(),this.Zc(e)}enterRestrictedMode(e){if(!this.Qc){this.Qc=!0,this.Hc=e||!1;const t=pT();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Yc)}}enqueue(e){if(this.Xc(),this.Qc)return new Promise(()=>{});const t=new no;return this.Zc(()=>this.Qc&&this.Hc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Gc.push(e),this.ta()))}ta(){var e=this;return(0,ze.Z)(function*(){if(0!==e.Gc.length){try{yield e.Gc[0](),e.Gc.shift(),e.Lo.reset()}catch(t){if(!sf(t))throw t;gt("AsyncQueue","Operation failed with retryable error: "+t)}e.Gc.length>0&&e.Lo.xo(()=>e.ta())}})()}Zc(e){const t=this.Kc.then(()=>(this.Wc=!0,e().catch(r=>{throw this.zc=r,this.Wc=!1,Fi("INTERNAL UNHANDLED ERROR: ",function(s){let c=s.message||"";return s.stack&&(c=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),c}(r)),r}).then(r=>(this.Wc=!1,r))));return this.Kc=t,t}enqueueAfterDelay(e,t,r){this.Xc(),this.Jc.indexOf(e)>-1&&(t=0);const i=IP.createAndSchedule(this,e,t,r,s=>this.ea(s));return this.jc.push(i),i}Xc(){this.zc&&Gt()}verifyOperationInProgress(){}na(){var e=this;return(0,ze.Z)(function*(){let t;do{t=e.Kc,yield t}while(t!==e.Kc)})()}sa(e){for(const t of this.jc)if(t.timerId===e)return!0;return!1}ia(e){return this.na().then(()=>{this.jc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.jc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.na()})}ra(e){this.Jc.push(e)}ea(e){const t=this.jc.indexOf(e);this.jc.splice(t,1)}}function hR(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class _4{constructor(){this._progressObserver={},this._taskCompletionResolver=new no,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class ni extends tC{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new m4,this._persistenceKey=(null==i?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||B2(this),this._firestoreClient.terminate()}}function Ui(n){return n._firestoreClient||B2(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function B2(n){var e,t,r;const i=n._freezeSettings(),s=(h=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Z3(n._databaseId,h,n._persistenceKey,(y=i).host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,y.useFetchStreams));var h,y;n._firestoreClient=new s4(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(t=i.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function $2(n,e,t){const r=new no;return n.asyncQueue.enqueue((0,ze.Z)(function*(){try{yield yT(n,t),yield rR(n,e),r.resolve()}catch(i){const s=i;if(!b2(s))throw s;el("Error enabling indexeddb cache. Falling back to memory cache: "+s),r.reject(s)}})).then(()=>r.promise)}function V2(n){if(n._initialized||n._terminated)throw new ct(tt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Yc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yc(ro.fromBase64String(e))}catch(t){throw new ct(tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Yc(ro.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class pd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new ct(tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ng{constructor(e){this._methodName=e}}class IT{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ct(tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ct(tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Pn(this._lat,e._lat)||Pn(this._long,e._long)}}const A4=/^__.*__$/;class x4{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new dd(e,this.data,this.fieldMask,t,this.fieldTransforms):new uy(e,this.data,t,this.fieldTransforms)}}class j2{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new dd(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function H2(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Gt()}}class bT{constructor(e,t,r,i,s,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.oa(),this.fieldTransforms=s||[],this.fieldMask=c||[]}get path(){return this.settings.path}get ua(){return this.settings.ua}ca(e){return new bT(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}aa(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ca({path:r,ha:!1});return i.la(e),i}fa(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ca({path:r,ha:!1});return i.oa(),i}da(e){return this.ca({path:void 0,ha:!0})}_a(e){return ST(e,this.settings.methodName,this.settings.wa||!1,this.path,this.settings.ma)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}oa(){if(this.path)for(let e=0;e<this.path.length;e++)this.la(this.path.get(e))}la(e){if(0===e.length)throw this._a("Document fields must not be empty");if(H2(this.ua)&&A4.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class M4{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Qw(e)}ga(e,t,r,i=!1){return new bT({ua:e,methodName:t,ma:r,path:xi.emptyPath(),ha:!1,wa:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Fg(n){const e=n._freezeSettings(),t=Qw(n._databaseId);return new M4(n._databaseId,!!e.ignoreUndefinedProperties,t)}function DT(n,e,t,r,i,s={}){const c=n.ga(s.merge||s.mergeFields?2:0,e,t,i);mR("Data must be an object, but it was:",c,r);const h=q2(r,c);let m,y;if(s.merge)m=new Ls(c.fieldMask),y=c.fieldTransforms;else if(s.mergeFields){const b=[];for(const S of s.mergeFields){const P=iC(e,S,t);if(!c.contains(P))throw new ct(tt.INVALID_ARGUMENT,`Field '${P}' is specified in your field mask but missing from your input data.`);Z2(b,P)||b.push(P)}m=new Ls(b),y=c.fieldTransforms.filter(S=>m.covers(S.field))}else m=null,y=c.fieldTransforms;return new x4(new Po(h),m,y)}class rC extends Ng{_toFieldTransform(e){if(2!==e.ua)throw e._a(1===e.ua?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof rC}}function G2(n,e,t){return new bT({ua:3,ma:e.settings.ma,methodName:n._methodName,ha:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class fR extends Ng{_toFieldTransform(e){return new Nw(e.path,new ly)}isEqual(e){return e instanceof fR}}class P4 extends Ng{constructor(e,t){super(e),this.ya=t}_toFieldTransform(e){const t=G2(this,e,!0),r=this.ya.map(s=>Lg(s,t)),i=new Tg(r);return new Nw(e.path,i)}isEqual(e){return this===e}}class R4 extends Ng{constructor(e,t){super(e),this.ya=t}_toFieldTransform(e){const t=G2(this,e,!0),r=this.ya.map(s=>Lg(s,t)),i=new Sg(r);return new Nw(e.path,i)}isEqual(e){return this===e}}class O4 extends Ng{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=new cy(e.serializer,UF(e.serializer,this.pa));return new Nw(e.path,t)}isEqual(e){return this===e}}function pR(n,e,t,r){const i=n.ga(1,e,t);mR("Data must be an object, but it was:",i,r);const s=[],c=Po.empty();af(r,(m,y)=>{const b=TT(e,m,t);y=(0,j.m9)(y);const S=i.fa(b);if(y instanceof rC)s.push(b);else{const P=Lg(y,S);null!=P&&(s.push(b),c.set(b,P))}});const h=new Ls(s);return new j2(c,h,i.fieldTransforms)}function gR(n,e,t,r,i,s){const c=n.ga(1,e,t),h=[iC(e,r,t)],m=[i];if(s.length%2!=0)throw new ct(tt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let P=0;P<s.length;P+=2)h.push(iC(e,s[P])),m.push(s[P+1]);const y=[],b=Po.empty();for(let P=h.length-1;P>=0;--P)if(!Z2(y,h[P])){const V=h[P];let ne=m[P];ne=(0,j.m9)(ne);const Ne=c.fa(V);if(ne instanceof rC)y.push(V);else{const Xe=Lg(ne,Ne);null!=Xe&&(y.push(V),b.set(V,Xe))}}const S=new Ls(y);return new j2(b,S,c.fieldTransforms)}function z2(n,e,t,r=!1){return Lg(t,n.ga(r?4:3,e))}function Lg(n,e){if(W2(n=(0,j.m9)(n)))return mR("Unsupported field value:",e,n),q2(n,e);if(n instanceof Ng)return function(t,r){if(!H2(r.ua))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ha&&4!==e.ua)throw e._a("Nested arrays are not supported");return function(t,r){const i=[];let s=0;for(const c of t){let h=Lg(c,r.da(s));null==h&&(h={nullValue:"NULL_VALUE"}),i.push(h),s++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,j.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return UF(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=di.fromDate(t);return{timestampValue:hy(r.serializer,i)}}if(t instanceof di){const i=new di(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:hy(r.serializer,i)}}if(t instanceof IT)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Yc)return{bytesValue:oL(r.serializer,t._byteString)};if(t instanceof ti){const i=r.databaseId,s=t.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:R1(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${CT(t)}`)}(n,e)}function q2(n,e){const t={};return aF(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):af(n,(r,i)=>{const s=Lg(i,e.aa(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function W2(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof di||n instanceof IT||n instanceof Yc||n instanceof ti||n instanceof Ng)}function mR(n,e,t){if(!W2(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=CT(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function iC(n,e,t){if((e=(0,j.m9)(e))instanceof pd)return e._internalPath;if("string"==typeof e)return TT(n,e);throw ST("Field path arguments must be of type string or ",n,!1,void 0,t)}const k4=new RegExp("[~\\*/\\[\\]]");function TT(n,e,t){if(e.search(k4)>=0)throw ST(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new pd(...e.split("."))._internalPath}catch{throw ST(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function ST(n,e,t,r,i){const s=r&&!r.isEmpty(),c=void 0!==i;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let m="";return(s||c)&&(m+=" (found",s&&(m+=` in field ${r}`),c&&(m+=` in document ${i}`),m+=")"),new ct(tt.INVALID_ARGUMENT,h+n+m)}function Z2(n,e){return n.some(t=>t.isEqual(e))}class oC{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ti(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new N4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(AT("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class N4 extends oC{data(){return super.data()}}function AT(n,e){return"string"==typeof e?TT(n,e):e instanceof pd?e._internalPath:e._delegate._internalPath}function Y2(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new ct(tt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _R{}class sC extends _R{}function wf(n,e,...t){let r=[];e instanceof _R&&r.push(e),r=r.concat(t),function(i){const s=i.filter(h=>h instanceof Sy).length,c=i.filter(h=>h instanceof aC).length;if(s>1||s>0&&c>0)throw new ct(tt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class aC extends sC{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new aC(e,t,r)}_apply(e){const t=this._parse(e);return J2(e._query,t),new Ro(e.firestore,e.converter,E1(e._query,t))}_parse(e){const t=Fg(e.firestore);return function(i,s,c,h,m,y,b){let S;if(m.isKeyField()){if("array-contains"===y||"array-contains-any"===y)throw new ct(tt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if("in"===y||"not-in"===y){X2(b,y);const P=[];for(const V of b)P.push(Q2(h,i,V));S={arrayValue:{values:P}}}else S=Q2(h,i,b)}else"in"!==y&&"not-in"!==y&&"array-contains-any"!==y||X2(b,y),S=z2(c,"where",b,"in"===y||"not-in"===y);return Qn.create(m,y,S)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Sy extends _R{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Sy(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:Tr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let s=r;const c=i.getFlattenedFilters();for(const h of c)J2(s,h),s=E1(s,h)}(e._query,t),new Ro(e.firestore,e.converter,E1(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class yR extends sC{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new yR(e,t)}_apply(e){const t=function(r,i,s){if(null!==r.startAt)throw new ct(tt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new ct(tt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new oy(i,s);return function(h,m){if(null===w1(h)){const y=qD(h);null!==y&&eU(0,y,m.field)}}(r,c),c}(e._query,this._field,this._direction);return new Ro(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new cd(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class xT extends sC{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new xT(e,t,r)}_apply(e){return new Ro(e.firestore,e.converter,WD(e._query,this._limit,this._limitType))}}class MT extends sC{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new MT(e,t,r)}_apply(e){const t=K2(e,this.type,this._docOrFields,this._inclusive);return new Ro(e.firestore,e.converter,(i=t,new cd((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class PT extends sC{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new PT(e,t,r)}_apply(e){const t=K2(e,this.type,this._docOrFields,this._inclusive);return new Ro(e.firestore,e.converter,(i=t,new cd((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function K2(n,e,t,r){if(t[0]=(0,j.m9)(t[0]),t[0]instanceof oC)return function(i,s,c,h,m){if(!h)throw new ct(tt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const y=[];for(const b of Dg(i))if(b.field.isKeyField())y.push(Ig(s,h.key));else{const S=h.data.field(b.field);if(BD(S))throw new ct(tt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+b.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===S){const P=b.field.canonicalString();throw new ct(tt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${P}' (used as the orderBy) does not exist.`)}y.push(S)}return new ff(y,m)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Fg(n.firestore);return function(s,c,h,m,y,b){const S=s.explicitOrderBy;if(y.length>S.length)throw new ct(tt.INVALID_ARGUMENT,`Too many arguments provided to ${m}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const P=[];for(let V=0;V<y.length;V++){const ne=y[V];if(S[V].field.isKeyField()){if("string"!=typeof ne)throw new ct(tt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${m}(), but got a ${typeof ne}`);if(!C1(s)&&-1!==ne.indexOf("/"))throw new ct(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${m}() must be a plain document ID, but '${ne}' contains a slash.`);const Ne=s.path.child(er.fromString(ne));if(!Pt.isDocumentKey(Ne))throw new ct(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${m}() must result in a valid document path, but '${Ne}' is not because it contains an odd number of segments.`);const Xe=new Pt(Ne);P.push(Ig(c,Xe))}else{const Ne=z2(h,m,ne);P.push(Ne)}}return new ff(P,b)}(n._query,n.firestore._databaseId,i,e,t,r)}}function Q2(n,e,t){if("string"==typeof(t=(0,j.m9)(t))){if(""===t)throw new ct(tt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!C1(e)&&-1!==t.indexOf("/"))throw new ct(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(er.fromString(t));if(!Pt.isDocumentKey(r))throw new ct(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ig(n,new Pt(r))}if(t instanceof ti)return Ig(n,t._key);throw new ct(tt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${CT(t)}.`)}function X2(n,e){if(!Array.isArray(n)||0===n.length)throw new ct(tt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function J2(n,e){if(e.isInequality()){const r=qD(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new ct(tt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=w1(n);null!==s&&eU(0,i,s)}const t=function(r,i){for(const s of r)for(const c of s.getFlattenedFilters())if(i.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new ct(tt.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function eU(n,e,t){if(!t.isEqual(e))throw new ct(tt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class vR{convertValue(e,t="none"){switch(df(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ld(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Gt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return af(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new IT(Mi(e.latitude),Mi(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=$D(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Tw(e));default:return null}}convertTimestamp(e){const t=lf(e);return new di(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=er.fromString(e);en(gL(r));const i=new cf(r.get(1),r.get(3)),s=new Pt(r.popFirst(5));return i.isEqual(t)||Fi(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function RT(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class G4 extends vR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ti(this.firestore,null,t)}}class Ug{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class gd extends oC{constructor(e,t,r,i,s,c){super(e,t,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new lC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(AT("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class lC extends gd{data(e={}){return super.data(e)}}class Cf{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Ug(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new lC(this._firestore,this._userDataWriter,r.key,r,new Ug(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ct(tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new lC(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Ug(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>i||3!==c.type).map(c=>{const h=new lC(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Ug(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let m=-1,y=-1;return 0!==c.type&&(m=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),1!==c.type&&(s=s.add(c.doc),y=s.indexOf(c.doc.key)),{type:q4(c.type),doc:h,oldIndex:m,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function q4(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Gt()}}function nU(n,e){return n instanceof gd&&e instanceof gd?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Cf&&e instanceof Cf&&n._firestore===e._firestore&&dR(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Ef extends vR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ti(this.firestore,null,t)}}function rU(n,e,t){n=Xn(n,ti);const r=Xn(n.firestore,ni),i=RT(n.converter,e,t);return Ay(r,[DT(Fg(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,hi.none())])}function iU(n,e,t,...r){n=Xn(n,ti);const i=Xn(n.firestore,ni),s=Fg(i);let c;return c="string"==typeof(e=(0,j.m9)(e))||e instanceof pd?gR(s,"updateDoc",n._key,e,t,r):pR(s,"updateDoc",n._key,e),Ay(i,[c.toMutation(n._key,hi.exists(!0))])}function oU(n,...e){var t,r,i;n=(0,j.m9)(n);let s={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||hR(e[c])||(s=e[c],c++);const h={includeMetadataChanges:s.includeMetadataChanges};if(hR(e[c])){const S=e[c];e[c]=null===(t=S.next)||void 0===t?void 0:t.bind(S),e[c+1]=null===(r=S.error)||void 0===r?void 0:r.bind(S),e[c+2]=null===(i=S.complete)||void 0===i?void 0:i.bind(S)}let m,y,b;if(n instanceof ti)y=Xn(n.firestore,ni),b=ay(n._key.path),m={next:S=>{e[c]&&e[c](wR(y,n,S))},error:e[c+1],complete:e[c+2]};else{const S=Xn(n,Ro);y=Xn(S.firestore,ni),b=S._query;const P=new Ef(y);m={next:V=>{e[c]&&e[c](new Cf(y,P,S,V))},error:e[c+1],complete:e[c+2]},Y2(n._query)}return function(S,P,V,ne){const Ne=new _T(ne),Xe=new xP(P,Ne,V);return S.asyncQueue.enqueueAndForget((0,ze.Z)(function*(){return bP(yield Ty(S),Xe)})),()=>{Ne.Sc(),S.asyncQueue.enqueueAndForget((0,ze.Z)(function*(){return TP(yield Ty(S),Xe)}))}}(Ui(y),b,h,m)}function Ay(n,e){return function(t,r){const i=new no;return t.asyncQueue.enqueueAndForget((0,ze.Z)(function*(){return function $j(n,e,t){return kP.apply(this,arguments)}(yield lR(t),r,i)})),i.promise}(Ui(n),e)}function wR(n,e,t){const r=t.docs.get(e._key),i=new Ef(n);return new gd(n,i,e._key,r,new Ug(t.hasPendingWrites,t.fromCache),e.converter)}const uH={maxAttempts:5};class sU{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Fg(e)}set(e,t,r){this._verifyNotCommitted();const i=If(e,this._firestore),s=RT(i.converter,t,r),c=DT(this._dataReader,"WriteBatch.set",i._key,s,null!==i.converter,r);return this._mutations.push(c.toMutation(i._key,hi.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const s=If(e,this._firestore);let c;return c="string"==typeof(t=(0,j.m9)(t))||t instanceof pd?gR(this._dataReader,"WriteBatch.update",s._key,t,r,i):pR(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(c.toMutation(s._key,hi.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=If(e,this._firestore);return this._mutations=this._mutations.concat(new dy(t._key,hi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ct(tt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function If(n,e){if((n=(0,j.m9)(n)).firestore!==e)throw new ct(tt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class dH extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Fg(e)}get(e){const t=If(e,this._firestore),r=new G4(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return Gt();const s=i[0];if(s.isFoundDocument())return new oC(this._firestore,r,s.key,s,t.converter);if(s.isNoDocument())return new oC(this._firestore,r,t._key,null,t.converter);throw Gt()})}set(e,t,r){const i=If(e,this._firestore),s=RT(i.converter,t,r),c=DT(this._dataReader,"Transaction.set",i._key,s,null!==i.converter,r);return this._transaction.set(i._key,c),this}update(e,t,r,...i){const s=If(e,this._firestore);let c;return c="string"==typeof(t=(0,j.m9)(t))||t instanceof pd?gR(this._dataReader,"Transaction.update",s._key,t,r,i):pR(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,c),this}delete(e){const t=If(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=If(e,this._firestore),r=new Ef(this._firestore);return super.get(e).then(i=>new gd(this._firestore,r,t._key,i._document,new Ug(!1,!1),t.converter))}}!function(n,e=!0){ty=gr.SDK_VERSION,(0,gr._registerComponent)(new da.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const s=t.getProvider("app").getImmediate(),c=new ni(new m3(t.getProvider("auth-internal")),new v3(t.getProvider("app-check-internal")),function(h,m){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new ct(tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cf(h.options.projectId,m)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),c._setSettings(i),c},"PUBLIC").setMultipleInstances(!0)),(0,gr.registerVersion)(HN,"3.11.0",n),(0,gr.registerVersion)(HN,"3.11.0","esm2017")}();function CR(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new ct("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function lU(){if(typeof Uint8Array>"u")throw new ct("unimplemented","Uint8Arrays are not available in this environment.")}function cU(){if(!function q3(){return typeof atob<"u"}())throw new ct("unimplemented","Blobs are unavailable in Firestore in this environment.")}class cC{constructor(e){this._delegate=e}static fromBase64String(e){return cU(),new cC(Yc.fromBase64String(e))}static fromUint8Array(e){return lU(),new cC(Yc.fromUint8Array(e))}toBase64(){return cU(),this._delegate.toBase64()}toUint8Array(){return lU(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function ER(n){return function wH(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class CH{enableIndexedDbPersistence(e,t){return function v4(n,e){V2(n=Xn(n,ni));const t=Ui(n);if(t._uninitializedComponentsProvider)throw new ct(tt.FAILED_PRECONDITION,"SDK cache is already specified.");el("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),i=new Dy;return $2(t,i,new tR(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function w4(n){V2(n=Xn(n,ni));const e=Ui(n);if(e._uninitializedComponentsProvider)throw new ct(tt.FAILED_PRECONDITION,"SDK cache is already specified.");el("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),r=new Dy;return $2(e,r,new E2(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function C4(n){if(n._initialized&&!n._terminated)throw new ct(tt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new no;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ze.Z)(function*(){try{yield(t=(0,ze.Z)(function*(r){if(!zl.D())return Promise.resolve();const i=r+"main";yield zl.delete(i)}),function(r){return t.apply(this,arguments)})(W1(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class uU{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof cf||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&el("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function F2(n,e,t,r={}){var i;const s=(n=Xn(n,tC))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&el("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let c,h;if("string"==typeof r.mockUserToken)c=r.mockUserToken,h=_o.MOCK_USER;else{c=(0,j.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new ct(tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new _o(m)}n._authCredentials=new g3(new GN(c,h))}}(this._delegate,e,t,r)}enableNetwork(){return function I4(n){return function a4(n){return n.asyncQueue.enqueue((0,ze.Z)(function*(){const e=yield D2(n),t=yield T2(n);return e.setNetworkEnabled(!0),function(r){const i=kt(r);return i.Au.delete(0),Xw(i)}(t)}))}(Ui(n=Xn(n,ni)))}(this._delegate)}disableNetwork(){return function b4(n){return function l4(n){return n.asyncQueue.enqueue((0,ze.Z)(function*(){const e=yield D2(n),t=yield T2(n);return e.setNetworkEnabled(!1),(r=(0,ze.Z)(function*(i){const s=kt(i);s.Au.add(0),yield yy(s),s.Pu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(Ui(n=Xn(n,ni)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,P2("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function E4(n){return function(e){const t=new no;return e.asyncQueue.enqueueAndForget((0,ze.Z)(function*(){return function Gj(n,e){return BP.apply(this,arguments)}(yield lR(e),t)})),t.promise}(Ui(n=Xn(n,ni)))}(this._delegate)}onSnapshotsInSync(e){return function tH(n,e){return function d4(n,e){const t=new _T(e);return n.asyncQueue.enqueueAndForget((0,ze.Z)(function*(){return r=yield Ty(n),i=t,kt(r).Nu.add(i),void i.next();var r,i})),()=>{t.Sc(),n.asyncQueue.enqueueAndForget((0,ze.Z)(function*(){return r=yield Ty(n),i=t,void kt(r).Nu.delete(i);var r,i}))}}(Ui(n=Xn(n,ni)),hR(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new ct("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new xy(this,L2(this._delegate,e))}catch(t){throw us(t,"collection()","Firestore.collection()")}}doc(e){try{return new tl(this,ET(this._delegate,e))}catch(t){throw us(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ds(this,function g4(n,e){if(n=Xn(n,tC),uR("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ct(tt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ro(n,null,(t=e,new cd(er.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw us(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function hH(n,e,t){n=Xn(n,ni);const r=Object.assign(Object.assign({},uH),t);return function(i){if(i.maxAttempts<1)throw new ct(tt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,s,c){const h=new no;return i.asyncQueue.enqueueAndForget((0,ze.Z)(function*(){const m=yield function S2(n){return vT(n).then(e=>e.datastore)}(i);new o4(i.asyncQueue,m,c,s,h).run()})),h.promise}(Ui(n),i=>e(new dH(n,i)),r)}(this._delegate,t=>e(new dU(this,t)))}batch(){return Ui(this._delegate),new hU(new sU(this._delegate,e=>Ay(this._delegate,e)))}loadBundle(e){return function D4(n,e){const t=Ui(n=Xn(n,ni)),r=new _4;return function h4(n,e,t,r){const i=function(s,c){let h;return h="string"==typeof s?QF().encode(s):s,m=function(m,y){if(m instanceof Uint8Array)return I2(m,y);if(m instanceof ArrayBuffer)return I2(new Uint8Array(m),y);if(m instanceof ReadableStream)return m.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new r4(m,c);var m}(t,Qw(e));n.asyncQueue.enqueueAndForget((0,ze.Z)(function*(){!function t4(n,e,t){const r=kt(n);var i;(i=(0,ze.Z)(function*(s,c,h){try{const m=yield c.getMetadata();if(yield function(P,V){const ne=kt(P),Ne=Li(V.createTime);return ne.persistence.runTransaction("hasNewerBundle","readonly",Xe=>ne.Ls.getBundleMetadata(Xe,V.id)).then(Xe=>!!Xe&&Xe.createTime.compareTo(Ne)>=0)}(s.localStore,m))return yield c.close(),h._completeWith({taskState:"Success",documentsLoaded:(P=m).totalDocuments,bytesLoaded:P.totalBytes,totalDocuments:P.totalDocuments,totalBytes:P.totalBytes}),Promise.resolve(new Set);h._updateProgress(f2(m));const y=new kj(m,s.localStore,c.serializer);let b=yield c.Pc();for(;b;){const P=yield y.ju(b);P&&h._updateProgress(P),b=yield c.Pc()}const S=yield y.complete();return yield fd(s,S.Hu,void 0),yield function(P,V){const ne=kt(P);return ne.persistence.runTransaction("Save bundle","readwrite",Ne=>ne.Ls.saveBundleMetadata(Ne,V))}(s.localStore,m),h._completeWith(S.progress),Promise.resolve(S.Wu)}catch(m){return el("SyncEngine",`Loading bundle failed with ${m}`),h._failWith(m),Promise.resolve(new Set)}var P}),function(s,c,h){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield lR(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function T4(n,e){return function f4(n,e){return n.asyncQueue.enqueue((0,ze.Z)(function*(){return function(t,r){const i=kt(t);return i.persistence.runTransaction("Get named query","readonly",s=>i.Ls.getNamedQuery(s,r))}(yield wT(n),e)}))}(Ui(n=Xn(n,ni)),e).then(t=>t?new Ro(n,null,t.query):null)}(this._delegate,e).then(t=>t?new ds(this,t):null)}}class OT extends vR{constructor(e){super(),this.firestore=e}convertBytes(e){return new cC(new Yc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return tl.forKey(t,this.firestore,null)}}class dU{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new OT(e)}get(e){const t=$g(e);return this._delegate.get(t).then(r=>new uC(this._firestore,new gd(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=$g(e);return r?(CR("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=$g(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=$g(e);return this._delegate.delete(t),this}}class hU{constructor(e){this._delegate=e}set(e,t,r){const i=$g(e);return r?(CR("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=$g(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=$g(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Bg{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new lC(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new dC(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Bg.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(t);return s||(s=new Bg(e,new OT(e),t),i.set(t,s)),s}}Bg.INSTANCES=new WeakMap;class tl{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new OT(e)}static forPath(e,t,r){if(e.length%2!=0)throw new ct("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new tl(t,new ti(t._delegate,r,new Pt(e)))}static forKey(e,t,r){return new tl(t,new ti(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new xy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new xy(this.firestore,L2(this._delegate,e))}catch(t){throw us(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,j.m9)(e))instanceof ti&&U2(this._delegate,e)}set(e,t){t=CR("DocumentReference.set",t);try{return t?rU(this._delegate,e,t):rU(this._delegate,e)}catch(r){throw us(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?iU(this._delegate,e):iU(this._delegate,e,t,...r)}catch(i){throw us(i,"updateDoc()","DocumentReference.update()")}}delete(){return function J4(n){return Ay(Xn(n.firestore,ni),[new dy(n._key,hi.none())])}(this._delegate)}onSnapshot(...e){const t=fU(e),r=pU(e,i=>new uC(this.firestore,new gd(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return oU(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function Z4(n){n=Xn(n,ti);const e=Xn(n.firestore,ni),t=Ui(e),r=new Ef(e);return function c4(n,e){const t=new no;return n.asyncQueue.enqueueAndForget((0,ze.Z)(function*(){return(r=(0,ze.Z)(function*(i,s,c){try{const h=yield function(m,y){const b=kt(m);return b.persistence.runTransaction("read document","readonly",S=>b.localDocuments.getDocument(S,y))}(i,s);h.isFoundDocument()?c.resolve(h):h.isNoDocument()?c.resolve(null):c.reject(new ct(tt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const m=Cy(h,`Failed to get document '${s} from cache`);c.reject(m)}}),function(i,s,c){return r.apply(this,arguments)})(yield wT(n),e,t);var r})),t.promise}(t,n._key).then(i=>new gd(e,r,n._key,i,new Ug(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function Y4(n){n=Xn(n,ti);const e=Xn(n.firestore,ni);return A2(Ui(e),n._key,{source:"server"}).then(t=>wR(e,n,t))}(this._delegate):function W4(n){n=Xn(n,ti);const e=Xn(n.firestore,ni);return A2(Ui(e),n._key).then(t=>wR(e,n,t))}(this._delegate),t.then(r=>new uC(this.firestore,new gd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new tl(this.firestore,this._delegate.withConverter(e?Bg.getInstance(this.firestore,e):null))}}function us(n,e,t){return n.message=n.message.replace(e,t),n}function fU(n){for(const e of n)if("object"==typeof e&&!ER(e))return e;return{}}function pU(n,e){var t,r;let i;return i=ER(n[0])?n[0]:ER(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{i.next&&i.next(e(s))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class uC{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new tl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return nU(this._delegate,e._delegate)}}class dC extends uC{data(e){const t=this._delegate.data(e);return function f3(n,e){n||Gt()}(void 0!==t),t}}class ds{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new OT(e)}where(e,t,r){try{return new ds(this.firestore,wf(this._delegate,function F4(n,e,t){const r=e,i=AT("where",n);return aC._create(i,r,t)}(e,t,r)))}catch(i){throw us(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new ds(this.firestore,wf(this._delegate,function L4(n,e="asc"){const t=e,r=AT("orderBy",n);return yR._create(r,t)}(e,t)))}catch(r){throw us(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ds(this.firestore,wf(this._delegate,function U4(n){return k2("limit",n),xT._create("limit",n,"F")}(e)))}catch(t){throw us(t,"limit()","Query.limit()")}}limitToLast(e){try{return new ds(this.firestore,wf(this._delegate,function B4(n){return k2("limitToLast",n),xT._create("limitToLast",n,"L")}(e)))}catch(t){throw us(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ds(this.firestore,wf(this._delegate,function $4(...n){return MT._create("startAt",n,!0)}(...e)))}catch(t){throw us(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ds(this.firestore,wf(this._delegate,function V4(...n){return MT._create("startAfter",n,!1)}(...e)))}catch(t){throw us(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ds(this.firestore,wf(this._delegate,function j4(...n){return PT._create("endBefore",n,!1)}(...e)))}catch(t){throw us(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ds(this.firestore,wf(this._delegate,function H4(...n){return PT._create("endAt",n,!0)}(...e)))}catch(t){throw us(t,"endAt()","Query.endAt()")}}isEqual(e){return dR(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function Q4(n){n=Xn(n,Ro);const e=Xn(n.firestore,ni),t=Ui(e),r=new Ef(e);return function u4(n,e){const t=new no;return n.asyncQueue.enqueueAndForget((0,ze.Z)(function*(){return(r=(0,ze.Z)(function*(i,s,c){try{const h=yield uT(i,s,!0),m=new m2(s,h.sr),y=m.nc(h.documents),b=m.applyChanges(y,!1);c.resolve(b.snapshot)}catch(h){const m=Cy(h,`Failed to execute query '${s} against cache`);c.reject(m)}}),function(i,s,c){return r.apply(this,arguments)})(yield wT(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Cf(e,r,n,i))}(this._delegate):"server"===(null==e?void 0:e.source)?function X4(n){n=Xn(n,Ro);const e=Xn(n.firestore,ni),t=Ui(e),r=new Ef(e);return x2(t,n._query,{source:"server"}).then(i=>new Cf(e,r,n,i))}(this._delegate):function K4(n){n=Xn(n,Ro);const e=Xn(n.firestore,ni),t=Ui(e),r=new Ef(e);return Y2(n._query),x2(t,n._query).then(i=>new Cf(e,r,n,i))}(this._delegate),t.then(r=>new IR(this.firestore,new Cf(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=fU(e),r=pU(e,i=>new IR(this.firestore,new Cf(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return oU(this._delegate,t,r)}withConverter(e){return new ds(this.firestore,this._delegate.withConverter(e?Bg.getInstance(this.firestore,e):null))}}class IH{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new dC(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class IR{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ds(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new dC(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new IH(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new dC(this._firestore,r))})}isEqual(e){return nU(this._delegate,e._delegate)}}class xy extends ds{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new tl(this.firestore,e):null}doc(e){try{return new tl(this.firestore,void 0===e?ET(this._delegate):ET(this._delegate,e))}catch(t){throw us(t,"doc()","CollectionReference.doc()")}}add(e){return function eH(n,e){const t=Xn(n.firestore,ni),r=ET(n),i=RT(n.converter,e);return Ay(t,[DT(Fg(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,hi.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new tl(this.firestore,t))}isEqual(e){return U2(this._delegate,e._delegate)}withConverter(e){return new xy(this.firestore,this._delegate.withConverter(e?Bg.getInstance(this.firestore,e):null))}}function $g(n){return Xn(n,ti)}class bR{constructor(...e){this._delegate=new pd(...e)}static documentId(){return new bR(xi.keyField().canonicalString())}isEqual(e){return(e=(0,j.m9)(e))instanceof pd&&this._delegate._internalPath.isEqual(e._internalPath)}}class Vg{constructor(e){this._delegate=e}static serverTimestamp(){const e=function pH(){return new fR("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Vg(e)}static delete(){const e=function fH(){return new rC("deleteField")}();return e._methodName="FieldValue.delete",new Vg(e)}static arrayUnion(...e){const t=function gH(...n){return new P4("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Vg(t)}static arrayRemove(...e){const t=function mH(...n){return new R4("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Vg(t)}static increment(e){const t=function _H(n){return new O4("increment",n)}(e);return t._methodName="FieldValue.increment",new Vg(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const bH={Firestore:uU,GeoPoint:IT,Timestamp:di,Blob:cC,Transaction:dU,WriteBatch:hU,DocumentReference:tl,DocumentSnapshot:uC,Query:ds,QueryDocumentSnapshot:dC,QuerySnapshot:IR,CollectionReference:xy,FieldPath:bR,FieldValue:Vg,setLogLevel:function EH(n){!function h3(n){nf.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function TH(n){(function DH(n,e){n.INTERNAL.registerComponent(new da.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},bH)))})(n,(e,t)=>new uU(e,t,new CH)),n.registerVersion("@firebase/firestore-compat","0.3.8")}(nd.Z);var DR=R(6451),kT=R(5363),SH=R(6063);class AH extends yi.x{constructor(e=1/0,t=1/0,r=SH.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:c}=this;t||(r.push(e),!i&&r.push(s.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let c=0;c<s.length&&!e.closed;c+=r?1:2)e.next(s[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){const c=t.now();let h=0;for(let m=1;m<r.length&&r[m]<=c;m+=2)h=m;h&&r.splice(0,h+1)}}}var gU=R(3099);function mU(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=null!=n?n:1/0,(0,gU.B)({connector:()=>new AH(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function _U(n,e){return(0,Bo.m)(e)?ur(()=>n,e):ur(()=>n)}var TR=R(9468);R(259);const AR=new Map,vU={activated:!1,tokenObservers:[]},OH={initialized:!1,enabled:!1};function Pi(n){return AR.get(n)||Object.assign({},vU)}function FT(){return OH}const xR="https://content-firebaseappcheck.googleapis.com/v1",LH="exchangeDebugToken",wU={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class BH{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ze.Z)(function*(){t.stop();try{t.pending=new j.BH,yield function $H(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new j.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Oo=new j.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function RR(){return RR=(0,ze.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const S=yield i.getHeartbeatsHeader();S&&(r["X-Firebase-Client"]=S)}const s={method:"POST",body:JSON.stringify(e),headers:r};let c,h;try{c=yield fetch(n,s)}catch(S){throw Oo.create("fetch-network-error",{originalErrorMessage:null==S?void 0:S.message})}if(200!==c.status)throw Oo.create("fetch-status-error",{httpStatus:c.status});try{h=yield c.json()}catch(S){throw Oo.create("fetch-parse-error",{originalErrorMessage:null==S?void 0:S.message})}const m=h.ttl.match(/^([\d.]+)(s)$/);if(!m||!m[2]||isNaN(Number(m[1])))throw Oo.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${h.ttl}`});const y=1e3*Number(m[1]),b=Date.now();return{token:h.token,expireTimeMillis:b+y,issuedAtTimeMillis:b}}),RR.apply(this,arguments)}const GH="firebase-app-check-database",zH=1,hC="firebase-app-check-store";let $T=null;function OR(){return OR=(0,ze.Z)(function*(n,e){const r=(yield function IU(){return $T||($T=new Promise((n,e)=>{try{const t=indexedDB.open(GH,zH);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Oo.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(hC,{keyPath:"compositeKey"})}}catch(t){e(Oo.create("storage-open",{originalErrorMessage:null==t?void 0:t.message}))}}),$T)}()).transaction(hC,"readwrite"),s=r.objectStore(hC).put({compositeKey:n,value:e});return new Promise((c,h)=>{s.onsuccess=m=>{c()},r.onerror=m=>{var y;h(Oo.create("storage-set",{originalErrorMessage:null===(y=m.target.error)||void 0===y?void 0:y.message}))}})}),OR.apply(this,arguments)}const fC=new po.Yd("@firebase/app-check");function FR(n,e){return(0,j.hl)()?function WH(n,e){return function bU(n,e){return OR.apply(this,arguments)}(function TU(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{fC.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function $R(){return $R=(0,ze.Z)(function*(){const n=FT();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),$R.apply(this,arguments)}const JH={error:"UNKNOWN_ERROR"};function eG(n){return j.US.encodeString(JSON.stringify(n),!1)}function VT(n){return VR.apply(this,arguments)}function VR(){return VR=(0,ze.Z)(function*(n,e=!1){const t=n.app;!function MR(n){if(!Pi(n).activated)throw Oo.create("use-before-activation",{appName:n.name})}(t);const r=Pi(t);let s,i=r.token;if(i&&!My(i)&&(r.token=void 0,i=void 0),!i){const m=yield r.cachedTokenPromise;m&&(My(m)?i=m:yield FR(t,void 0))}if(!e&&i&&My(i))return{token:i.token};let h,c=!1;if(function UR(){return FT().enabled}()){r.exchangeTokenPromise||(r.exchangeTokenPromise=function BT(n,e){return RR.apply(this,arguments)}(function CU(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${xR}/projects/${t}/apps/${r}:${LH}?key=${i}`,body:{debug_token:e}}}(t,yield function BR(){return $R.apply(this,arguments)}()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),c=!0);const m=yield r.exchangeTokenPromise;return yield FR(t,m),r.token=m,{token:m.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),c=!0),i=yield Pi(t).exchangeTokenPromise}catch(m){"appCheck/throttled"===m.code?fC.warn(m.message):fC.error(m),s=m}return i?s?h=My(i)?{token:i.token,internalError:s}:xU(s):(h={token:i.token},r.token=i,yield FR(t,i)):h=xU(s),c&&function AU(n,e){const t=Pi(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,h),h}),VR.apply(this,arguments)}function GR(n,e){const t=Pi(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function SU(n){const{app:e}=n,t=Pi(e);let r=t.tokenRefresher;r||(r=function nG(n){const{app:e}=n;return new BH((0,ze.Z)(function*(){let r;if(r=Pi(e).token?yield VT(n,!0):yield VT(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Pi(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},wU.RETRIAL_MIN_WAIT,wU.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function My(n){return n.expireTimeMillis-Date.now()>0}function xU(n){return{token:eG(JH),error:n}}class rG{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Pi(this.app);for(const t of e)GR(this.app,t.next);return Promise.resolve()}}const LU="app-check-internal";!function _G(){(0,gr._registerComponent)(new da.wA("app-check",n=>function iG(n,e){return new rG(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(LU).initialize()})),(0,gr._registerComponent)(new da.wA(LU,n=>function oG(n){return{getToken:e=>VT(n,e),addTokenListener:e=>function HR(n,e,t,r){const{app:i}=n,s=Pi(i);if(s.tokenObservers=[...s.tokenObservers,{next:t,error:r,type:e}],s.token&&My(s.token)){const h=s.token;Promise.resolve().then(()=>{t({token:h.token}),SU(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>SU(n))}(n,"INTERNAL",e),removeTokenListener:e=>GR(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,gr.registerVersion)("@firebase/app-check","0.7.0")}();class pC{constructor(){return(0,sr.vb)("app-check")}}typeof window<"u"&&window;var HT=R(9260);const YR=new a.OlP("angularfire2.auth.use-emulator"),KR=new a.OlP("angularfire2.auth.settings"),QR=new a.OlP("angularfire2.auth.tenant-id"),XR=new a.OlP("angularfire2.auth.langugage-code"),JR=new a.OlP("angularfire2.auth.use-device-language"),eO=new a.OlP("angularfire.auth.persistence"),tO=(n,e,t,r,i,s,c,h)=>(0,Ai.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const m=e.runOutsideAngular(()=>n.auth());if(t&&m.useEmulator(...t),r&&(m.tenantId=r),m.languageCode=i,s&&m.useDeviceLanguage(),c)for(const[y,b]of Object.entries(c))m.settings[y]=b;return h&&m.setPersistence(h),m},[t,r,i,s,c,h]);let gC=(()=>{class n{constructor(t,r,i,s,c,h,m,y,b,S,P,V){const ne=new yi.x,Ne=Nt(void 0).pipe((0,kT.Q)(c.outsideAngular),ur(()=>s.runOutsideAngular(()=>Promise.resolve().then(R.bind(R,9568)))),(0,Vt.U)(()=>(0,Ai.on)(t,s,r)),(0,Vt.U)(Xe=>tO(Xe,s,h,y,b,S,m,P)),mU({bufferSize:1,refCount:!1}));if(wa(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Nt(null);else{Ne.pipe(Io()).subscribe();const ut=Ne.pipe(ur(Mt=>Mt.getRedirectResult().then(Sn=>Sn,()=>null)),sr.iC,mU({bufferSize:1,refCount:!1})),xt=Ne.pipe(ur(Mt=>new si.y(Sn=>({unsubscribe:s.runOutsideAngular(()=>Mt.onAuthStateChanged(Gn=>Sn.next(Gn),Gn=>Sn.error(Gn),()=>Sn.complete()))})))),yt=Ne.pipe(ur(Mt=>new si.y(Sn=>({unsubscribe:s.runOutsideAngular(()=>Mt.onIdTokenChanged(Gn=>Sn.next(Gn),Gn=>Sn.error(Gn),()=>Sn.complete()))}))));this.authState=ut.pipe(_U(xt),(0,TR.R)(c.outsideAngular),(0,kT.Q)(c.insideAngular)),this.user=ut.pipe(_U(yt),(0,TR.R)(c.outsideAngular),(0,kT.Q)(c.insideAngular)),this.idToken=this.user.pipe(ur(Mt=>Mt?(0,Vn.D)(Mt.getIdToken()):Nt(null))),this.idTokenResult=this.user.pipe(ur(Mt=>Mt?(0,Vn.D)(Mt.getIdTokenResult()):Nt(null))),this.credential=(0,DR.T)(ut,ne,this.authState.pipe(ki(Mt=>!Mt))).pipe((0,Vt.U)(Mt=>null!=Mt&&Mt.user?Mt:null),(0,TR.R)(c.outsideAngular),(0,kT.Q)(c.insideAngular))}return(0,Ai.pX)(this,Ne,s,{spy:{apply:(Xe,ut,xt)=>{(Xe.startsWith("signIn")||Xe.startsWith("createUser"))&&xt.then(yt=>ne.next(yt))}}})}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Ai.Dh),a.LFG(Ai.xv,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(sr.HU),a.LFG(YR,8),a.LFG(KR,8),a.LFG(QR,8),a.LFG(XR,8),a.LFG(JR,8),a.LFG(eO,8),a.LFG(pC,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),IG=(()=>{class n{constructor(){HT.Z.registerVersion("angularfire",sr.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[gC]}),n})();function BU(n,e){return function bG(n,e=U0.z){return new si.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function nO(n,e){return BU(n,e).pipe((0,Vt.U)(t=>({payload:t,type:"query"})))}function GT(n,e){return nO(n,e).pipe(Na(void 0),Wb(),(0,Vt.U)(([t,r])=>{const i=r.payload.docChanges(),s=i.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((c,h)=>{const m=i.find(b=>b.doc.ref.isEqual(c.ref)),y=null==t?void 0:t.payload.docs.find(b=>b.ref.isEqual(c.ref));m&&JSON.stringify(m.doc.metadata)===JSON.stringify(c.metadata)||!m&&y&&JSON.stringify(y.metadata)===JSON.stringify(c.metadata)||s.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:c}})}),s}))}function $U(n,e,t){return GT(n,t).pipe(La((r,i)=>function TG(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function SG(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return rO(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return rO(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return rO(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(s=>s.payload),e),[]),n_(),(0,Vt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function rO(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function VU(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class jU{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=GT(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Vt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(Na(void 0),Wb(),ki(([r,i])=>i.length>0||!r),(0,Vt.U)(([r,i])=>i),sr.iC)}auditTrail(e){return this.stateChanges(e).pipe(La((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=VU(e);return $U(this.query,t,this.afs.schedulers.outsideAngular).pipe(sr.iC)}valueChanges(e={}){return nO(this.query,this.afs.schedulers.outsideAngular).pipe((0,Vt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),sr.iC)}get(e){return(0,Vn.D)(this.query.get(e)).pipe(sr.iC)}add(e){return this.ref.add(e)}doc(e){return new HU(this.ref.doc(e),this.afs)}}class HU{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:s}=qU(r,t);return new jU(i,s,this.afs)}snapshotChanges(){return function DG(n,e){return BU(n,e).pipe(Na(void 0),Wb(),(0,Vt.U)(([t,r])=>r.exists?null!=t&&t.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(sr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Vt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Vn.D)(this.ref.get(e)).pipe(sr.iC)}}class AG{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?GT(this.query,this.afs.schedulers.outsideAngular).pipe((0,Vt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),ki(t=>t.length>0),sr.iC):GT(this.query,this.afs.schedulers.outsideAngular).pipe(sr.iC)}auditTrail(e){return this.stateChanges(e).pipe(La((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=VU(e);return $U(this.query,t,this.afs.schedulers.outsideAngular).pipe(sr.iC)}valueChanges(e={}){return nO(this.query,this.afs.schedulers.outsideAngular).pipe((0,Vt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),sr.iC)}get(e){return(0,Vn.D)(this.query.get(e)).pipe(sr.iC)}}const GU=new a.OlP("angularfire2.enableFirestorePersistence"),zU=new a.OlP("angularfire2.firestore.persistenceSettings"),xG=new a.OlP("angularfire2.firestore.settings"),MG=new a.OlP("angularfire2.firestore.use-emulator");function qU(n,e=(t=>t)){return{query:e(n),ref:n}}let iO=(()=>{class n{constructor(t,r,i,s,c,h,m,y,b,S,P,V,ne,Ne,Xe,ut,xt){this.schedulers=m;const yt=(0,Ai.on)(t,h,r),Mt=b;S&&tO(yt,h,P,ne,Ne,Xe,V,ut),[this.firestore,this.persistenceEnabled$]=(0,Ai.cc)(`${yt.name}.firestore`,"AngularFirestore",yt.name,()=>{const Sn=h.runOutsideAngular(()=>yt.firestore());if(s&&Sn.settings(s),Mt&&Sn.useEmulator(...Mt),i&&!wa(c)){const Gn=()=>{try{return(0,Vn.D)(Sn.enablePersistence(y||void 0).then(()=>!0,()=>!1))}catch(io){return typeof console<"u"&&console.warn(io),Nt(!1)}};return[Sn,h.runOutsideAngular(Gn)]}return[Sn,Nt(!1)]},[s,Mt,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:s,query:c}=qU(i,r),h=this.schedulers.ngZone.run(()=>s);return new jU(h,c,this)}collectionGroup(t,r){const i=r||(c=>c),s=this.firestore.collectionGroup(t);return new AG(i(s),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new HU(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Ai.Dh),a.LFG(Ai.xv,8),a.LFG(GU,8),a.LFG(xG,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(sr.HU),a.LFG(zU,8),a.LFG(MG,8),a.LFG(gC,8),a.LFG(YR,8),a.LFG(KR,8),a.LFG(QR,8),a.LFG(XR,8),a.LFG(JR,8),a.LFG(eO,8),a.LFG(pC,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),PG=(()=>{class n{constructor(){HT.Z.registerVersion("angularfire",sr.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:GU,useValue:!0},{provide:zU,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[iO]}),n})();function Py(n){console.log("ERROR",n),n instanceof Error?console.error(`Rut Ro!\nLooks like there was an error!\n${n.message}`):console.error(`Something went HORRIBLY wrong!\n${n}`)}const zT="/profile";let bf=(()=>{class n{constructor(t,r,i,s){this.AngularFirestore=t,this.AngularFireAuth=r,this.Router=i,this.NgZone=s,this.AngularFireAuth.authState.subscribe(c=>{if(!c)return localStorage.removeItem("user");this.AngularFirestore.doc(`users/${null==c?void 0:c.uid}`).valueChanges().subscribe(m=>{if(!m)return localStorage.removeItem("user");localStorage.setItem("user",JSON.stringify(m))})})}ngOnInit(){}get isLoggedIn(){return null!==this.userData}get userData(){const t=localStorage.getItem("user");return t?JSON.parse(t):null}SignIn(t,r){var i=this;return(0,ze.Z)(function*(){try{const s=yield i.AngularFireAuth.signInWithEmailAndPassword(t,r);i.SetUserData(s.user),i.AngularFireAuth.authState.subscribe(c=>{console.log("LOGINED IN USER",c),c&&i.Router.navigate([zT])})}catch(s){Py(s)}})()}SignUp(t,r,i){var s=this;return(0,ze.Z)(function*(){try{var c;const h=yield s.AngularFireAuth.createUserWithEmailAndPassword(t,r);i&&(yield null===(c=h.user)||void 0===c?void 0:c.updateProfile(i)),s.SendVerificationMail(),s.SetUserData(h.user)}catch(h){Py(h)}})()}startRecentSignIn(){var t=this;return(0,ze.Z)(function*(){const r=yield t.AngularFireAuth.currentUser;r&&(yield r.reauthenticateWithPopup(new L0.V))})()}changeEmail(t){var r=this;return(0,ze.Z)(function*(){const i=yield r.AngularFireAuth.currentUser;i&&(yield i.updateEmail(t).catch(s=>{"auth/requires-recent-login"===s.code?r.startRecentSignIn():"auth/email-already-in-use"===s.code&&alert("Email already in use")}),r.SetUserData(i))})()}updateCurrentUser(t){var r=this;return(0,ze.Z)(function*(){const{email:i,...s}=t;try{const c=yield r.AngularFireAuth.currentUser;if(!c)return;const h=r.AngularFirestore.doc(`users/${c.uid}`);s&&(yield h.update(s),yield c.updateProfile(s)),i&&(yield r.changeEmail(i)),r.SetUserData(c)}catch(c){Py(c)}})()}SetUserData(t){var r=this;return(0,ze.Z)(function*(){return t?yield r.AngularFirestore.doc(`users/${t.uid}`).set({displayName:t.displayName,email:t.email,photoURL:t.photoURL,emailVerified:t.emailVerified,uid:t.uid},{merge:!0}):void 0})()}SendVerificationMail(){var t=this;return(0,ze.Z)(function*(){return t.AngularFireAuth.currentUser.then(r=>null==r?void 0:r.sendEmailVerification()).then(()=>{t.Router.navigate([zT])})})()}ForgotPassword(t){var r=this;return(0,ze.Z)(function*(){return r.AngularFireAuth.sendPasswordResetEmail(t).then(()=>{alert("Password reset email sent, check your inbox.")}).catch(i=>{Py(i)})})()}SignOut(){var t=this;return(0,ze.Z)(function*(){return yield t.AngularFireAuth.signOut().then(()=>{localStorage.removeItem("user"),t.Router.navigate([zT])})})()}GoogleAuth(){var t=this;return(0,ze.Z)(function*(){try{yield t.AuthLogin(new L0.V)}catch(r){Py(r)}})()}AuthLogin(t){var r=this;return(0,ze.Z)(function*(){return yield r.AngularFireAuth.signInWithPopup(t).then(i=>{if(!i.user)throw new Error("No user returned from Google Auth");if(!i.user.email)throw new Error("No email returned from Google Auth");r.SetUserData(i.user),r.Router.navigate([zT])}).catch(i=>{Py(i)})})()}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(iO),a.LFG(gC),a.LFG(Di),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function RG(n,e){if(1&n&&(a.TgZ(0,"ion-list-header"),a._uU(1),a.qZA()),2&n){const t=a.oxw();a.xp6(1),a.Oqu(null==t.authService.userData?null:t.authService.userData.displayName)}}function OG(n,e){if(1&n&&(a.TgZ(0,"ion-note"),a._uU(1),a.qZA()),2&n){const t=a.oxw();a.xp6(1),a.Oqu(null==t.authService.userData?null:t.authService.userData.email)}}const oO=function(n){return[n]};function kG(n,e){if(1&n&&(a.TgZ(0,"ion-item",10),a._UZ(1,"ion-icon",11),a.TgZ(2,"ion-label"),a._uU(3),a.qZA()()),2&n){const t=e.$implicit;a.Q6J("routerLink",a.VKq(3,oO,t.url)),a.xp6(1),a.Q6J("name",t.icon+"-outline"),a.xp6(2),a.Oqu(t.title)}}function NG(n,e){if(1&n&&(a.TgZ(0,"ion-item",12),a._UZ(1,"ion-icon",13),a.TgZ(2,"ion-label"),a._uU(3),a.qZA()()),2&n){const t=e.$implicit;a.Q6J("routerLink",a.VKq(4,oO,t.url)),a.xp6(1),a.Q6J("src",!!t.src&&"/assets/"+t.src)("name",!!t.icon&&t.icon),a.xp6(2),a.Oqu(t.title)}}function FG(n,e){if(1&n&&(a.TgZ(0,"ion-item",12)(1,"ion-label"),a._uU(2),a.qZA()()),2&n){const t=e.$implicit;a.Q6J("routerLink",a.VKq(2,oO,t.url)),a.xp6(2),a.Oqu(t.title)}}let LG=(()=>{class n{constructor(t,r){this.ApiCallService=t,this.authService=r,this.appPages=[{title:"Profile haha",url:"/profile",icon:"person"},{title:"Movies",url:"/movies",icon:"film"}],this.categories=[{title:"Popular",url:"movies/popular",icon:"sparkles"},{title:"Family",url:"movies/genre/Family",icon:"people"},{title:"Action",url:"movies/genre/Action",src:"../assets/icon/gun.svg"},{title:"Comedy",url:"movies/genre/Comedy",src:"../assets/icon/laugh.svg"},{title:"Horror",url:"movies/genre/Horror",icon:"skull"},{title:"Fantasy",url:"movies/genre/Fantasy",src:"../assets/icon/dragon-head.svg"},{title:"Drama",url:"movies/genre/Drama",src:"../assets/icon/drama-masks.svg"}],this.bookmarks=["Harry Potter","Lord of the Rings","Avengers","Pirates of the Caribbean","Jurassic Park","Back to the Future"]}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(td),a.Y36(bf))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-root"]],decls:18,vars:5,consts:[["contentId","main-content"],["contentId","main-content","type","overlay"],["id","inbox-list"],[4,"ngIf"],["auto-hide","false"],["routerDirection","root","lines","none","detail","false","routerLinkActive","selected",3,"routerLink",4,"ngFor","ngForOf"],["id","categories-list"],["routerDirection","root","lines","none",3,"routerLink",4,"ngFor","ngForOf"],["id","history-list"],["id","main-content"],["routerDirection","root","lines","none","detail","false","routerLinkActive","selected",3,"routerLink"],["aria-hidden","true","slot","start",3,"name"],["routerDirection","root","lines","none",3,"routerLink"],["aria-hidden","true","slot","start",3,"src","name"]],template:function(t,r){1&t&&(a.TgZ(0,"ion-app")(1,"ion-split-pane",0)(2,"ion-menu",1)(3,"ion-content")(4,"ion-list",2),a.YNc(5,RG,2,1,"ion-list-header",3),a.YNc(6,OG,2,1,"ion-note",3),a.TgZ(7,"ion-menu-toggle",4),a.YNc(8,kG,4,5,"ion-item",5),a.qZA()(),a.TgZ(9,"ion-list",6)(10,"ion-menu-toggle",4),a.YNc(11,NG,4,6,"ion-item",7),a.qZA()(),a.TgZ(12,"ion-list",8)(13,"ion-note"),a._uU(14,"Recently Viewed"),a.qZA(),a.TgZ(15,"ion-menu-toggle",4),a.YNc(16,FG,3,4,"ion-item",7),a.qZA()()()(),a._UZ(17,"ion-router-outlet",9),a.qZA()()),2&t&&(a.xp6(5),a.Q6J("ngIf",null==r.authService.userData?null:r.authService.userData.displayName),a.xp6(1),a.Q6J("ngIf",null==r.authService.userData?null:r.authService.userData.email),a.xp6(2),a.Q6J("ngForOf",r.appPages),a.xp6(3),a.Q6J("ngForOf",r.categories),a.xp6(5),a.Q6J("ngForOf",r.categories))},dependencies:[Vi,H,d0,ks,Vl,Fc,Ku,p0,Gp,g0,lb,cb,zh,Yp,b0,Sh,DA],styles:["ion-menu[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--background: var(--ion-item-background, var(--ion-background-color, #fff))}ion-menu.md[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%], ion-menu.ios[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--padding-start: 8px;--padding-end: 8px;--padding-top: 20px;--padding-bottom: 20px}ion-menu.md[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%], ion-menu.ios[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{padding:20px 0}ion-menu.md[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%], ion-menu.md[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%], ion-menu.ios[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%], ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{padding-left:10px}ion-menu.md[_ngcontent-%COMP%]   ion-list[id*=-list][_ngcontent-%COMP%], ion-menu.ios[_ngcontent-%COMP%]   ion-list[id*=-list][_ngcontent-%COMP%]{border-bottom:1px solid var(--ion-color-step-100, #d7d8da)}ion-menu.md[_ngcontent-%COMP%]   ion-list[id*=-list][_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%], ion-menu.ios[_ngcontent-%COMP%]   ion-list[id*=-list][_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{font-size:16px;font-weight:600;min-height:20px;color:#757575}ion-menu.md[_ngcontent-%COMP%]   ion-list[id*=-list][_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%], ion-menu.ios[_ngcontent-%COMP%]   ion-list[id*=-list][_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-start: 10px;--padding-end: 10px;border-radius:4px}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%], ion-menu.ios[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--min-height: 25px}ion-menu.md[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%], ion-menu.ios[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]{--background: rgba(var(--ion-color-primary-rgb), .14)}ion-menu.md[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%], ion-menu.ios[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-primary)}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%], ion-menu.ios[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#616e7e}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%], ion-menu.ios[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-weight:500}"]}),n})();const UG=function(n){return{paginatorSelectClass:n,"":!0}};function BG(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"p",5),a.NdJ("click",function(){const s=a.CHM(t).$implicit,c=a.oxw();return a.KtG(c.paginatorSelect(s))}),a._uU(1),a.qZA()}if(2&n){const t=e.$implicit;a.Q6J("ngClass",a.VKq(2,UG,1===t)),a.xp6(1),a.hij(" ",t," ")}}let WU=(()=>{class n{constructor(t){this.ApiCallService=t,this.childToParent=new a.vpe,this.setPageNum=0}ngOnInit(){this.sendToParent(1)}sendToParent(t){this.setPageNum=t,this.childToParent.emit(t)}backArrow(){var t;this.setPageNum>1&&(this.paginatorSelect(this.setPageNum-1),null===(t=this.scrollElement)||void 0===t||t.scrollTo(35*(Number(this.setPageNum)-1),0))}forwardArrow(){var t,r;this.totalPageNum&&this.setPageNum<(null===(t=this.totalPageNum)||void 0===t?void 0:t.length)&&(this.paginatorSelect(this.setPageNum+1),null===(r=this.scrollElement)||void 0===r||r.scrollTo(35*(Number(this.setPageNum)-1),0))}paginatorSelect(t){this.totalPageNum&&this.setPageNum!==t&&(this.setPageNum=Number(t),document.querySelectorAll(".paginatorNum").forEach(r=>{r.classList.remove("paginatorSelectClass")}),document.getElementsByClassName("paginatorNum")[Number(t)-1].classList.add("paginatorSelectClass"),this.sendToParent(t),this.scrollElement=document.getElementById("paginatorScroll")||void 0)}showPopularMovies(t){return this.ApiCallService.getPopularMovies(t).subscribe(r=>{this.moviesArr=r.results})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(td))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-paginator"]],inputs:{pageLength:"pageLength",pageNumVar:"pageNumVar",totalPageNum:"totalPageNum",showMovies:"showMovies",moviesArr:"moviesArr"},outputs:{childToParent:"childToParent"},decls:9,vars:1,consts:[[1,"paginator"],[1,"arrow",3,"click"],["size","8"],["id","paginatorScroll",1,"innerNum"],["class","paginatorNum",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"paginatorNum",3,"ngClass","click"]],template:function(t,r){1&t&&(a.TgZ(0,"ion-grid",0)(1,"ion-row")(2,"ion-col",1),a.NdJ("click",function(){return r.backArrow()}),a._uU(3,"<"),a.qZA(),a.TgZ(4,"ion-col",2)(5,"div",3),a.YNc(6,BG,2,4,"p",4),a.qZA()(),a.TgZ(7,"ion-col",1),a.NdJ("click",function(){return r.forwardArrow()}),a._uU(8,">"),a.qZA()()()),2&t&&(a.xp6(6),a.Q6J("ngForOf",r.totalPageNum))},dependencies:[an,Vi,ib,Px,jx],styles:["@media (prefers-color-scheme: dark){.paginator[_ngcontent-%COMP%]{outline:1px solid var(--ion-color-dark);background-color:var(--ion-color-light)}}@media (prefers-color-scheme: light){.paginator[_ngcontent-%COMP%]{background-color:var(--ion-color-light)}}.paginator[_ngcontent-%COMP%]{transform:scale(1.3);position:fixed;bottom:2vh;width:35%;right:35%;border-radius:40px}.innerNum[_ngcontent-%COMP%]{position:relative;margin:0;padding:0;display:flex;overflow:scroll;align-items:center}.innerNum[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;padding:0 5px}.innerNum[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.paginatorSelectClass[_ngcontent-%COMP%]{border-radius:5px;background-color:var(--ion-color-secondary)}.paginatorNum[_ngcontent-%COMP%]{display:flex;justify-content:center;min-width:35px}.paginatorNum[_ngcontent-%COMP%]:hover, .arrow[_ngcontent-%COMP%]:hover{cursor:pointer}.paginator[_ngcontent-%COMP%]  ion-col{display:flex;justify-content:center}"]}),n})();function $G(n,e){if(1&n&&a._UZ(0,"ion-img",9),2&n){const t=a.oxw(2).$implicit,r=a.oxw();a.s9C("src",r.urlStart+t.poster_path)}}function VG(n,e){if(1&n&&(a.TgZ(0,"p",10),a._uU(1),a.qZA()),2&n){const t=a.oxw(2).$implicit;a.xp6(1),a.hij(" ",t.title," ")}}function jG(n,e){if(1&n&&(a.TgZ(0,"a",6),a.YNc(1,$G,1,1,"ion-img",7),a.YNc(2,VG,2,1,"p",8),a.qZA()),2&n){const t=a.oxw().$implicit;a.MGl("href","movies/films/",t.id,"",a.LSH),a.xp6(1),a.Q6J("ngIf",null!==t.poster_path),a.xp6(1),a.Q6J("ngIf",null===t.poster_path)}}function HG(n,e){if(1&n&&a._UZ(0,"ion-img",9),2&n){const t=a.oxw(2).$implicit,r=a.oxw();a.s9C("src",r.urlStart+t.poster_path)}}function GG(n,e){if(1&n&&(a.TgZ(0,"p",10),a._uU(1),a.qZA()),2&n){const t=a.oxw(2).$implicit;a.xp6(1),a.hij(" ",t.title," ")}}function zG(n,e){if(1&n&&(a.TgZ(0,"div"),a.YNc(1,HG,1,1,"ion-img",7),a.YNc(2,GG,2,1,"p",8),a.qZA()),2&n){const t=a.oxw().$implicit;a.xp6(1),a.Q6J("ngIf",null!==t.poster_path),a.xp6(1),a.Q6J("ngIf",null===t.poster_path)}}function qG(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",2,3),a.NdJ("click",function(){a.CHM(t);const i=a.MAs(1),s=a.oxw();return a.KtG(s.clickAnim(i))}),a.YNc(2,jG,3,3,"a",4),a.YNc(3,zG,3,2,"div",5),a.qZA()}if(2&n){const t=a.oxw();a.xp6(2),a.Q6J("ngIf",t.anchorTag),a.xp6(1),a.Q6J("ngIf",!t.anchorTag)}}function WG(n,e){1&n&&a._UZ(0,"ion-skeleton-text",13),2&n&&a.Q6J("animated",!0)}function ZG(n,e){if(1&n&&(a.TgZ(0,"div",11),a.YNc(1,WG,1,1,"ion-skeleton-text",12),a.qZA()),2&n){const t=a.oxw();a.xp6(1),a.Q6J("ngForOf",t.ifEmpty)}}let mC=(()=>{class n{constructor(){this.movieList=[],this.anchorTag=!1,this.urlStart="https://image.tmdb.org/t/p/w500"}clickAnim(t){t.classList.add("clickAnimClass"),t.addEventListener("animationend",()=>{t.classList.remove("clickAnimClass")})}ngOnInit(){this.ifEmpty=void 0===this.movieList?new Array(20).fill(0):[]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-movie-poster"]],inputs:{movieList:"movieList",anchorTag:"anchorTag"},decls:2,vars:2,consts:[["class","popularMovieCard",3,"click",4,"ngFor","ngForOf"],["class","loadingImages",4,"ngIf"],[1,"popularMovieCard",3,"click"],["movieCard",""],[3,"href",4,"ngIf"],[4,"ngIf"],[3,"href"],[3,"src",4,"ngIf"],["class","noImage",4,"ngIf"],[3,"src"],[1,"noImage"],[1,"loadingImages"],["class","skeletonMovieCard",3,"animated",4,"ngFor","ngForOf"],[1,"skeletonMovieCard",3,"animated"]],template:function(t,r){1&t&&(a.YNc(0,qG,4,2,"div",0),a.YNc(1,ZG,2,1,"div",1)),2&t&&(a.Q6J("ngForOf",r.movieList),a.xp6(1),a.Q6J("ngIf",null==r.movieList))},dependencies:[Vi,H,f0,m0],styles:["@keyframes _ngcontent-%COMP%_clickAnimMD{0%{transform:translateY(0);outline-color:var(--ion-border-color)}50%{transform:translateY(-5px);outline-color:var(--ion-color-step-200)}to{transform:translateY(0);outline-color:var(--ion-border-color)}}@keyframes _ngcontent-%COMP%_clickAnimIOS{0%{transform:translateY(0)}50%{transform:translateY(-5px)}to{transform:translateY(0)}}.noHover[_nghost-%COMP%]   .popularMovieCard[_ngcontent-%COMP%]:hover{transform:translateY(0)}.flex[_nghost-%COMP%]{display:flex;justify-content:space-around;flex-flow:row wrap}[_nghost-%COMP%]:not(.noClick)   .popularMovieCard[_ngcontent-%COMP%]:has(.ios).clickAnimClass{animation:_ngcontent-%COMP%_clickAnimIOS .25s}[_nghost-%COMP%]:not(.noClick)   .popularMovieCard[_ngcontent-%COMP%]:has(.md).clickAnimClass{animation:_ngcontent-%COMP%_clickAnimMD .25s}.list[_nghost-%COMP%]{display:flex;flex-flow:row nowrap;overflow:scroll;width:900vw}.list[_nghost-%COMP%]   .popularMovieCard[_ngcontent-%COMP%]{margin:10px;width:30%}[_nghost-%COMP%]   .popularMovieCard[_ngcontent-%COMP%]:has(.noImage){box-shadow:inset 5px 5px 6px #0000002b;background-color:#fff;display:flex;justify-content:center;align-items:center}[_nghost-%COMP%]   .popularMovieCard[_ngcontent-%COMP%]:has(.noImage)   a[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;text-align:center;width:100%;height:100%;color:var(--ion-color-step-600);text-decoration:none}[_nghost-%COMP%]   .popularMovieCard[_ngcontent-%COMP%]:hover{outline-color:var(--ion-color-step-200)}[_nghost-%COMP%]   .popularMovieCard[_ngcontent-%COMP%]{overflow:hidden;transition:.2s;width:40%;border-radius:5px;margin:2% 0}[_nghost-%COMP%]   .popularMovieCard[_ngcontent-%COMP%]:hover{transition:.2s;cursor:pointer;transform:translateY(-5px)}@media (prefers-color-scheme: dark){.flex[_nghost-%COMP%]{display:flex;justify-content:space-around;flex-flow:row wrap}.flex[_nghost-%COMP%]   .loadingImages[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;justify-content:space-around}.outline[_nghost-%COMP%]   .popularMovieCard[_ngcontent-%COMP%]{outline:3px solid var(--ion-border-color)}.outline[_nghost-%COMP%]   .popularMovieCard[_ngcontent-%COMP%]:hover{outline-color:var(--ion-color-step-200)}.list[_nghost-%COMP%]{display:flex;flex-flow:row nowrap;overflow:scroll;width:900vw}.list[_nghost-%COMP%]   .popularMovieCard[_ngcontent-%COMP%]{margin:10px;width:30%}.list[_nghost-%COMP%]   .loadingImages[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;overflow:scroll;width:900vw}[_nghost-%COMP%]:not(.noClick)   .popularMovieCard[_ngcontent-%COMP%]:has(.ios).clickAnimClass{animation:clickAnimIOS .25s}[_nghost-%COMP%]:not(.noClick)   .popularMovieCard[_ngcontent-%COMP%]:has(.md).clickAnimClass{animation:clickAnimMD .25s}[_nghost-%COMP%]   .popularMovieCard[_ngcontent-%COMP%]:has(.noImage){box-shadow:inset 5px 5px 6px #0000002b;background-color:var(--ion-border-color);display:flex;justify-content:center;align-items:center}[_nghost-%COMP%]   .popularMovieCard[_ngcontent-%COMP%]:has(.noImage)   a[_ngcontent-%COMP%]{color:var(--ion-color-step-600);text-decoration:none}[_nghost-%COMP%]   .skeletonMovieCard[_ngcontent-%COMP%]{aspect-ratio:2/3;width:40vw;border-radius:5px}.popularMovieCard[_ngcontent-%COMP%]{overflow:hidden;transition:.2s;width:40%;border-radius:5px;margin:2% 0}.popularMovieCard[_ngcontent-%COMP%]:hover{transition:.2s;cursor:pointer;transform:translateY(-5px)}}@media (min-width: 768px){.list[_nghost-%COMP%]{width:350vw}.list[_nghost-%COMP%]   .popularMovieCard[_ngcontent-%COMP%]{width:15%}.flex[_nghost-%COMP%]   .popularMovieCard[_ngcontent-%COMP%]{width:30%}}@media (min-width: 1200px){.flex[_nghost-%COMP%]{display:flex;justify-content:space-around;flex-flow:row wrap}.flex[_nghost-%COMP%]   .popularMovieCard[_ngcontent-%COMP%]{width:23%}.flex[_nghost-%COMP%]   .loadingImages[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;justify-content:space-around}.list[_nghost-%COMP%]{padding-bottom:30px;width:200vw}[_nghost-%COMP%]   .popularMovieCard[_ngcontent-%COMP%]{transition:.2s}[_nghost-%COMP%]   .popularMovieCard[_ngcontent-%COMP%]:hover{transition:.2s;cursor:pointer;transform:translateY(-5px);outline-color:var(--ion-color-step-200)}}"]}),n})();function YG(n,e){1&n&&a._UZ(0,"ion-menu-button")}function KG(n,e){if(1&n&&(a.TgZ(0,"ion-header",2)(1,"ion-toolbar")(2,"ion-buttons",3),a.YNc(3,YG,1,0,"ion-menu-button",4),a.qZA(),a.TgZ(4,"ion-title"),a._uU(5),a.qZA(),a.TgZ(6,"a",5),a._UZ(7,"ion-icon",6),a.qZA()()()),2&n){const t=a.oxw();a.Q6J("translucent",!0),a.xp6(3),a.Q6J("ngIf",t.menuIcon),a.xp6(2),a.Oqu(t.headerTitle)}}function QG(n,e){if(1&n&&(a.TgZ(0,"ion-header",7)(1,"ion-toolbar")(2,"ion-title",8),a._uU(3),a.qZA()()()),2&n){const t=a.oxw();a.xp6(3),a.Oqu(t.headerTitle)}}let Ry=(()=>{class n{constructor(){}ngOnInit(){void 0===this.contentChild&&(this.contentChild=!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-page-header"]],inputs:{headerTitle:"headerTitle",menuIcon:"menuIcon",contentChild:"contentChild"},decls:2,vars:2,consts:[["class","headerTest",3,"translucent",4,"ngIf"],["collapse","condense","class","headerTest",4,"ngIf"],[1,"headerTest",3,"translucent"],["slot","start"],[4,"ngIf"],["href","/movieSearch","slot","end"],["name","search-outline",1,"searchIcon"],["collapse","condense",1,"headerTest"],["size","large"]],template:function(t,r){1&t&&(a.YNc(0,KG,8,3,"ion-header",0),a.YNc(1,QG,4,1,"ion-header",1)),2&t&&(a.Q6J("ngIf",!r.contentChild),a.xp6(1),a.Q6J("ngIf",r.contentChild))},dependencies:[H,Os,Nc,Vl,zp,Qu,Xu],styles:["[_nghost-%COMP%]   a[_ngcontent-%COMP%]{transform:scale(1.3);margin-right:3%}"]}),n})();const XG=["child"];let ZU=(()=>{class n{constructor(t){this.ApiCallService=t,this.popularMovies=[],this.pageNumVar=1,this.totalNumSend=[]}ngAfterViewInit(){}ionInfiniteTest(){this.pageNumVar++,this.showPopularMovies(this.pageNumVar)}clickAnim(t){t.classList.add("clickAnimClass"),t.addEventListener("animationend",()=>{t.classList.remove("clickAnimClass")})}showPopularMovies(t){this.ApiCallService.getPopularMovies(t).subscribe(r=>{this.popularMovies=r.results,this.totalNumSend=r.total_pages>500?new Array(500).fill(0).map((i,s)=>s+1):new Array(r.total_pages).fill(0).map((i,s)=>s+1)})}childToParent(t){this.showPopularMovies(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(td))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-popular-page"]],viewQuery:function(t,r){if(1&t&&a.Gf(XG,5),2&t){let i;a.iGM(i=a.CRH())&&(r.child=i.first)}},decls:8,vars:8,consts:[["headerTitle","Popular Movies",3,"menuIcon"],[3,"fullscreen"],["headerTitle","Popular Movies",3,"contentChild"],[1,"popularMoviesSection"],[1,"flex","outline",3,"movieList","anchorTag"],[3,"pageNumVar","totalPageNum","moviesArr","childToParent"],["child",""]],template:function(t,r){1&t&&(a._UZ(0,"app-page-header",0),a.TgZ(1,"ion-content",1),a._UZ(2,"app-page-header",2),a.TgZ(3,"div",3),a._UZ(4,"app-movie-poster",4),a.qZA(),a.TgZ(5,"div")(6,"app-paginator",5,6),a.NdJ("childToParent",function(s){return r.childToParent(s)}),a.qZA()()()),2&t&&(a.Q6J("menuIcon",!0),a.xp6(1),a.Q6J("fullscreen",!0),a.xp6(1),a.Q6J("contentChild",!0),a.xp6(2),a.Q6J("movieList",r.popularMovies)("anchorTag",!0),a.xp6(2),a.Q6J("pageNumVar",3)("totalPageNum",r.totalNumSend)("moviesArr",r.popularMovies))},dependencies:[ks,WU,mC,Ry],styles:["@keyframes _ngcontent-%COMP%_clickAnimMD{0%{transform:translateY(0);border-color:var(--ion-border-color)}50%{transform:translateY(-5px);border-color:var(--ion-color-step-200)}to{transform:translateY(0);border-color:var(--ion-border-color)}}@keyframes _ngcontent-%COMP%_clickAnimIOS{0%{transform:translateY(0)}50%{transform:translateY(-5px)}to{transform:translateY(0)}}.popularMoviesSection[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;justify-content:space-around}"]}),n})(),JG=(()=>{class n{constructor(t){this.ApiCallService=t,this.popularMovies=[],this.buttonText="Show More",this.componentPop=ZU,this.familyMovies=[],this.actionMovies=[],this.comedyMovies=[],this.horrorMovies=[],this.fantasyMovies=[],this.dramaMovies=[]}showPopularMovies(t){this.ApiCallService.getPopularMovies(t).subscribe(r=>{console.log(r),this.popularMovies=r.results})}showMovies(){this.ApiCallService.getDataByFilter({with_genres:["Family"],page:1}).subscribe(t=>{this.familyMovies=t.results}),this.ApiCallService.getDataByFilter({with_genres:["Action"],page:1}).subscribe(t=>{this.actionMovies=t.results}),this.ApiCallService.getDataByFilter({with_genres:["Comedy"],page:1}).subscribe(t=>{this.comedyMovies=t.results}),this.ApiCallService.getDataByFilter({with_genres:["Horror"],page:1}).subscribe(t=>{console.log(t),this.horrorMovies=t.results}),this.ApiCallService.getDataByFilter({with_genres:["Fantasy"],page:1}).subscribe(t=>{this.fantasyMovies=t.results}),this.ApiCallService.getDataByFilter({with_genres:["Drama"],page:1}).subscribe(t=>{this.dramaMovies=t.results})}ngOnInit(){this.showPopularMovies(1),this.showMovies()}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(td))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-movie-page"]],decls:80,vars:17,consts:[["headerTitle","Movies",3,"menuIcon"],[3,"fullscreen"],["headerTitle","Movies",3,"contentChild"],[1,"popularMoviesSection"],["href","movies/popular"],[1,"popularMovies"],["popShowMore",""],[1,"flex","noClick","noHover",3,"movieList","anchorTag"],[1,"showMoreSection"],["color","secondary",1,"showMoreButton"],["href","movies/genre/Family"],["href","movies/genre/Action"],["href","movies/genre/Comedy"],["href","movies/genre/Horror"],["href","movies/genre/Fantasy"],["href","movies/genre/Drama"]],template:function(t,r){1&t&&(a._UZ(0,"app-page-header",0),a.TgZ(1,"ion-content",1),a._UZ(2,"app-page-header",2),a.TgZ(3,"div",3)(4,"h1"),a._uU(5,"Popular Movies BIG CHANGE"),a.qZA(),a.TgZ(6,"a",4)(7,"div",5,6),a._UZ(9,"app-movie-poster",7),a.qZA()(),a.TgZ(10,"div",8)(11,"a",4)(12,"ion-button",9),a._uU(13,"Show More"),a.qZA()()()(),a.TgZ(14,"div",3)(15,"h1"),a._uU(16,"Family Movies"),a.qZA(),a.TgZ(17,"a",10)(18,"div",5,6),a._UZ(20,"app-movie-poster",7),a.qZA()(),a.TgZ(21,"div",8)(22,"a",10)(23,"ion-button",9),a._uU(24,"Show More"),a.qZA()()()(),a.TgZ(25,"div",3)(26,"h1"),a._uU(27,"Action Movies"),a.qZA(),a.TgZ(28,"a",11)(29,"div",5,6),a._UZ(31,"app-movie-poster",7),a.qZA()(),a.TgZ(32,"div",8)(33,"a",11)(34,"ion-button",9),a._uU(35,"Show More"),a.qZA()()()(),a.TgZ(36,"div",3)(37,"h1"),a._uU(38,"Comedy Movies"),a.qZA(),a.TgZ(39,"a",12)(40,"div",5,6),a._UZ(42,"app-movie-poster",7),a.qZA()(),a.TgZ(43,"div",8)(44,"a",12)(45,"ion-button",9),a._uU(46,"Show More"),a.qZA()()()(),a.TgZ(47,"div",3)(48,"h1"),a._uU(49,"Horror Movies"),a.qZA(),a.TgZ(50,"a",13)(51,"div",5,6),a._UZ(53,"app-movie-poster",7),a.qZA()(),a.TgZ(54,"div",8)(55,"a",13)(56,"ion-button",9),a._uU(57,"Show More"),a.qZA()()()(),a.TgZ(58,"div",3)(59,"h1"),a._uU(60,"Fantasy Movies"),a.qZA(),a.TgZ(61,"a",14)(62,"div",5,6),a._UZ(64,"app-movie-poster",7),a.qZA()(),a.TgZ(65,"div",8)(66,"a",14)(67,"ion-button",9),a._uU(68,"Show More"),a.qZA()()()(),a.TgZ(69,"div",3)(70,"h1"),a._uU(71,"Drama Movies"),a.qZA(),a.TgZ(72,"a",15)(73,"div",5,6),a._UZ(75,"app-movie-poster",7),a.qZA()(),a.TgZ(76,"div",8)(77,"a",15)(78,"ion-button",9),a._uU(79,"Show More"),a.qZA()()()()()),2&t&&(a.Q6J("menuIcon",!0),a.xp6(1),a.Q6J("fullscreen",!0),a.xp6(1),a.Q6J("contentChild",!0),a.xp6(7),a.Q6J("movieList",r.popularMovies)("anchorTag",!1),a.xp6(11),a.Q6J("movieList",r.familyMovies)("anchorTag",!1),a.xp6(11),a.Q6J("movieList",r.actionMovies)("anchorTag",!1),a.xp6(11),a.Q6J("movieList",r.comedyMovies)("anchorTag",!1),a.xp6(11),a.Q6J("movieList",r.horrorMovies)("anchorTag",!1),a.xp6(11),a.Q6J("movieList",r.fantasyMovies)("anchorTag",!1),a.xp6(11),a.Q6J("movieList",r.dramaMovies)("anchorTag",!1))},dependencies:[$l,ks,mC,Ry],styles:["@media (prefers-color-scheme: dark){.popularMovies[_ngcontent-%COMP%]:has(.md){display:flex;flex-wrap:wrap;justify-content:space-around;margin-top:20px;background-color:var(--ion-color-step-150);padding:10px;border-radius:5px;overflow:hidden;height:54vh}.popularMovies[_ngcontent-%COMP%]:has(.ios){display:flex;flex-wrap:wrap;justify-content:space-around;margin-top:20px;background-color:var(--ion-color-step-150);padding:10px;border-radius:5px;overflow:hidden;height:54vh}}.popularMovies[_ngcontent-%COMP%]:has(.ios){display:flex;flex-wrap:wrap;justify-content:space-around;margin-top:20px;background-color:var(--ion-color-step-150);padding:10px;border-radius:5px;overflow:hidden;height:54vh}.popularMoviesSection[_ngcontent-%COMP%]{padding:10px}.showMoreSection[_ngcontent-%COMP%]{position:relative;top:-2.5vh;width:100%;display:flex;justify-content:center;transition:.5s}.popularMoviesShowMore[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;transition:.5s}"]}),n})();const ez=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/,tz=/^(\s+\S+\s*)*(?!\s).*$/,hs={email:[Ph.required,Ph.email,n=>n.value&&!n.value.match(ez)?{email:!0}:null],displayName:[Ph.required,Ph.minLength(6),n=>n.value&&!n.value.match(tz)?{whiteSpace:!0}:null],password:[Ph.required,Ph.minLength(6)],alerts:(n,...e)=>{if(!n||!n.invalid||!n.dirty&&!n.touched)return null;if(null!=n&&n.hasError("notSame"))return"Passwords do not match";if(null!=n&&n.hasError("whiteSpace"))return"No leading or trailing spaces";if(null!=n&&n.hasError("minlength"))return"Must be at least 6 characters";if(null!=n&&n.hasError("email"))return"Email is invalid";if(null!=n&&n.hasError("required"))return"Required";for(const t of e)if(null!=n&&n.hasError(t.errorCode))return t.errorMessage;return null}};let YU=(()=>{class n{constructor(t,r){this.authService=t,this.modalController=r,this.userFormGroup=new Pc({email:new Wi("",hs.email),newPassword:new Wi("",hs.password),confirmNewPassword:new Wi("",[...hs.password,()=>{var i,s,c,h;return(null===(i=this.userFormGroup)||void 0===i||null===(s=i.get("newPassword"))||void 0===s?void 0:s.value)!==(null===(c=this.userFormGroup)||void 0===c||null===(h=c.get("confirmNewPassword"))||void 0===h?void 0:h.value)?{notSame:!0}:null}])})}getAlertMsg(t){const r=this.userFormGroup.get(t);if(r)return hs.alerts(r)}ngOnInit(){}closeModal(){this.modalController.dismiss()}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(bf),a.Y36(h_))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-forgot-password"]],decls:22,vars:4,consts:[["slot","start",3,"click"],["type","button"],["id","MainResetPasswordSection"],["id","ResetPasswordForm",3,"formGroup"],["type","email","autocomplete","email","label","Email","labelPlacement","floating","placeholder","Email","name","email","formControlName","email","required",""],[1,"alert","alert-danger"],["label","Password","labelPlacement","floating","type","password","autocomplete","new-password","name","newPassword","formControlName","newPassword","required",""],["label","Confirm Password","labelPlacement","floating","type","password","autocomplete","new-password","name","confirmNewPassword","formControlName","confirmNewPassword","required",""],["type","submit","expand","block"]],template:function(t,r){1&t&&(a.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),a._uU(3," Reset Password "),a.qZA(),a.TgZ(4,"ion-buttons",0),a.NdJ("click",function(){return r.closeModal()}),a._UZ(5,"ion-back-button",1),a.qZA()()(),a.TgZ(6,"ion-content",2)(7,"form",3)(8,"ion-item"),a._UZ(9,"ion-input",4),a.TgZ(10,"div",5),a._uU(11),a.qZA()(),a.TgZ(12,"ion-item"),a._UZ(13,"ion-input",6),a.TgZ(14,"div",5),a._uU(15),a.qZA()(),a.TgZ(16,"ion-item"),a._UZ(17,"ion-input",7),a.TgZ(18,"div",5),a._uU(19),a.qZA()(),a.TgZ(20,"ion-button",8),a._uU(21,"Reset Password"),a.qZA()()()),2&t&&(a.xp6(7),a.Q6J("formGroup",r.userFormGroup),a.xp6(4),a.hij(" ",r.getAlertMsg("email")," "),a.xp6(4),a.hij(" ",r.getAlertMsg("newPassword")," "),a.xp6(4),a.hij(" ",r.getAlertMsg("confirmNewPassword")," "))},dependencies:[r_,$l,Os,ks,Nc,Yu,Fc,Qu,Xu,Hh,Kp,Up,Sp,Vu,Vp,Gu,zu],styles:["ion-header[_ngcontent-%COMP%] > ion-toolbar[_ngcontent-%COMP%] > ion-buttons[_ngcontent-%COMP%] > ion-back-button[_ngcontent-%COMP%]{display:block}#MainResetPasswordSection[_ngcontent-%COMP%] > #ResetPasswordForm[_ngcontent-%COMP%] > ion-item[_ngcontent-%COMP%]{margin-bottom:16px}"]}),n})(),nz=(()=>{class n{constructor(t){this.db=t,this.userRef=this.db.doc("users/zvHolvmcDa8g79T8XYCL")}getUserObservable(){if(this.userRef)return this.userRef.valueChanges()}editUser(t){if(this.userRef)return this.userRef.update(t).then(()=>console.log("User updated")).catch(r=>console.error("Failed updating user",r))}saveUser(t){this.userRef&&(0,Vn.D)(this.userRef.set(t)).pipe((0,Qr.b)(()=>console.log("User saved")),$o(r=>(console.error("Failed saving user",r),Nt("Error"))))}deleteUser(){if(this.userRef)return this.userRef.delete().then(()=>console.log("User deleted")).catch(t=>console.error("Failed deleting user",t))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(iO))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rz=(()=>{class n{constructor(t,r,i){this.UserService=t,this.modalController=r,this.AuthService=i,this.userFormGroup=new Pc({email:new Wi("",hs.email),password:new Wi("",hs.password)})}ngOnInit(){var t=this;return(0,ze.Z)(function*(){var r;null===(r=t.UserService.getUserObservable())||void 0===r||r.subscribe(i=>{console.log(i)})})()}getAlertMsg(t){const r=this.userFormGroup.get(t);if(r)return hs.alerts(r)}updateUserProfile(){var t=this;return(0,ze.Z)(function*(){if(t.userFormGroup.valid&&t.userFormGroup.value.email&&t.userFormGroup.value.password)try{yield t.AuthService.SignIn(t.userFormGroup.value.email,t.userFormGroup.value.password)}catch(r){console.log(r)}})()}signInWithGoogle(){var t=this;return(0,ze.Z)(function*(){yield t.AuthService.GoogleAuth()})()}openForgotPassowordModal(){var t=this;return(0,ze.Z)(function*(){return yield(yield t.modalController.create({component:YU,cssClass:"forgot-password-modal"})).present()})()}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(nz),a.Y36(h_),a.Y36(bf))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-login-page"]],decls:38,vars:5,consts:[[3,"translucent"],["slot","start"],[3,"fullscreen"],["collapse","condense"],["size","large"],["id","MainLoginSegment"],["id","LoginForm",3,"formGroup","submit","keyup.enter"],["type","email","label","Email","labelPlacement","floating","autocomplete","email","placeholder","Email","required","","name","email","formControlName","email"],[1,"alert","alert-danger"],["type","password","label","Password","autocomplete","current-password","labelPlacement","floating","placeholder","Password","required","","name","password","formControlName","password"],["expand","block","shape","round","color","primary","type","submit"],["expand","full",3,"click"],["type","button",1,"btn","googleBtn",3,"click"],["slot","start","name","logo-google"],["href","/register"]],template:function(t,r){1&t&&(a.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),a._UZ(3,"ion-menu-button"),a.qZA(),a.TgZ(4,"ion-title"),a._uU(5,"Login"),a.qZA()()(),a.TgZ(6,"ion-content",2)(7,"ion-header",3)(8,"ion-toolbar")(9,"ion-title",4),a._uU(10,"Login"),a.qZA()()(),a.TgZ(11,"div",5)(12,"form",6),a.NdJ("submit",function(){return r.updateUserProfile()})("keyup.enter",function(){return r.updateUserProfile()}),a.TgZ(13,"fieldset")(14,"legend"),a._uU(15,"Sign In With Email And Password"),a.qZA(),a.TgZ(16,"ion-item"),a._UZ(17,"ion-input",7),a.TgZ(18,"div",8),a._uU(19),a.qZA()(),a.TgZ(20,"ion-item"),a._UZ(21,"ion-input",9),a.TgZ(22,"div",8),a._uU(23),a.qZA()(),a.TgZ(24,"ion-button",10),a._uU(25,"Submit"),a.qZA(),a.TgZ(26,"ion-button",11),a.NdJ("click",function(){return r.openForgotPassowordModal()}),a._uU(27," Forgot Password? "),a.qZA()()(),a.TgZ(28,"fieldset")(29,"legend"),a._uU(30,"Or"),a.qZA(),a.TgZ(31,"ion-button",12),a.NdJ("click",function(){return r.signInWithGoogle()}),a._UZ(32,"ion-icon",13),a._uU(33," Sign in with Google "),a.qZA()(),a.TgZ(34,"ion-label"),a._uU(35," Don't have an account? "),a.TgZ(36,"a",14),a._uU(37,"Make One!"),a.qZA()()()()),2&t&&(a.Q6J("translucent",!0),a.xp6(6),a.Q6J("fullscreen",!0),a.xp6(6),a.Q6J("formGroup",r.userFormGroup),a.xp6(7),a.hij(" ",r.getAlertMsg("email")," "),a.xp6(4),a.hij(" ",r.getAlertMsg("password")," "))},dependencies:[$l,Os,ks,Nc,Vl,Yu,Fc,Ku,zp,Qu,Xu,Hh,Up,Sp,Vu,Vp,Gu,zu],styles:["#MainLoginSegment[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-width:500px;margin:1em auto auto}#MainLoginSegment[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > fieldset[_ngcontent-%COMP%]{border-radius:4px;margin-bottom:1em}#MainLoginSegment[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > fieldset[_ngcontent-%COMP%] > ion-button[_ngcontent-%COMP%]{margin-top:2em}#MainLoginSegment[_ngcontent-%COMP%] > ion-label[_ngcontent-%COMP%]{margin-top:2em}"]}),n})(),iz=(()=>{class n{constructor(t){this.AuthService=t,this.userFormGroup=new Pc({username:new Wi("",hs.displayName),email:new Wi("",hs.email),password:new Wi("",hs.password),confirmPassword:new Wi("",[...hs.password,()=>{var r,i,s,c;return(null===(r=this.userFormGroup)||void 0===r||null===(i=r.get("password"))||void 0===i?void 0:i.value)!==(null===(s=this.userFormGroup)||void 0===s||null===(c=s.get("confirmPassword"))||void 0===c?void 0:c.value)?{notSame:!0}:null}])})}ngOnInit(){}getAlertMsg(t){const r=this.userFormGroup.get(t);if(r)return hs.alerts(r)}createUserProfile(){var t=this;return(0,ze.Z)(function*(){if(t.userFormGroup.markAllAsTouched(),t.userFormGroup.valid&&t.userFormGroup.value.email&&t.userFormGroup.value.password&&t.userFormGroup.value.username)try{yield t.AuthService.SignUp(t.userFormGroup.value.email,t.userFormGroup.value.password,{displayName:t.userFormGroup.value.username})}catch(r){console.log(r)}})()}signUpWithGoogle(){this.AuthService.GoogleAuth()}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(bf))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-register-page"]],decls:35,vars:8,consts:[["headerTitle","Register",3,"menuIcon"],[3,"fullscreen"],["headerTitle","Register",3,"contentChild"],["id","MainRegisterSegment"],["id","RegisterForm",3,"formGroup","submit","keyup.enter"],["type","text","label","Username","placeholder","Username","labelPlacement","floating","autocomplete","name","required","","name","username","formControlName","username"],[1,"alert","alert-danger"],["type","email","label","Email","labelPlacement","floating","autocomplete","email","placeholder","Email","required","","name","email","formControlName","email"],["type","password","label","Password","autocomplete","new-password","labelPlacement","floating","placeholder","Password","required","","name","password","formControlName","password"],["type","password","label","Confirm Password","autocomplete","new-password","labelPlacement","floating","placeholder","Confirm Password","required","","name","password","formControlName","confirmPassword"],["expand","block","shape","round","color","primary","type","submit"],["type","button",1,"btn","googleBtn",3,"click"],["slot","start","name","logo-google"],["href","/login"]],template:function(t,r){1&t&&(a._UZ(0,"app-page-header",0),a.TgZ(1,"ion-content",1),a._UZ(2,"app-page-header",2),a.TgZ(3,"div",3)(4,"form",4),a.NdJ("submit",function(){return r.createUserProfile()})("keyup.enter",function(){return r.createUserProfile()}),a.TgZ(5,"fieldset")(6,"legend"),a._uU(7,"Sign Up With Email And Password"),a.qZA(),a.TgZ(8,"ion-item"),a._UZ(9,"ion-input",5),a.TgZ(10,"div",6),a._uU(11),a.qZA()(),a.TgZ(12,"ion-item"),a._UZ(13,"ion-input",7),a.TgZ(14,"div",6),a._uU(15),a.qZA()(),a.TgZ(16,"ion-item"),a._UZ(17,"ion-input",8),a.TgZ(18,"div",6),a._uU(19),a.qZA()(),a.TgZ(20,"ion-item"),a._UZ(21,"ion-input",9),a.TgZ(22,"div",6),a._uU(23),a.qZA()(),a.TgZ(24,"ion-button",10),a._uU(25,"Sign Up"),a.qZA()(),a.TgZ(26,"fieldset")(27,"legend"),a._uU(28,"Or"),a.qZA(),a.TgZ(29,"ion-button",11),a.NdJ("click",function(){return r.signUpWithGoogle()}),a._UZ(30,"ion-icon",12),a._uU(31," Sign up with Google "),a.qZA()(),a.TgZ(32,"ion-label")(33,"a",13),a._uU(34,"Already have an account?"),a.qZA()()()()()),2&t&&(a.Q6J("menuIcon",!1),a.xp6(1),a.Q6J("fullscreen",!0),a.xp6(1),a.Q6J("contentChild",!0),a.xp6(2),a.Q6J("formGroup",r.userFormGroup),a.xp6(7),a.hij(" ",r.getAlertMsg("username")," "),a.xp6(4),a.hij(" ",r.getAlertMsg("email")," "),a.xp6(4),a.hij(" ",r.getAlertMsg("password")," "),a.xp6(4),a.hij(" ",r.getAlertMsg("confirmPassword")," "))},dependencies:[$l,ks,Vl,Yu,Fc,Ku,Hh,Up,Sp,Vu,Vp,Gu,zu,Ry],styles:["#MainRegisterSegment[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-width:500px;margin:1em auto auto}#MainRegisterSegment[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > fieldset[_ngcontent-%COMP%]{border-radius:4px;margin-bottom:1em}#MainRegisterSegment[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > fieldset[_ngcontent-%COMP%] > ion-button[_ngcontent-%COMP%]{margin-top:2em}#MainRegisterSegment[_ngcontent-%COMP%] > ion-label[_ngcontent-%COMP%]{margin-top:2em}"]}),n})();function oz(n,e){1&n&&a._UZ(0,"ion-spinner",8)}let sz=(()=>{class n{constructor(t){this.ApiCallService=t,this.movieList=[],this.urlStart="https://image.tmdb.org/t/p/w500",this.searchMovie="",this.showLoading=!1}ngOnInit(){}showDataList(t){this.showLoading=!0,this.ApiCallService.getDataBySearch(t).subscribe(r=>{this.movieList=r.results,this.showLoading=!1})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(td))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-movie-search-page"]],decls:9,vars:9,consts:[["headerTitle","Movie Search",3,"menuIcon"],[3,"fullscreen"],["headerTitle","Movie Search",3,"contentChild"],[1,"searchArea"],["id","searchInput","label","Movie Search","labelPlacement","stacked","placeholder","Enter Movie",3,"clearInput","value","ngModel","ngModelChange"],["color","secondary",3,"click"],["class","loadingCircle",4,"ngIf"],[1,"flex","outline",3,"movieList","anchorTag"],[1,"loadingCircle"]],template:function(t,r){1&t&&(a._UZ(0,"app-page-header",0),a.TgZ(1,"ion-content",1),a._UZ(2,"app-page-header",2),a.TgZ(3,"div",3)(4,"ion-input",4),a.NdJ("ngModelChange",function(s){return r.searchMovie=s}),a.qZA(),a.TgZ(5,"ion-button",5),a.NdJ("click",function(){return r.showDataList(r.searchMovie)}),a._uU(6,"Search"),a.qZA()(),a.YNc(7,oz,1,0,"ion-spinner",6),a._UZ(8,"app-movie-poster",7),a.qZA()),2&t&&(a.Q6J("menuIcon",!0),a.xp6(1),a.Q6J("fullscreen",!0),a.xp6(1),a.Q6J("contentChild",!0),a.xp6(2),a.Q6J("clearInput",!0)("value",r.searchMovie)("ngModel",r.searchMovie),a.xp6(3),a.Q6J("ngIf",r.showLoading),a.xp6(1),a.Q6J("movieList",r.movieList)("anchorTag",!0))},dependencies:[H,$l,ks,Yu,_0,Hh,Sp,Lp,mC,Ry],styles:["ion-menu-button[_ngcontent-%COMP%]{color:var(--ion-color-primary)}#container[_ngcontent-%COMP%]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.noImageText[_ngcontent-%COMP%]{margin-bottom:16px}.posterImg[_ngcontent-%COMP%]{border-radius:5px}.searchArea[_ngcontent-%COMP%]{margin:0 auto;display:flex;align-items:center;justify-content:center;width:90%}.loadingCircle[_ngcontent-%COMP%]{width:100vw;position:absolute;transform:scale(2)}"]}),n})();function az(n,e){if(1&n&&(a.TgZ(0,"div",7)(1,"p",8),a._uU(2," We have sent a confirmation email to "),a.TgZ(3,"strong"),a._uU(4),a.qZA()(),a.TgZ(5,"p",8),a._uU(6," Please check your email and click on the link to verfiy your email address. "),a.qZA()()),2&n){const t=e.ngIf;a.xp6(4),a.Oqu(t.email)}}let KU=(()=>{class n{constructor(t,r){this.modalController=t,this.authService=r}ngOnInit(){}sendVerificationEmail(){var t=this;return(0,ze.Z)(function*(){yield t.authService.SendVerificationMail()})()}closeModal(){var t=this;return(0,ze.Z)(function*(){yield t.modalController.dismiss()})()}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(h_),a.Y36(bf))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-verify-email"]],decls:15,vars:1,consts:[["slot","start",3,"click"],["type","button"],["id","MainVerifyEmailSection"],["class","formGroup",4,"ngIf"],["type","button","expand","full",1,"btn","btnPrimary",3,"click"],["slot","start","name","refresh-outline"],["slot","end"],[1,"formGroup"],[1,"text-center"]],template:function(t,r){1&t&&(a.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),a._uU(3," Verify Email Address "),a.qZA(),a.TgZ(4,"ion-buttons",0),a.NdJ("click",function(){return r.closeModal()}),a._UZ(5,"ion-back-button",1),a.qZA()()(),a.TgZ(6,"ion-content",2)(7,"ion-text")(8,"h3"),a._uU(9,"Thank You for Registering"),a.qZA(),a.YNc(10,az,7,1,"div",3),a.qZA(),a.TgZ(11,"ion-button",4),a.NdJ("click",function(){return r.authService.SendVerificationMail()}),a._UZ(12,"ion-icon",5),a.TgZ(13,"ion-label",6),a._uU(14," Resend Verification Email "),a.qZA()()()),2&t&&(a.xp6(10),a.Q6J("ngIf",r.authService.userData))},dependencies:[H,r_,$l,Os,ks,Nc,Vl,Ku,mb,Qu,Xu,Kp],styles:["ion-header[_ngcontent-%COMP%] > ion-toolbar[_ngcontent-%COMP%] > ion-buttons[_ngcontent-%COMP%] > ion-back-button[_ngcontent-%COMP%]{display:block}#MainVerifyEmailSection[_ngcontent-%COMP%]{--padding-start: 16px;--padding-end: 16px}"]}),n})();function lz(n,e){1&n&&(a.TgZ(0,"ion-card",7)(1,"ion-card-header")(2,"h1"),a._uU(3," You're Not logged in! "),a._UZ(4,"ion-icon",8),a.qZA()(),a.TgZ(5,"ion-card-content")(6,"a",9)(7,"ion-button"),a._UZ(8,"ion-icon",10),a._uU(9," Login "),a.qZA()(),a.TgZ(10,"a",11)(11,"ion-button"),a._UZ(12,"ion-icon",12),a._uU(13," Register "),a.qZA()()()())}function cz(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"ion-button",30),a.NdJ("click",function(){a.CHM(t);const i=a.oxw(2);return a.KtG(i.sendEmailVerification())}),a._UZ(1,"ion-icon",31),a.TgZ(2,"ion-label",32),a._uU(3,"Verify Email"),a.qZA()()}}function uz(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",13)(1,"form",14),a.NdJ("submit",function(){a.CHM(t);const i=a.oxw();return a.KtG(i.updateUserProfile())})("keyup.enter",function(){a.CHM(t);const i=a.oxw();return a.KtG(i.updateUserProfile())}),a.TgZ(2,"fieldset")(3,"legend"),a._uU(4,"Profile"),a.qZA(),a.TgZ(5,"ion-item")(6,"ion-avatar",1),a._UZ(7,"img",15),a.qZA(),a.TgZ(8,"h1"),a._uU(9," Welcome: "),a.TgZ(10,"strong"),a._uU(11),a.qZA()(),a.TgZ(12,"ion-button",16),a.NdJ("click",function(){a.CHM(t);const i=a.oxw();return a.KtG(i.authService.SignOut())}),a._uU(13," Sign Out "),a.qZA()(),a.TgZ(14,"ion-item"),a._UZ(15,"ion-input",17),a.TgZ(16,"div",18),a._uU(17),a.qZA(),a._UZ(18,"ion-icon",19),a.qZA(),a.TgZ(19,"ion-item"),a._UZ(20,"ion-input",20),a.TgZ(21,"div",18),a._uU(22),a.qZA(),a._UZ(23,"ion-icon",19),a.qZA(),a.TgZ(24,"ion-item")(25,"ion-label"),a._uU(26," Email Verified: "),a.TgZ(27,"strong"),a._uU(28),a.qZA()(),a.YNc(29,cz,4,0,"ion-button",21),a.qZA(),a.TgZ(30,"ion-item")(31,"ion-button",22),a.NdJ("click",function(){a.CHM(t);const i=a.oxw();return a.KtG(i.updateUserProfile())}),a._uU(32," Save "),a.qZA(),a.TgZ(33,"ion-button",22),a.NdJ("click",function(){a.CHM(t);const i=a.oxw();return a.KtG(i.resetUserProfileDataGroup())}),a._uU(34," Cancel "),a.qZA()()()(),a.TgZ(35,"form",23)(36,"fieldset")(37,"legend"),a._uU(38,"Settings"),a.qZA(),a.TgZ(39,"ion-item"),a._UZ(40,"ion-icon",24),a.TgZ(41,"ion-toggle",25),a._uU(42,"Allow Email Notifications"),a.qZA()(),a.TgZ(43,"ion-item"),a._UZ(44,"ion-icon",26),a.TgZ(45,"ion-toggle",27),a._uU(46,"Show Adult Movies"),a.qZA()(),a.TgZ(47,"ion-item"),a._UZ(48,"ion-icon",28),a.TgZ(49,"ion-toggle",29),a._uU(50,"Dark Mode"),a.qZA()()()()()}if(2&n){const t=e.ngIf,r=a.oxw();let i,s;a.Gre("User:",t.uid,""),a.xp6(1),a.Q6J("formGroup",r.userProfileDataGroup),a.xp6(6),a.s9C("src",null!==(i=t.photoURL)&&void 0!==i?i:"/assets/png/dummy-avatar.png",a.LSH),a.s9C("alt",t.displayName),a.xp6(4),a.Oqu(null!==(s=t.displayName)&&void 0!==s?s:"User"),a.xp6(6),a.hij(" ",r.getAlertMsg("displayName")," "),a.xp6(5),a.hij(" ",r.getAlertMsg("email")," "),a.xp6(6),a.Oqu(t.emailVerified),a.xp6(1),a.Q6J("ngIf",!t.emailVerified),a.xp6(2),a.Q6J("disabled",!r.userProfileDataGroup.dirty||!r.userProfileDataGroup.valid),a.xp6(2),a.Q6J("disabled",!r.userProfileDataGroup.dirty),a.xp6(2),a.Q6J("formGroup",r.userProfileSettingsGroup)}}let dz=(()=>{class n{constructor(t,r){var i,s,c,h,m;this.authService=t,this.modalController=r,this.defaultProfileData={photoURL:null===(i=this.authService.userData)||void 0===i?void 0:i.photoURL,displayName:null===(s=this.authService.userData)||void 0===s?void 0:s.displayName,email:null===(c=this.authService.userData)||void 0===c?void 0:c.email},this.userProfileDataGroup=new Pc({photoURL:new Wi(this.defaultProfileData.photoURL),displayName:new Wi(this.defaultProfileData.displayName,hs.displayName),email:new Wi(this.defaultProfileData.email,hs.email)}),this.userProfileSettingsGroup=new Pc({allowEmailNotifications:new Wi(!0),adult:new Wi(null===(h=this.authService.userData)||void 0===h?void 0:h.adult),prefersDarkMode:new Wi(null===(m=this.authService.userData)||void 0===m?void 0:m.prefersDarkMode)})}ngOnInit(){this.userProfileSettingsGroup.valueChanges.subscribe(t=>{this.authService.updateCurrentUser(t)})}getAlertMsg(t){const r=this.userProfileDataGroup.get(t);if(r)return hs.alerts(r)}resetUserProfileDataGroup(){this.userProfileDataGroup.reset(this.defaultProfileData)}sendEmailVerification(){var t=this;return(0,ze.Z)(function*(){var r;return yield(yield t.modalController.create({component:KU,componentProps:{email:null===(r=t.authService.userData)||void 0===r?void 0:r.email}})).present()})()}updateUserProfile(){var t=this;return(0,ze.Z)(function*(){var r,i,s;if(!t.userProfileDataGroup.valid||!t.userProfileDataGroup.value.email)return;const c={photoURL:t.userProfileDataGroup.value.photoURL,displayName:t.userProfileDataGroup.value.displayName,email:t.userProfileDataGroup.value.email},h=t.userProfileDataGroup.value;h.displayName===(null===(r=t.authService.userData)||void 0===r?void 0:r.displayName)&&delete c.displayName,h.email===(null===(i=t.authService.userData)||void 0===i?void 0:i.email)&&delete c.email,h.photoURL===(null===(s=t.authService.userData)||void 0===s?void 0:s.photoURL)&&delete c.photoURL,yield t.authService.updateCurrentUser(c),t.userProfileDataGroup.markAsPristine(),t.userProfileDataGroup.markAsUntouched()})()}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(bf),a.Y36(h_))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-profile-page"]],decls:13,vars:4,consts:[[3,"translucent"],["slot","start"],[3,"fullscreen"],["collapse","condense"],["size","large"],["id","NotLoggedInSegment","title","Go to Login Page",4,"ngIf"],["id","MainProfileSegment",3,"class",4,"ngIf"],["id","NotLoggedInSegment","title","Go to Login Page"],["name","lock-closed-outline"],["href","/login"],["slot","start","name","log-in-outline"],["href","/register"],["slot","start","name","person-add-outline"],["id","MainProfileSegment"],["id","UserProfileDataForm",3,"formGroup","submit","keyup.enter"],[1,"img-thumbnail",3,"src","alt"],["slot","end","expand","block","shape","round","color","danger",3,"click"],["type","text","placeholder","Display Name","autocomplete","name","label","Display Name: ","formControlName","displayName"],[1,"alert","alert-danger"],["slot","end","name","create-outline"],["type","text","placeholder","Email","name","email","label","Email: ","formControlName","email"],["slot","end",3,"click",4,"ngIf"],[3,"disabled","click"],["id","UserProfileSettingsForm",3,"formGroup"],["name","mail-outline",2,"margin-right","8px"],["labelPlacement","start","formControlName","allowEmailNotifications"],["name","warning-outline",2,"margin-right","8px"],["labelPlacement","start","formControlName","adult"],["name","contrast-outline",2,"margin-right","8px"],["labelPlacement","start","formControlName","prefersDarkMode"],["slot","end",3,"click"],["slot","start","name","mail-outline"],["slot","end"]],template:function(t,r){1&t&&(a.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),a._UZ(3,"ion-menu-button"),a.qZA(),a.TgZ(4,"ion-title"),a._uU(5,"Profile"),a.qZA()()(),a.TgZ(6,"ion-content",2)(7,"ion-header",3)(8,"ion-toolbar")(9,"ion-title",4),a._uU(10,"Profile"),a.qZA()()(),a.YNc(11,lz,14,0,"ion-card",5),a.YNc(12,uz,51,14,"div",6),a.qZA()),2&t&&(a.Q6J("translucent",!0),a.xp6(6),a.Q6J("fullscreen",!0),a.xp6(5),a.Q6J("ngIf",!r.authService.isLoggedIn),a.xp6(1),a.Q6J("ngIf",r.authService.userData))},dependencies:[H,h0,$l,Os,Sx,i_,Ax,ks,Nc,Vl,Yu,Fc,Ku,zp,Qu,yb,Xu,YI,Hh,Up,Sp,Vu,Gu,zu],styles:['[_nghost-%COMP%]   #NotLoggedInSegment[_ngcontent-%COMP%]{margin-top:16px;text-align:center}[_nghost-%COMP%]   #MainProfileSegment[_ngcontent-%COMP%]{display:flex;margin:auto;flex-direction:column;justify-content:center;align-items:center;max-width:600px}[_nghost-%COMP%]   #MainProfileSegment[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   #MainProfileSegment[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > fieldset[_ngcontent-%COMP%]{display:flex;border-radius:4px;flex-direction:column;justify-content:center;align-items:center;margin-top:1em}[_nghost-%COMP%]   #MainProfileSegment[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > fieldset[_ngcontent-%COMP%] > ion-item[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   #MainProfileSegment[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > fieldset[_ngcontent-%COMP%] > ion-item[_ngcontent-%COMP%] > ion-input[_ngcontent-%COMP%] >label>.native-wrapper{font-weight:700}[_nghost-%COMP%]   #MainProfileSegment[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > fieldset[_ngcontent-%COMP%] > ion-item[_ngcontent-%COMP%] > .img-thumbnail[_ngcontent-%COMP%]{display:block}[_nghost-%COMP%]   #MainProfileSegment[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > fieldset[_ngcontent-%COMP%] > ion-item[_ngcontent-%COMP%] > .img-thumbnail[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{display:block;position:relative}[_nghost-%COMP%]   #MainProfileSegment[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > fieldset[_ngcontent-%COMP%] > ion-item[_ngcontent-%COMP%] > .img-thumbnail[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]:before{content:" ";display:block;position:absolute;object-fit:cover;background-size:cover;border-radius:inherit;width:100%;height:100%;background-image:url(dummy-avatar.87031ed413ae07a9.png)}']}),n})();const hz=["child"];let fz=(()=>{class n{constructor(t){this.ApiCallService=t,this.activatedRoute=(0,a.f3M)(za),this.urlStart="https://image.tmdb.org/t/p/w500",this.pageNumVar=1,this.totalNumSend=[],this.movieList=[]}clickAnim(t){t.classList.add("clickAnimClass"),t.addEventListener("animationend",()=>{t.classList.remove("clickAnimClass")})}ngOnInit(){this.folder=this.activatedRoute.snapshot.paramMap.get("genreId")||""}showMovies(t){this.ApiCallService.getDataByFilter({with_genres:[Ju[this.folder]],page:t}).subscribe(r=>{console.log(Ju[this.folder]),console.log(r),this.movieList=r.results,this.totalNumSend=r.total_pages>500?new Array(500).fill(0).map((i,s)=>s+1):new Array(r.total_pages).fill(0).map((i,s)=>s+1),console.log(this.totalNumSend)})}childToParent(t){this.showMovies(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(td))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-genre-page"]],viewQuery:function(t,r){if(1&t&&a.Gf(hz,5),2&t){let i;a.iGM(i=a.CRH())&&(r.child=i.first)}},decls:8,vars:10,consts:[[3,"headerTitle","menuIcon"],[3,"fullscreen"],[3,"headerTitle","contentChild"],[1,"popularMoviesSection"],[1,"flex","outline",3,"movieList","anchorTag"],[3,"pageNumVar","totalPageNum","moviesArr","childToParent"],["child",""]],template:function(t,r){1&t&&(a._UZ(0,"app-page-header",0),a.TgZ(1,"ion-content",1),a._UZ(2,"app-page-header",2),a.TgZ(3,"div",3),a._UZ(4,"app-movie-poster",4),a.qZA(),a.TgZ(5,"div")(6,"app-paginator",5,6),a.NdJ("childToParent",function(s){return r.childToParent(s)}),a.qZA()()()),2&t&&(a.MGl("headerTitle","",r.folder," Movies"),a.Q6J("menuIcon",!0),a.xp6(1),a.Q6J("fullscreen",!0),a.xp6(1),a.MGl("headerTitle","",r.folder," Movies"),a.Q6J("contentChild",!0),a.xp6(2),a.Q6J("movieList",r.movieList)("anchorTag",!0),a.xp6(2),a.Q6J("pageNumVar",3)("totalPageNum",r.totalNumSend)("moviesArr",r.movieList))},dependencies:[ks,WU,mC,Ry]}),n})(),pz=(()=>{class n{constructor(t,r){this.router=t,this.authService=r}canActivate(t,r){return!0===this.authService.isLoggedIn||this.router.navigate(["login"])}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Di),a.LFG(bf))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var qT=(()=>(function(n){n.Family="people",n.Animation="uhh, I don't work yet",n.Action="/icon/gun.svg",n.Comedy="/icon/laugh.svg",n.Horror="skull",n.Fantasy="/icon/dragon-head.svg",n.Drama="/icon/drama-masks.svg"}(qT||(qT={})),qT))(),WT=(()=>(function(n){n[n.January=0]="January",n[n.February=1]="February",n[n.March=2]="March",n[n.April=3]="April",n[n.May=4]="May",n[n.June=5]="June",n[n.July=6]="July",n[n.August=7]="August",n[n.September=8]="September",n[n.October=9]="October",n[n.November=10]="November",n[n.December=11]="December"}(WT||(WT={})),WT))();function mz(n,e){if(1&n&&a._UZ(0,"app-page-header",3),2&n){const t=a.oxw();a.s9C("headerTitle",null==t.movieData?null:t.movieData.title),a.Q6J("menuIcon",!0)}}function _z(n,e){if(1&n&&a._UZ(0,"ion-img",40),2&n){const t=a.oxw(2);a.s9C("src",t.urlStart+(null==t.movieData?null:t.movieData.poster_path))}}function yz(n,e){if(1&n&&(a.TgZ(0,"div",41)(1,"p"),a._uU(2),a.qZA()()),2&n){const t=a.oxw(2);a.xp6(2),a.Oqu(null==t.movieData?null:t.movieData.title)}}function vz(n,e){if(1&n&&(a.TgZ(0,"p",42),a._uU(1),a.qZA()),2&n){const t=a.oxw(2);a.xp6(1),a.hij(" ",null==t.movieData?null:t.movieData.tagline," ")}}function wz(n,e){if(1&n&&a._UZ(0,"ion-img",45),2&n){const t=a.oxw().$implicit,r=a.oxw(2);a.s9C("src",r.urlStart+t.logo_path)}}function Cz(n,e){if(1&n&&(a.TgZ(0,"div",46)(1,"p"),a._uU(2),a.qZA()()),2&n){const t=a.oxw().$implicit;a.xp6(2),a.Oqu(t.name)}}function Ez(n,e){if(1&n&&(a.TgZ(0,"div",21),a.YNc(1,wz,1,1,"ion-img",43),a.YNc(2,Cz,3,1,"div",44),a.qZA()),2&n){const t=e.$implicit;a.xp6(1),a.Q6J("ngIf",null!==t.logo_path),a.xp6(1),a.Q6J("ngIf",null===t.logo_path)}}function Iz(n,e){1&n&&(a.TgZ(0,"div")(1,"p",47),a._uU(2,"Unknown"),a.qZA()())}function bz(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",48)(3,"ion-button",49),a.NdJ("click",function(){a.CHM(t),a.oxw();const i=a.MAs(38),s=a.oxw();return a.KtG(s.cancel(i))}),a._UZ(4,"ion-icon",50),a.qZA()(),a.TgZ(5,"ion-title"),a._uU(6,"Description"),a.qZA()()(),a.TgZ(7,"ion-content",51)(8,"h2",52),a._uU(9),a.qZA(),a.TgZ(10,"ion-item",53)(11,"p"),a._uU(12),a.qZA()()()}if(2&n){const t=a.oxw(2);a.xp6(9),a.hij(" ",null==t.movieData?null:t.movieData.title," "),a.xp6(3),a.Oqu(null==t.movieData?null:t.movieData.overview)}}function Dz(n,e){if(1&n&&(a.TgZ(0,"ion-item"),a._uU(1),a.qZA()),2&n){const t=e.$implicit;a.xp6(1),a.hij(" ",t.name," ")}}function Tz(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",48)(3,"ion-button",49),a.NdJ("click",function(){a.CHM(t),a.oxw();const i=a.MAs(45),s=a.oxw();return a.KtG(s.cancel(i))}),a._UZ(4,"ion-icon",50),a.qZA()(),a.TgZ(5,"ion-title"),a._uU(6,"Genres"),a.qZA()()(),a.TgZ(7,"ion-content",51)(8,"ion-list",53),a.YNc(9,Dz,2,1,"ion-item",54),a.qZA()()}if(2&n){const t=a.oxw(2);a.xp6(9),a.Q6J("ngForOf",null==t.movieData?null:t.movieData.genres)}}function Sz(n,e){if(1&n&&(a.TgZ(0,"ion-item"),a._uU(1),a.qZA()),2&n){const t=e.$implicit;a.xp6(1),a.hij(" ",t.name," ")}}function Az(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",48)(3,"ion-button",49),a.NdJ("click",function(){a.CHM(t),a.oxw();const i=a.MAs(52),s=a.oxw();return a.KtG(s.cancel(i))}),a._UZ(4,"ion-icon",50),a.qZA()(),a.TgZ(5,"ion-title"),a._uU(6,"Languages"),a.qZA()()(),a.TgZ(7,"ion-content",51)(8,"ion-list",53),a.YNc(9,Sz,2,1,"ion-item",54),a.qZA()()}if(2&n){const t=a.oxw(2);a.xp6(9),a.Q6J("ngForOf",null==t.movieData?null:t.movieData.spoken_languages)}}function xz(n,e){if(1&n&&a._UZ(0,"ion-img",62),2&n){const t=a.oxw().$implicit,r=a.oxw(2);a.s9C("src",r.urlStart+t.profile_path)}}function Mz(n,e){1&n&&(a.TgZ(0,"div",63)(1,"p"),a._uU(2,"No Image Provided"),a.qZA()())}function Pz(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",55,56),a.NdJ("click",function(){a.CHM(t);const i=a.MAs(1),s=a.oxw(2);return a.KtG(s.clickAnim(i))}),a.TgZ(2,"a",57)(3,"div",58),a.YNc(4,xz,1,1,"ion-img",59),a.YNc(5,Mz,3,0,"div",60),a.qZA(),a.TgZ(6,"p",61),a._uU(7),a.qZA()()()}if(2&n){const t=e.$implicit;a.xp6(2),a.MGl("href","https://www.google.com/search?q=",t.name.split(" ").join("+"),"",a.LSH),a.xp6(2),a.Q6J("ngIf",null!==t.profile_path),a.xp6(1),a.Q6J("ngIf",null===t.profile_path),a.xp6(2),a.Oqu(t.name)}}function Rz(n,e){1&n&&(a.TgZ(0,"div",64)(1,"h3"),a._uU(2,"Unknown"),a.qZA()())}function Oz(n,e){if(1&n&&a._UZ(0,"app-movie-poster",65),2&n){const t=a.oxw(2);a.Q6J("movieList",t.similarMovies)("anchorTag",!0)}}function kz(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"ion-content",4),a._UZ(1,"app-page-header",5),a.TgZ(2,"div",6)(3,"div",7)(4,"div",8),a.YNc(5,_z,1,1,"ion-img",9),a.YNc(6,yz,3,1,"div",10),a.qZA(),a.YNc(7,vz,2,1,"p",11),a.qZA(),a.TgZ(8,"div",12)(9,"ion-list",13)(10,"div",14)(11,"p",15),a._uU(12,"Made By:"),a.qZA()(),a.TgZ(13,"div",16),a.YNc(14,Ez,3,2,"div",17),a.YNc(15,Iz,3,0,"div",18),a.qZA(),a.TgZ(16,"div",19)(17,"p",20),a.NdJ("click",function(){a.CHM(t);const i=a.oxw();return a.KtG(i.runtimeChange())}),a.TgZ(18,"span"),a._uU(19),a.qZA(),a.TgZ(20,"span"),a._uU(21),a.qZA()(),a.TgZ(22,"p",21)(23,"span"),a._uU(24,"Release Date:"),a.qZA(),a.TgZ(25,"span",22),a._uU(26),a.qZA()(),a.TgZ(27,"p",23),a.NdJ("click",function(){a.CHM(t);const i=a.oxw();return a.KtG(i.moneyChange())}),a.TgZ(28,"span"),a._uU(29),a.qZA(),a.TgZ(30,"span",24),a._uU(31),a.qZA()()()(),a.TgZ(32,"ion-list",25)(33,"ion-item",26)(34,"ion-label"),a._uU(35,"Description"),a.qZA(),a._UZ(36,"ion-ripple-effect"),a.TgZ(37,"ion-modal",27,28),a.NdJ("willDismiss",function(i){a.CHM(t);const s=a.oxw();return a.KtG(s.onWillDismiss(i))}),a.YNc(39,bz,13,2,"ng-template"),a.qZA()(),a.TgZ(40,"ion-item",29)(41,"ion-label"),a._uU(42,"Genres"),a.qZA(),a._UZ(43,"ion-ripple-effect"),a.TgZ(44,"ion-modal",30,31),a.NdJ("willDismiss",function(i){a.CHM(t);const s=a.oxw();return a.KtG(s.onWillDismiss(i))}),a.YNc(46,Tz,10,1,"ng-template"),a.qZA()(),a.TgZ(47,"ion-item",32)(48,"ion-label"),a._uU(49,"Languages"),a.qZA(),a._UZ(50,"ion-ripple-effect"),a.TgZ(51,"ion-modal",33,34),a.NdJ("willDismiss",function(i){a.CHM(t);const s=a.oxw();return a.KtG(s.onWillDismiss(i))}),a.YNc(53,Az,10,1,"ng-template"),a.qZA()()()()(),a.TgZ(54,"h2"),a._uU(55,"Cast:"),a.qZA(),a.TgZ(56,"div",35),a.YNc(57,Pz,8,4,"div",36),a.YNc(58,Rz,3,0,"div",37),a.qZA(),a.TgZ(59,"h2"),a._uU(60,"Similar Movies:"),a.qZA(),a.TgZ(61,"div",38),a.NdJ("scroll",function(){a.CHM(t);const i=a.oxw();return a.KtG(i.testFunc())}),a.YNc(62,Oz,1,2,"app-movie-poster",39),a.qZA()()}if(2&n){const t=a.oxw();a.Q6J("fullscreen",!0),a.xp6(1),a.s9C("headerTitle",null==t.movieData?null:t.movieData.title),a.Q6J("contentChild",!0),a.xp6(4),a.Q6J("ngIf",null==t.movieData?null:t.movieData.poster_path),a.xp6(1),a.Q6J("ngIf",null===(null==t.movieData?null:t.movieData.poster_path)),a.xp6(1),a.Q6J("ngIf",""!==(null==t.movieData?null:t.movieData.tagline)),a.xp6(7),a.Q6J("ngForOf",null==t.movieData?null:t.movieData.production_companies),a.xp6(1),a.Q6J("ngIf",0===(null==t.movieData||null==t.movieData.production_companies?null:t.movieData.production_companies.length)),a.xp6(4),a.hij(" ",t.runtimeHeader," "),a.xp6(2),a.hij(" ",t.runtimeData," "),a.xp6(4),a.Q6J("ngClass",((null==t.releaseDateText?null:t.releaseDateText.length)||"")>14?"releaseTooBig":""),a.xp6(1),a.Oqu(t.releaseDateText),a.xp6(3),a.hij(" ",t.moneyHeader," "),a.xp6(1),a.Q6J("ngClass",((null==t.moneyAmount?null:t.moneyAmount.length)||"")>7?"moneyTooBig":""),a.xp6(1),a.hij(" ",t.moneyAmount," "),a.xp6(26),a.Q6J("ngForOf",t.cast),a.xp6(1),a.Q6J("ngIf",0===(null==t.cast?null:t.cast.length)),a.xp6(4),a.Q6J("ngIf",t.similarMovies)}}function Nz(n,e){1&n&&a._UZ(0,"app-page-header",66),2&n&&a.Q6J("menuIcon",!0)}function Fz(n,e){1&n&&(a.TgZ(0,"ion-content",4)(1,"ion-header",67)(2,"ion-toolbar"),a._UZ(3,"ion-skeleton-text",68),a.qZA()(),a._UZ(4,"div",69)(5,"ion-skeleton-text",70),a.TgZ(6,"div"),a._UZ(7,"ion-skeleton-text",71)(8,"ion-skeleton-text",71)(9,"ion-skeleton-text",71)(10,"ion-skeleton-text",71)(11,"ion-skeleton-text",71),a.qZA(),a.TgZ(12,"div",72),a._UZ(13,"ion-skeleton-text",73),a.qZA()()),2&n&&(a.Q6J("fullscreen",!0),a.xp6(3),a.Q6J("animated",!0),a.xp6(2),a.Q6J("animated",!0),a.xp6(2),a.Q6J("animated",!0),a.xp6(1),a.Q6J("animated",!0),a.xp6(1),a.Q6J("animated",!0),a.xp6(1),a.Q6J("animated",!0),a.xp6(1),a.Q6J("animated",!0),a.xp6(2),a.Q6J("animated",!0))}const Lz=[{path:"",redirectTo:"movies",pathMatch:"full"},{path:"movies/genre/:genreId",component:fz},{path:"movies/films/:movieId",component:(()=>{class n{constructor(t,r,i){this.ApiCallService=t,this.Host=r,this.MenuCtrl=i,this.urlStart="https://image.tmdb.org/t/p/w500",this.showLoading=!0,this.activatedRoute=(0,a.f3M)(za),this.backDropIcons=[],this.movieGenres=[],this.moneyHeader="Budget: ",this.runtimeHeader="Runtime: ",this.message="This modal example uses triggers to automatically open a modal when the button is clicked."}cancel(t){null==t||t.dismiss(null,"cancel")}clickAnim(t){console.log("hello"),t.classList.add("clickAnimClass"),t.addEventListener("animationend",()=>{t.classList.remove("clickAnimClass")})}confirm(){var t;null===(t=this.modal)||void 0===t||t.dismiss(this.name,"confirm")}onWillDismiss(t){"confirm"===t.detail.role&&(this.message=`Hello, ${t.detail.data}!`)}ngOnInit(){this.showLoading=!0,this.movieId=Number(this.activatedRoute.snapshot.paramMap.get("movieId")||"0"),this.showMovie(),this.showCast(),this.getSimilarMovies(),this.initTimeout()}initTimeout(){this.timeoutId=setTimeout(()=>{console.log("done"),this.MenuCtrl.swipeGesture(!0)},1e3)}moneyChange(){var t,r,i,s,c,h;"Budget: "===this.moneyHeader?(this.moneyHeader="Revenue: ",this.moneyAmount=0!==(null===(t=this.movieData)||void 0===t?void 0:t.revenue)?null===(r=this.movieData)||void 0===r||null===(i=r.revenue)||void 0===i?void 0:i.toLocaleString("en-US",{style:"currency",currency:"USD"}).split(".")[0]:"Unknown"):(this.moneyHeader="Budget: ",this.moneyAmount=0!==(null===(s=this.movieData)||void 0===s?void 0:s.budget)?null===(c=this.movieData)||void 0===c||null===(h=c.budget)||void 0===h?void 0:h.toLocaleString("en-US",{style:"currency",currency:"USD"}).split(".")[0]:"Unknown")}runtimeChange(){var t,r,i;"Runtime: "===this.runtimeHeader?(this.runtimeHeader="Status: ",this.runtimeData=null===(t=this.movieData)||void 0===t?void 0:t.status):(this.runtimeHeader="Runtime: ",this.runtimeData=(null===(r=this.movieData)||void 0===r||null===(i=r.runtime)||void 0===i?void 0:i.toString())+" minutes")}showMovie(){this.ApiCallService.getMovieById(Number(this.movieId)).subscribe(t=>{var r,i,s,c,h,m,y,b,S,P,V;console.log(t),this.movieData=t,this.Host.nativeElement.style.setProperty("--backdrop-image","url("+this.urlStart+this.movieData.backdrop_path+")"),this.Host.nativeElement.style.setProperty("--company-image-amount",this.movieData.production_companies.length.toString()),this.moneyAmount=0!==(null===(r=this.movieData)||void 0===r?void 0:r.budget)?null===(b=this.movieData)||void 0===b||null===(S=b.budget)||void 0===S?void 0:S.toLocaleString("en-US",{style:"currency",currency:"USD"}).split(".")[0]:"Unknown",this.runtimeData=(null===(i=this.movieData)||void 0===i||null===(s=i.runtime)||void 0===s?void 0:s.toString())+" minutes",this.releaseDateText=new Date(null===(c=this.movieData)||void 0===c?void 0:c.release_date).getFullYear().toString()+", "+WT[new Date(null===(h=this.movieData)||void 0===h?void 0:h.release_date).getUTCMonth()]+" "+new Date(null===(m=this.movieData)||void 0===m?void 0:m.release_date).getUTCDate().toString(),this.revenueText=0===(null===(y=this.movieData)||void 0===y?void 0:y.revenue)?"Unknown":null===(P=this.movieData)||void 0===P||null===(V=P.revenue)||void 0===V?void 0:V.toLocaleString("en-US",{style:"currency",currency:"USD"}).split(".")[0];for(let Mt=0;Mt<2;Mt++){var ne,Ne,Xe,ut,xt,yt;this.smallerTest=void 0===(null===(ne=this.movieData)||void 0===ne||null===(Ne=ne.genres[Mt])||void 0===Ne?void 0:Ne.name)?null===(Xe=this.movieData)||void 0===Xe||null===(ut=Xe.genres[Mt])||void 0===ut?void 0:ut.name:"unknown",null===(xt=this.backDropIcons)||void 0===xt||xt.push(qT[this.smallerTest]),null===(yt=this.movieGenres)||void 0===yt||yt.push(this.smallerTest)}this.showLoading=!1})}showCast(){this.ApiCallService.getCastByMovie(Number(this.movieId)).subscribe(t=>{console.log(t),this.cast=t.cast,console.log(this.cast)})}testFunc(){this.MenuCtrl.swipeGesture(!1),clearTimeout(this.timeoutId),this.initTimeout()}getSimilarMovies(){this.ApiCallService.getSimilarMovies(Number(this.movieId)).subscribe(t=>{console.log(t),this.similarMovies=t.results})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(td),a.Y36(a.SBq),a.Y36(Db))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-movie-endpoint"]],viewQuery:function(t,r){if(1&t&&a.Gf(T0,5),2&t){let i;a.iGM(i=a.CRH())&&(r.modal=i.first)}},decls:4,vars:4,consts:[[3,"headerTitle","menuIcon",4,"ngIf"],[3,"fullscreen",4,"ngIf"],["headerTitle","Loading...",3,"menuIcon",4,"ngIf"],[3,"headerTitle","menuIcon"],[3,"fullscreen"],[3,"headerTitle","contentChild"],[1,"desktopTop"],[1,"left"],["id","moviePoster"],["class","posterImg",3,"src",4,"ngIf"],["class","posterImg noImage",4,"ngIf"],["class","tagline",4,"ngIf"],[1,"right"],["id","backdrop"],[1,"top"],[1,"madeBy"],[1,"middle"],["class","backGroundWhite",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"bottom"],[1,"backGroundWhite","runTime",3,"click"],[1,"backGroundWhite"],[3,"ngClass"],[1,"backGroundWhite","moneyHeader",3,"click"],[1,"moneyAmount",3,"ngClass"],["color","primary",1,"actionList"],["id","open-modal","lines","full","detail","",1,"ion-activatable","ripple-parent","rectangle","listItem"],["trigger","open-modal",3,"willDismiss"],["description",""],["lines","full","id","open-modal02","detail","",1,"ion-activatable","ripple-parent","rectangle","listItem"],["trigger","open-modal02",3,"willDismiss"],["genres",""],["lines","full","id","open-modal03","detail","",1,"ion-activatable","ripple-parent","rectangle","listItem"],["trigger","open-modal03",3,"willDismiss"],["languages",""],[1,"cast"],["class","actorDiv",3,"click",4,"ngFor","ngForOf"],["class","unknownText",4,"ngIf"],[1,"similarMovies",3,"scroll"],["class","outline list",3,"movieList","anchorTag",4,"ngIf"],[1,"posterImg",3,"src"],[1,"posterImg","noImage"],[1,"tagline"],["class","logoImg",3,"src",4,"ngIf"],["class","logoImg",4,"ngIf"],[1,"logoImg",3,"src"],[1,"logoImg"],[1,"unknown"],["slot","start"],[3,"click"],["name","arrow-back-outline"],[1,"ion-padding"],[1,"descriptionTitle"],[1,"modalText"],[4,"ngFor","ngForOf"],[1,"actorDiv",3,"click"],["actorCard",""],["target","_blank",3,"href"],[1,"actorImg"],[3,"src",4,"ngIf"],["class","actorNoImg",4,"ngIf"],[1,"actorText"],[3,"src"],[1,"actorNoImg"],[1,"unknownText"],[1,"outline","list",3,"movieList","anchorTag"],["headerTitle","Loading...",3,"menuIcon"],["collapse","condense"],[2,"height","40px",3,"animated"],[1,"popularMoviesSection"],[2,"aspect-ratio","2 / 3","width","100vw","margin","0",3,"animated"],[2,"margin","16px auto","width","90%","height","20px",3,"animated"],[1,"similarMovies"],[2,"margin","16px auto","width","95%","height","25vh",3,"animated"]],template:function(t,r){1&t&&(a.YNc(0,mz,1,2,"app-page-header",0),a.YNc(1,kz,63,18,"ion-content",1),a.YNc(2,Nz,1,1,"app-page-header",2),a.YNc(3,Fz,14,9,"ion-content",1)),2&t&&(a.Q6J("ngIf",!r.showLoading),a.xp6(1),a.Q6J("ngIf",!r.showLoading),a.xp6(1),a.Q6J("ngIf",r.showLoading),a.xp6(1),a.Q6J("ngIf",r.showLoading))},dependencies:[an,Vi,H,$l,Os,ks,Nc,Vl,f0,Fc,Ku,p0,Vx,m0,Qu,Xu,T0,mC,Ry],styles:['@keyframes _ngcontent-%COMP%_clickAnim{0%{transform:translateY(0)}50%{transform:translateY(-5px)}to{transform:translateY(0)}}.actorText[_ngcontent-%COMP%]{font-size:85%;width:100%;text-align:center;justify-content:center}.actionList[_ngcontent-%COMP%], .backGroundWhite[_ngcontent-%COMP%]{background-color:#fff}.moneyHeader[_ngcontent-%COMP%]:hover, .runTime[_ngcontent-%COMP%]:hover{cursor:pointer}.descriptionTitle[_ngcontent-%COMP%]{margin:0 0 16px}.tagline[_ngcontent-%COMP%]{text-align:center;font-size:20px;font-weight:700;margin:10px 0}#backdrop[_ngcontent-%COMP%]{border-radius:5px;width:100vw;background-size:cover;background-position:center center;background-blend-mode:darken;display:flex;flex-flow:column nowrap;justify-content:space-around;padding:0% 0;margin-bottom:20px;background-color:#fff}#backdrop[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{transform:scale(2.5);color:#fff6}#backdrop[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]{padding:2% 5%;display:flex;justify-content:center;align-items:center;border-bottom:1px solid var(--ion-background-color)}#backdrop[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .madeBy[_ngcontent-%COMP%]{font-weight:700;font-size:18px;margin:0}#backdrop[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]{padding:2% 5%;display:flex;flex-flow:row wrap;justify-content:space-around;align-items:center;border-bottom:1px solid var(--ion-background-color)}#backdrop[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]   .logoImg[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;text-align:center;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);border-radius:5px;padding:5px;aspect-ratio:164/100;margin:1% 0;outline:1px solid var(--ion-color-step-150);background-color:var(--ion-background-color);width:40vw}#backdrop[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]   .unknown[_ngcontent-%COMP%]{color:var(--ion-color-step-650);font-weight:700;font-size:20px;margin:0}#backdrop[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]{padding:2% 5%;display:flex;justify-content:space-between;align-items:flex-end}#backdrop[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .moneyTooBig[_ngcontent-%COMP%], #backdrop[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .releaseTooBig[_ngcontent-%COMP%]{font-size:14px}#backdrop[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{height:min-content;min-width:28%;padding:10px;border-radius:5px;margin:0;text-align:center;display:flex;flex-flow:column wrap;justify-content:center;align-items:center;min-height:6.2vh;background-color:var(--ion-background-color)}.actionList[_ngcontent-%COMP%]{border-radius:5px}.cast[_ngcontent-%COMP%]{display:flex;overflow:scroll;align-items:center}.unknownText[_ngcontent-%COMP%]{margin:0 auto;text-align:center}.actorImg[_ngcontent-%COMP%]{width:25vw;overflow:hidden;aspect-ratio:1/1;border-radius:5px}.actorImg[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{justify-content:center;align-items:center}.actorDiv[_ngcontent-%COMP%]{background-color:#fff;display:flex;flex-flow:column nowrap;justify-content:center;align-items:center;border-radius:5px;margin:0 10px;padding:5px;text-align:center}.actorDiv[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{min-height:36px;display:flex;align-items:center;margin:0}.actorDiv[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.actorNoImg[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;aspect-ratio:1/1;box-shadow:inset 5px 5px 6px #0000002b}.noImage[_ngcontent-%COMP%]{width:100%}@media (prefers-color-scheme: dark){.backGroundWhite[_ngcontent-%COMP%]{background-color:unset}[_nghost-%COMP%]{--backdrop-image: "";--company-image-amount: 0}#moviePoster[_ngcontent-%COMP%]{overflow:hidden;border-radius:5px;width:100vw}.noImage[_ngcontent-%COMP%]{aspect-ratio:2/3;background-color:var(--ion-color-step-150);display:flex;justify-content:center;align-items:center}.noImage[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--ion-color-step-650);font-weight:700;font-size:30px;margin:0}.logoImg[_ngcontent-%COMP%], .bottom[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{background-color:var(--ion-color-step-200)!important}.backdropImg[_ngcontent-%COMP%]{background-image:var(--backdrop-image);height:100vh;width:100vw;top:0;object-fit:cover;position:absolute;z-index:-1}.similarMovies[_ngcontent-%COMP%]{overflow:scroll}.modalText[_ngcontent-%COMP%]{border-radius:5px}.actionList[_ngcontent-%COMP%]{border-radius:5px;background-color:unset}#description[_ngcontent-%COMP%]{text-align:center;font-size:20px}#favorite[_ngcontent-%COMP%]{position:absolute;right:1vw;top:1vh;color:red}#backdrop[_ngcontent-%COMP%]{background-color:var(--ion-color-step-50)}#backdrop.ios[_ngcontent-%COMP%]{border:1px solid var(--ion-color-step-150)}.actorDiv[_ngcontent-%COMP%]{background-color:var(--ion-color-step-200)}}@media (min-width: 768px){.actorImg[_ngcontent-%COMP%]{width:12vw}.actorDiv[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{min-height:36px}.actorDiv[_ngcontent-%COMP%]{transition:.2s}.actorDiv[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:var(--ion-color-step-250);transform:translateY(-5px);transition:.2s}.cast[_ngcontent-%COMP%]{height:20vw}#moviePoster[_ngcontent-%COMP%]{display:inline-block;width:90%;margin:0 auto}.noImage[_ngcontent-%COMP%]{aspect-ratio:2/3;display:flex;justify-content:center;align-items:center}.noImage[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--ion-color-step-650);font-weight:700;font-size:30px;margin:0}#backdrop[_ngcontent-%COMP%]{width:100%}#backdrop[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]   .logoImg[_ngcontent-%COMP%]{min-width:12vw;min-height:1vh;width:calc(40vw / var(--company-image-amount) - 2vw);max-width:20vw}.actionList[_ngcontent-%COMP%]{border-radius:5px;padding:0;overflow:hidden}.desktopTop[_ngcontent-%COMP%]{display:flex;justify-content:center}.desktopTop[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{width:40%;display:flex;flex-flow:column nowrap;justify-content:center}.desktopTop[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{width:60%;margin:0 2vw;display:flex;flex-flow:column nowrap;justify-content:space-around}.moneyTooBig[_ngcontent-%COMP%], .releaseTooBig[_ngcontent-%COMP%]{font-size:unset}}@media (min-width: 1200px){.actorImg[_ngcontent-%COMP%]{width:8vw}.cast[_ngcontent-%COMP%]{height:22vh}}']}),n})()},{path:"profile",component:dz,canActivate:[(n,e)=>(0,a.f3M)(pz).canActivate(n,e)]},{path:"login",component:rz},{path:"register",component:iz},{path:"movies",component:JG},{path:"movieSearch",component:sz},{path:"movies/popular",component:ZU},{path:"forgot-password",component:YU},{path:"verify-email-address",component:KU}];let Uz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[NA.forRoot(Lz,{preloadingStrategy:Bu}),NA]}),n})();const Bz_firebaseConfig={apiKey:"AIzaSyD28ejFyr1UEj-vyRhON3xcKAkciBF4rfs",authDomain:"mtec-movie-project.firebaseapp.com",projectId:"mtec-movie-project",storageBucket:"mtec-movie-project.appspot.com",messagingSenderId:"135893341618",appId:"1:135893341618:web:bc4bd5ef1cc49c9c1e00ab"},QU="firebasestorage.googleapis.com",XU="storageBucket";class Ci extends j.ZR{constructor(e,t,r=0){super(sO(e),`Firebase Storage: ${t} (${sO(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ci.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return sO(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var zr=(()=>(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(zr||(zr={})),zr))();function sO(n){return"storage/"+n}function aO(){return new Ci(zr.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function JU(){return new Ci(zr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function eB(){return new Ci(zr.CANCELED,"User canceled the upload/download.")}function tB(){return new Ci(zr.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Oy(n){return new Ci(zr.INVALID_ARGUMENT,n)}function nB(){return new Ci(zr.APP_DELETED,"The Firebase app was deleted.")}function rB(n){return new Ci(zr.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function _C(n,e){return new Ci(zr.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function yC(n){throw new Ci(zr.INTERNAL_ERROR,"Internal error: "+n)}class Zo{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Zo.makeFromUrl(e,t)}catch{return new Zo(e,"")}if(""===r.path)return r;throw function Kz(n){return new Ci(zr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)",h=new RegExp("^gs://"+i+"(/(.*))?$","i");function y(Mt){Mt.path_=decodeURIComponent(Mt.path)}const S=t.replace(/[.]/g,"\\."),yt=[{regex:h,indices:{bucket:1,path:3},postModify:function s(Mt){"/"===Mt.path.charAt(Mt.path.length-1)&&(Mt.path_=Mt.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${S}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:y},{regex:new RegExp(`^https?://${t===QU?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:y}];for(let Mt=0;Mt<yt.length;Mt++){const Sn=yt[Mt],Gn=Sn.regex.exec(e);if(Gn){let Vs=Gn[Sn.indices.path];Vs||(Vs=""),r=new Zo(Gn[Sn.indices.bucket],Vs),Sn.postModify(r);break}}if(null==r)throw function Yz(n){return new Ci(zr.INVALID_URL,"Invalid URL '"+n+"'.")}(e);return r}}class t5{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function ZT(n){return"string"==typeof n||n instanceof String}function iB(n){return lO()&&n instanceof Blob}function lO(){return typeof Blob<"u"&&!(0,j.UG)()}function cO(n,e,t,r){if(r<e)throw Oy(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw Oy(`Invalid value for '${n}'. Expected ${t} or less.`)}function md(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function oB(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var Df=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(Df||(Df={})),Df))();function sB(n,e){const t=n>=500&&n<600,i=-1!==[408,429].indexOf(n),s=-1!==e.indexOf(n);return t||i||s}class a5{constructor(e,t,r,i,s,c,h,m,y,b,S,P=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=c,this.callback_=h,this.errorCallback_=m,this.timeout_=y,this.progressCallback_=b,this.connectionFactory_=S,this.retry=P,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((V,ne)=>{this.resolve_=V,this.reject_=ne,this.start_()})}start_(){const t=(r,i)=>{const s=this.resolve_,c=this.reject_,h=i.connection;if(i.wasSuccessCode)try{const m=this.callback_(h,h.getResponse());!function i5(n){return void 0!==n}(m)?s():s(m)}catch(m){c(m)}else if(null!==h){const m=aO();m.serverResponse=h.getErrorText(),c(this.errorCallback_?this.errorCallback_(h,m):m)}else c(i.canceled?this.appDelete_?nB():eB():JU())};this.canceled_?t(0,new YT(!1,null,!0)):this.backoffId_=function n5(n,e,t){let r=1,i=null,s=null,c=!1,h=0;function m(){return 2===h}let y=!1;function b(...Xe){y||(y=!0,e.apply(null,Xe))}function S(Xe){i=setTimeout(()=>{i=null,n(V,m())},Xe)}function P(){s&&clearTimeout(s)}function V(Xe,...ut){if(y)return void P();if(Xe)return P(),void b.call(null,Xe,...ut);if(m()||c)return P(),void b.call(null,Xe,...ut);let yt;r<64&&(r*=2),1===h?(h=2,yt=0):yt=1e3*(r+Math.random()),S(yt)}let ne=!1;function Ne(Xe){ne||(ne=!0,P(),!y&&(null!==i?(Xe||(h=2),clearTimeout(i),S(0)):Xe||(h=1)))}return S(0),s=setTimeout(()=>{c=!0,Ne(!0)},t),Ne}((r,i)=>{if(i)return void r(!1,new YT(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const c=h=>{null!==this.progressCallback_&&this.progressCallback_(h.loaded,h.lengthComputable?h.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(c),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(c),this.pendingConnection_=null;const h=s.getErrorCode()===Df.NO_ERROR,m=s.getStatus();if(!h||sB(m,this.additionalRetryCodes_)&&this.retry){const b=s.getErrorCode()===Df.ABORT;return void r(!1,new YT(!1,null,b))}const y=-1!==this.successCodes_.indexOf(m);r(!0,new YT(y,s))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function r5(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class YT{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function p5(...n){const e=function f5(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(lO())return new Blob(n);throw new Ci(zr.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const ma={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class uO{constructor(e,t){this.data=e,this.contentType=t||null}}function dO(n,e){switch(n){case ma.RAW:return new uO(aB(e));case ma.BASE64:case ma.BASE64URL:return new uO(lB(n,e));case ma.DATA_URL:return new uO(function y5(n){const e=new cB(n);return e.base64?lB(ma.BASE64,e.rest):function _5(n){let e;try{e=decodeURIComponent(n)}catch{throw _C(ma.DATA_URL,"Malformed data URL.")}return aB(e)}(e.rest)}(e),function v5(n){return new cB(n).contentType}(e))}throw aO()}function aB(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function lB(n,e){switch(n){case ma.BASE64:{const i=-1!==e.indexOf("-"),s=-1!==e.indexOf("_");if(i||s)throw _C(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case ma.BASE64URL:{const i=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(i||s)throw _C(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function m5(n){if(typeof atob>"u")throw function e5(n){return new Ci(zr.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(i){throw i.message.includes("polyfill")?i:_C(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class cB{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw _C(ma.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function w5(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class Kc{constructor(e,t){let r=0,i="";iB(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(iB(this.data_)){const i=function g5(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===i?null:new Kc(i)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Kc(r,!0)}}static getBlob(...e){if(lO()){const t=e.map(r=>r instanceof Kc?r.data_:r);return new Kc(p5.apply(null,t))}{const t=e.map(c=>ZT(c)?dO(ma.RAW,c).data:c.data_);let r=0;t.forEach(c=>{r+=c.byteLength});const i=new Uint8Array(r);let s=0;return t.forEach(c=>{for(let h=0;h<c.length;h++)i[s++]=c[h]}),new Kc(i,!0)}}uploadData(){return this.data_}}function hO(n){let e;try{e=JSON.parse(n)}catch{return null}return function s5(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function uB(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function I5(n,e){return e}class fs{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||I5}}let KT=null;function vC(){if(KT)return KT;const n=[];n.push(new fs("bucket")),n.push(new fs("generation")),n.push(new fs("metageneration")),n.push(new fs("name","fullPath",!0));const t=new fs("name");t.xform=function e(s,c){return function b5(n){return!ZT(n)||n.length<2?n:uB(n)}(c)},n.push(t);const i=new fs("size");return i.xform=function r(s,c){return void 0!==c?Number(c):c},n.push(i),n.push(new fs("timeCreated")),n.push(new fs("updated")),n.push(new fs("md5Hash",null,!0)),n.push(new fs("cacheControl",null,!0)),n.push(new fs("contentDisposition",null,!0)),n.push(new fs("contentEncoding",null,!0)),n.push(new fs("contentLanguage",null,!0)),n.push(new fs("contentType",null,!0)),n.push(new fs("metadata","customMetadata",!0)),KT=n,KT}function dB(n,e,t){const r=hO(e);return null===r?null:function T5(n,e,t){const r={type:"file"},i=t.length;for(let s=0;s<i;s++){const c=t[s];r[c.local]=c.xform(r,e[c.server])}return function D5(n,e){Object.defineProperty(n,"ref",{get:function t(){const s=new Zo(n.bucket,n.fullPath);return e._makeStorageReference(s)}})}(r,n),r}(n,r,t)}function fO(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(t[s.server]=n[s.local])}return JSON.stringify(t)}const hB="prefixes",fB="items";class Qc{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Xc(n){if(!n)throw aO()}function QT(n,e){return function t(r,i){const s=dB(n,i,e);return Xc(null!==s),s}}function ky(n){return function e(t,r){let i;return i=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function Wz(){return new Ci(zr.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function qz(){return new Ci(zr.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function zz(n){return new Ci(zr.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function Zz(n){return new Ci(zr.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}}function wC(n){const e=ky(n);return function t(r,i){let s=e(r,i);return 404===r.getStatus()&&(s=function Gz(n){return new Ci(zr.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=i.serverResponse,s}}function pB(n,e,t){const i=md(e.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,h=new Qc(i,"GET",QT(n,t),c);return h.errorHandler=wC(e),h}function R5(n,e,t,r,i){const s={};s.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(s.delimiter=t),r&&(s.pageToken=r),i&&(s.maxResults=i);const h=md(e.bucketOnlyServerUrl(),n.host,n._protocol),y=n.maxOperationRetryTime,b=new Qc(h,"GET",function M5(n,e){return function t(r,i){const s=function x5(n,e,t){const r=hO(t);return null===r?null:function A5(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[hB])for(const i of t[hB]){const s=i.replace(/\/$/,""),c=n._makeStorageReference(new Zo(e,s));r.prefixes.push(c)}if(t[fB])for(const i of t[fB]){const s=n._makeStorageReference(new Zo(e,i.name));r.items.push(s)}return r}(n,e,r)}(n,e,i);return Xc(null!==s),s}}(n,e.bucket),y);return b.urlParams=s,b.errorHandler=ky(e),b}function mB(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function F5(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class XT{constructor(e,t,r,i){this.current=e,this.total=t,this.finalized=!!r,this.metadata=i||null}}function pO(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{Xc(!1)}return Xc(!!t&&-1!==(e||["active"]).indexOf(t)),t}const $5={STATE_CHANGED:"state_changed"},ps={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function gO(n){switch(n){case"running":case"pausing":case"canceling":return ps.RUNNING;case"paused":return ps.PAUSED;case"success":return ps.SUCCESS;case"canceled":return ps.CANCELED;default:return ps.ERROR}}class V5{constructor(e,t,r){if(function o5(n){return"function"==typeof n}(e)||null!=t||null!=r)this.next=e,this.error=null!=t?t:void 0,this.complete=null!=r?r:void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function Ny(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}let vB=null;class j5{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Df.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Df.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Df.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw yC("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw yC("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw yC("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw yC("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw yC("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class H5 extends j5{initXhr(){this.xhr_.responseType="text"}}function ql(){return vB?vB():new H5}class wB{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=vC(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(zr.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(sB(i.status,[])){if(!s)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();i=JU()}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(zr.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function L5(n,e,t,r,i){const s=e.bucketOnlyServerUrl(),c=mB(e,r,i),h={name:c.fullPath},m=md(s,n.host,n._protocol),b={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},S=fO(c,t),ne=new Qc(m,"POST",function V(Ne){let Xe;pO(Ne);try{Xe=Ne.getResponseHeader("X-Goog-Upload-URL")}catch{Xc(!1)}return Xc(ZT(Xe)),Xe},n.maxUploadRetryTime);return ne.urlParams=h,ne.headers=b,ne.body=S,ne.errorHandler=ky(e),ne}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,ql,e,t);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const i=function U5(n,e,t,r){const m=new Qc(t,"POST",function s(y){const b=pO(y,["active","final"]);let S=null;try{S=y.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Xc(!1)}S||Xc(!1);const P=Number(S);return Xc(!isNaN(P)),new XT(P,r.size(),"final"===b)},n.maxUploadRetryTime);return m.headers={"X-Goog-Upload-Command":"query"},m.errorHandler=ky(e),m}(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,ql,t,r);this._request=s,s.getPromise().then(c=>{this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new XT(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let c;try{c=function B5(n,e,t,r,i,s,c,h){const m=new XT(0,0);if(c?(m.current=c.current,m.total=c.total):(m.current=0,m.total=r.size()),r.size()!==m.total)throw function Xz(){return new Ci(zr.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const y=m.total-m.current;let b=y;i>0&&(b=Math.min(b,i));const S=m.current;let V="";V=0===b?"finalize":y===b?"upload, finalize":"upload";const ne={"X-Goog-Upload-Command":V,"X-Goog-Upload-Offset":`${m.current}`},Ne=r.slice(S,S+b);if(null===Ne)throw tB();const yt=new Qc(t,"POST",function Xe(Mt,Sn){const Gn=pO(Mt,["active","final"]),io=m.current+b,Vs=r.size();let Tk;return Tk="final"===Gn?QT(e,s)(Mt,Sn):null,new XT(io,Vs,"final"===Gn,Tk)},e.maxUploadRetryTime);return yt.headers=ne,yt.body=Ne.uploadData(),yt.progressCallback=h||null,yt.errorHandler=ky(n),yt}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(m){return this._error=m,void this._transition("error")}const h=this._ref.storage._makeRequest(c,ql,i,s,!1);this._request=h,h.getPromise().then(m=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(m.current),m.finalized?(this._metadata=m.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=pB(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,ql,e,t);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=function _B(n,e,t,r,i){const s=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"},m=function h(){let yt="";for(let Mt=0;Mt<2;Mt++)yt+=Math.random().toString().slice(2);return yt}();c["Content-Type"]="multipart/related; boundary="+m;const y=mB(e,r,i),b=fO(y,t),V=Kc.getBlob("--"+m+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+b+"\r\n--"+m+"\r\nContent-Type: "+y.contentType+"\r\n\r\n",r,"\r\n--"+m+"--");if(null===V)throw tB();const ne={name:y.fullPath},Ne=md(s,n.host,n._protocol),ut=n.maxUploadRetryTime,xt=new Qc(Ne,"POST",QT(n,t),ut);return xt.urlParams=ne,xt.headers=c,xt.body=V.uploadData(),xt.errorHandler=ky(e),xt}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,ql,e,t);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=eB(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=gO(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,i){const s=new V5(t||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(gO(this._state)){case ps.SUCCESS:Ny(this._resolve.bind(null,this.snapshot))();break;case ps.CANCELED:case ps.ERROR:Ny(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(gO(this._state)){case ps.RUNNING:case ps.PAUSED:e.next&&Ny(e.next.bind(e,this.snapshot))();break;case ps.SUCCESS:e.complete&&Ny(e.complete.bind(e))();break;default:e.error&&Ny(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class jg{constructor(e,t){this._service=e,this._location=t instanceof Zo?t:Zo.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new jg(e,t)}get root(){const e=new Zo(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return uB(this._location.path)}get storage(){return this._service}get parent(){const e=function C5(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new Zo(this._location.bucket,e);return new jg(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw rB(e)}}function EB(n,e,t){return mO.apply(this,arguments)}function mO(){return mO=(0,ze.Z)(function*(n,e,t){const i=yield IB(n,{pageToken:t});e.prefixes.push(...i.prefixes),e.items.push(...i.items),null!=i.nextPageToken&&(yield EB(n,e,i.nextPageToken))}),mO.apply(this,arguments)}function IB(n,e){null!=e&&"number"==typeof e.maxResults&&cO("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=R5(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,ql)}function tq(n){n._throwIfRoot("getDownloadURL");const e=function O5(n,e,t){const i=md(e.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,h=new Qc(i,"GET",function P5(n,e){return function t(r,i){const s=dB(n,i,e);return Xc(null!==s),function S5(n,e,t,r){const i=hO(e);if(null===i||!ZT(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const c=encodeURIComponent;return s.split(",").map(y=>{const S=n.fullPath;return md("/b/"+c(n.bucket)+"/o/"+c(S),t,r)+oB({alt:"media",token:y})})[0]}(s,i,n.host,n._protocol)}}(n,t),c);return h.errorHandler=wC(e),h}(n.storage,n._location,vC());return n.storage.makeRequestWithTokens(e,ql).then(t=>{if(null===t)throw function Jz(){return new Ci(zr.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return t})}function bB(n,e){const t=function E5(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new Zo(n._location.bucket,t);return new jg(n.storage,r)}function DB(n,e){if(n instanceof _O){const t=n;if(null==t._bucket)throw function Qz(){return new Ci(zr.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+XU+"' property when initializing the app?")}();const r=new jg(t,t._bucket);return null!=e?DB(r,e):r}return void 0!==e?bB(n,e):n}function oq(n,e){if(e&&function rq(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof _O)return function iq(n,e){return new jg(n,e)}(n,e);throw Oy("To use ref(service, url), the first argument must be a Storage instance.")}return DB(n,e)}function TB(n,e){const t=null==e?void 0:e[XU];return null==t?null:Zo.makeFromBucketSpec(t,n)}class _O{constructor(e,t,r,i,s){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=QU,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Zo.makeFromBucketSpec(i,this._host):TB(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Zo.makeFromBucketSpec(this._url,e):TB(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){cO("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){cO("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,ze.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,ze.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new jg(this,e)}_makeRequest(e,t,r,i,s=!0){if(this._deleted)return new t5(nB());{const c=function h5(n,e,t,r,i,s,c=!0){const h=oB(n.urlParams),m=n.url+h,y=Object.assign({},n.headers);return function u5(n,e){e&&(n["X-Firebase-GMPID"]=e)}(y,e),function l5(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(y,t),function c5(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(y,s),function d5(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(y,r),new a5(m,n.method,y,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,c)}(e,this._appId,r,i,t,this._firebaseVersion,s);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}makeRequestWithTokens(e,t){var r=this;return(0,ze.Z)(function*(){const[i,s]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,i,s).getPromise()})()}}const SB="@firebase/storage";function MB(n,e){return oq(n=(0,j.m9)(n),e)}function gq(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new _O(t,r,i,e,gr.SDK_VERSION)}!function mq(){(0,gr._registerComponent)(new da.wA("storage",gq,"PUBLIC").setMultipleInstances(!0)),(0,gr.registerVersion)(SB,"0.11.2",""),(0,gr.registerVersion)(SB,"0.11.2","esm2017")}();class JT{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class RB{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new JT(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new JT(r,this,this._ref))},t)}on(e,t,r,i){let s;return t&&(s="function"==typeof t?c=>t(new JT(c,this,this._ref)):{next:t.next?c=>t.next(new JT(c,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,s,r||void 0,i||void 0)}}class OB{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new _d(e,this._service))}get items(){return this._delegate.items.map(e=>new _d(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class _d{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function pq(n,e){return bB(n,e)}(this._delegate,e);return new _d(t,this.storage)}get root(){return new _d(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new _d(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new RB(function aq(n,e,t){return function K5(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new wB(n,new Kc(e),t)}(n=(0,j.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=ma.RAW,r){this._throwIfRoot("putString");const i=dO(t,e),s=Object.assign({},r);return null==s.contentType&&null!=i.contentType&&(s.contentType=i.contentType),new RB(new wB(this._delegate,new Kc(i.data,!0),s),this)}listAll(){return function dq(n){return function X5(n){const e={prefixes:[],items:[]};return EB(n,e).then(()=>e)}(n=(0,j.m9)(n))}(this._delegate).then(e=>new OB(e,this.storage))}list(e){return function uq(n,e){return IB(n=(0,j.m9)(n),e)}(this._delegate,e||void 0).then(t=>new OB(t,this.storage))}getMetadata(){return function lq(n){return function J5(n){n._throwIfRoot("getMetadata");const e=pB(n.storage,n._location,vC());return n.storage.makeRequestWithTokens(e,ql)}(n=(0,j.m9)(n))}(this._delegate)}updateMetadata(e){return function cq(n,e){return function eq(n,e){n._throwIfRoot("updateMetadata");const t=function k5(n,e,t,r){const s=md(e.fullServerUrl(),n.host,n._protocol),h=fO(t,r),y=n.maxOperationRetryTime,b=new Qc(s,"PATCH",QT(n,r),y);return b.headers={"Content-Type":"application/json; charset=utf-8"},b.body=h,b.errorHandler=wC(e),b}(n.storage,n._location,e,vC());return n.storage.makeRequestWithTokens(t,ql)}(n=(0,j.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function hq(n){return tq(n=(0,j.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function fq(n){return function nq(n){n._throwIfRoot("deleteObject");const e=function N5(n,e){const r=md(e.fullServerUrl(),n.host,n._protocol),h=new Qc(r,"DELETE",function c(m,y){},n.maxOperationRetryTime);return h.successCodes=[200,204],h.errorHandler=wC(e),h}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,ql)}(n=(0,j.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw rB(e)}}class kB{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(NB(e))throw Oy("ref() expected a child path but got a URL, use refFromURL instead.");return new _d(MB(this._delegate,e),this)}refFromURL(e){if(!NB(e))throw Oy("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Zo.makeFromUrl(e,this._delegate.host)}catch{throw Oy("refFromUrl() expected a valid full URL but got an invalid one.")}return new _d(MB(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){!function PB(n,e,t,r={}){!function sq(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken="string"==typeof i?i:(0,j.Sg)(i,n.app.options.projectId))}(n,e,t,r)}(this._delegate,e,t,r)}}function NB(n){return/^[A-Za-z]+:\/\//.test(n)}function wq(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new kB(t,r)}function FB(n){const e=function Eq(n){return new si.y(e=>{const t=c=>e.next(c);t(n.snapshot);const s=n.on("state_changed",t);return n.then(c=>{t(c),e.complete()},c=>{t(n.snapshot),(c=>{e.error(c)})(c)}),function(){s()}}).pipe(function $z(n,e=U0.z){return(0,ai.e)((t,r)=>{let i=null,s=null,c=null;const h=()=>{if(i){i.unsubscribe(),i=null;const y=s;s=null,r.next(y)}};function m(){const y=c+n,b=e.now();if(b<y)return i=this.schedule(void 0,y-b),void r.add(i);h()}t.subscribe((0,jr.x)(r,y=>{s=y,c=e.now(),i||(i=e.schedule(m,n),r.add(i))},()=>{h(),r.complete()},void 0,()=>{s=i=null}))})}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,Vt.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function eS(n){return{getDownloadURL:()=>Nt(void 0).pipe(sr.fc,ur(()=>n.getDownloadURL()),sr.iC),getMetadata:()=>Nt(void 0).pipe(sr.fc,ur(()=>n.getMetadata()),sr.iC),delete:()=>(0,Vn.D)(n.delete()),child:e=>eS(n.child(e)),updateMetadata:e=>(0,Vn.D)(n.updateMetadata(e)),put:(e,t)=>FB(n.put(e,t)),putString:(e,t,r)=>FB(n.putString(e,t,r)),list:e=>(0,Vn.D)(n.list(e)),listAll:()=>(0,Vn.D)(n.listAll())}}!function Cq(n){const e={TaskState:ps,TaskEvent:$5,StringFormat:ma,Storage:kB,Reference:_d};n.INTERNAL.registerComponent(new da.wA("storage-compat",wq,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.3.2")}(nd.Z);const Iq=new a.OlP("angularfire2.storageBucket"),bq=new a.OlP("angularfire2.storage.maxUploadRetryTime"),Dq=new a.OlP("angularfire2.storage.maxOperationRetryTime"),Tq=new a.OlP("angularfire2.storage.use-emulator");let Sq=(()=>{class n{constructor(t,r,i,s,c,h,m,y,b,S){const P=(0,Ai.on)(t,c,r);this.storage=(0,Ai.cc)(`${P.name}.storage.${i}`,"AngularFireStorage",P.name,()=>{const V=c.runOutsideAngular(()=>P.storage(i||void 0)),ne=b;return ne&&V.useEmulator(...ne),m&&V.setMaxUploadRetryTime(m),y&&V.setMaxOperationRetryTime(y),V},[m,y])}ref(t){return eS(this.storage.ref(t))}refFromURL(t){return eS(this.storage.refFromURL(t))}upload(t,r,i){return eS(this.storage.ref(t)).put(r,i)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Ai.Dh),a.LFG(Ai.xv,8),a.LFG(Iq,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(sr.HU),a.LFG(bq,8),a.LFG(Dq,8),a.LFG(Tq,8),a.LFG(pC,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Aq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})(),xq=(()=>{class n{constructor(){HT.Z.registerVersion("angularfire",sr.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[Sq],imports:[Aq]}),n})();var Mq=R(5032);const LB="@firebase/database";let yO="";function BB(n){yO=n}class Oq{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,j.Wl)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,j.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class kq{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,j.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const $B=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Oq(e)}}catch{}return new kq},Hg=$B("localStorage"),vO=$B("sessionStorage"),Fy=new po.Yd("@firebase/database"),VB=function(){let n=1;return function(){return n++}}(),jB=function(n){const e=(0,j.dS)(n),t=new j.gQ;t.update(e);const r=t.digest();return j.US.encodeByteArray(r)},CC=function(...n){let e="";for(let t=0;t<n.length;t++){const r=n[t];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=CC.apply(null,r):e+="object"==typeof r?(0,j.Wl)(r):r,e+=" "}return e};let Gg=null,HB=!0;const GB=function(n,e){(0,j.hu)(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Fy.logLevel=po.in.VERBOSE,Gg=Fy.log.bind(Fy),e&&vO.set("logging_enabled",!0)):"function"==typeof n?Gg=n:(Gg=null,vO.remove("logging_enabled"))},wo=function(...n){if(!0===HB&&(HB=!1,null===Gg&&!0===vO.get("logging_enabled")&&GB(!0)),Gg){const e=CC.apply(null,n);Gg(e)}},EC=function(n){return function(...e){wo(n,...e)}},wO=function(...n){const e="FIREBASE INTERNAL ERROR: "+CC(...n);Fy.error(e)},Jc=function(...n){const e=`FIREBASE FATAL ERROR: ${CC(...n)}`;throw Fy.error(e),new Error(e)},Yo=function(...n){const e="FIREBASE WARNING: "+CC(...n);Fy.warn(e)},tS=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Tf="[MIN_NAME]",yd="[MAX_NAME]",zg=function(n,e){if(n===e)return 0;if(n===Tf||e===yd)return-1;if(e===Tf||n===yd)return 1;{const t=WB(n),r=WB(e);return null!==t?null!==r?t-r==0?n.length-e.length:t-r:-1:null!==r?1:n<e?-1:1}},Lq=function(n,e){return n===e?0:n<e?-1:1},IC=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+(0,j.Wl)(e))},CO=function(n){if("object"!=typeof n||null===n)return(0,j.Wl)(n);const e=[];for(const r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)0!==r&&(t+=","),t+=(0,j.Wl)(e[r]),t+=":",t+=CO(n[e[r]]);return t+="}",t},zB=function(n,e){const t=n.length;if(t<=e)return[n];const r=[];for(let i=0;i<t;i+=e)r.push(n.substring(i,i+e>t?t:i+e));return r};function Co(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const qB=function(n){(0,j.hu)(!tS(n),"Invalid JSON number");const r=1023;let i,s,c,h,m;0===n?(s=0,c=0,i=1/n==-1/0?1:0):(i=n<0,(n=Math.abs(n))>=Math.pow(2,1-r)?(h=Math.min(Math.floor(Math.log(n)/Math.LN2),r),s=h+r,c=Math.round(n*Math.pow(2,52-h)-Math.pow(2,52))):(s=0,c=Math.round(n/Math.pow(2,-1074))));const y=[];for(m=52;m;m-=1)y.push(c%2?1:0),c=Math.floor(c/2);for(m=11;m;m-=1)y.push(s%2?1:0),s=Math.floor(s/2);y.push(i?1:0),y.reverse();const b=y.join("");let S="";for(m=0;m<64;m+=8){let P=parseInt(b.substr(m,8),2).toString(16);1===P.length&&(P="0"+P),S+=P}return S.toLowerCase()},Vq=new RegExp("^-?(0*)\\d{1,10}$"),WB=function(n){if(Vq.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},Ly=function(n){try{n()}catch(e){setTimeout(()=>{throw Yo("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},Gq=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},bC=function(n,e){const t=setTimeout(n,e);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class zq{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null==t||t.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Yo(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class qq{constructor(e,t,r){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(wo("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Yo(e)}}let DC=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const XB=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,t$="websocket",n$="long_polling";class IO{constructor(e,t,r,i,s=!1,c="",h=!1,m=!1){this.secure=t,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=c,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=m,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Hg.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Hg.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function r$(n,e,t){let r;if((0,j.hu)("string"==typeof e,"typeof type must == string"),(0,j.hu)("object"==typeof t,"typeof params must == object"),e===t$)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==n$)throw new Error("Unknown connection type: "+e);r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function Wq(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const i=[];return Co(t,(s,c)=>{i.push(s+"="+c)}),r+i.join("&")}class Zq{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,j.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,j.p$)(this.counters_)}}const bO={},DO={};function TO(n){const e=n.toString();return bO[e]||(bO[e]=new Zq),bO[e]}class Kq{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Ly(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Sf{constructor(e,t,r,i,s,c,h){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=c,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=EC(e),this.stats_=TO(t),this.urlFn=m=>(this.appCheckToken&&(m.ac=this.appCheckToken),r$(t,n$,m))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Kq(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,j.Yr)()||"complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new SO((...s)=>{const[c,h,m,y,b]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===c)this.id=h,this.password=m;else{if("close"!==c)throw new Error("Unrecognized command received: "+c);h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[c,h]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(c,h)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&XB.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Sf.forceAllow_=!0}static forceDisallow(){Sf.forceDisallow_=!0}static isAvailable(){return!((0,j.Yr)()||!Sf.forceAllow_&&(Sf.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,j.Wl)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=(0,j.h$)(t),i=zB(r,1840);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,j.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,j.Wl)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class SO{constructor(e,t,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,j.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=VB(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=SO.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(h){wo("frame writing exception"),h.stack&&wo(h.stack),wo(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||wo("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const c=this.pendingSegs.shift();r=r+"&seg"+i+"="+c.seg+"&ts"+i+"="+c.ts+"&d"+i+"="+c.d,i++}return t+=r,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,t){(0,j.Yr)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{wo("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let rS=null;typeof MozWebSocket<"u"?rS=MozWebSocket:typeof WebSocket<"u"&&(rS=WebSocket);let Uy=(()=>{class n{constructor(t,r,i,s,c,h,m){this.connId=t,this.applicationId=i,this.appCheckToken=s,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=EC(this.connId),this.stats_=TO(r),this.connURL=n.connectionURL_(r,h,m,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,i,s,c){const h={v:"5"};return!(0,j.Yr)()&&typeof location<"u"&&location.hostname&&XB.test(location.hostname)&&(h.r="f"),r&&(h.s=r),i&&(h.ls=i),s&&(h.ac=s),c&&(h.p=c),r$(t,t$,h)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Hg.set("previous_websocket_failure",!0);try{let i;if((0,j.Yr)()){i={headers:{"User-Agent":`Firebase/5/${yO}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);const c=process.env,h=0===this.connURL.indexOf("wss://")?c.HTTPS_PROXY||c.https_proxy:c.HTTP_PROXY||c.http_proxy;h&&(i.proxy={origin:h})}this.mySock=new rS(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&null!==rS&&!n.forceDisallow_}static previouslyFailed(){return Hg.isInMemoryStorage||!0===Hg.get("previous_websocket_failure")}markConnectionHealthy(){Hg.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=(0,j.cI)(r);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,j.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();const r=(0,j.Wl)(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=zB(r,16384);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),u$=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Sf,Uy]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const r=Uy&&Uy.isAvailable();let i=r&&!Uy.previouslyFailed();if(t.webSocketOnly&&(r||Yo("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Uy];else{const s=this.transports_=[];for(const c of n.ALL_TRANSPORTS)c&&c.isAvailable()&&s.push(c);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class _${constructor(e,t,r,i,s,c,h,m,y,b){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=c,this.onReady_=h,this.onDisconnect_=m,this.onKill_=y,this.lastSessionId=b,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=EC("c:"+this.id+":"),this.transportManager_=new u$(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=bC(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=IC("t",e),r=IC("d",e);if("c"===t)this.onSecondaryControl_(r);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=IC("t",e),r=IC("d",e);"c"===t?this.onControl_(r):"d"===t&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=IC("t",e);if("d"in e){const r=e.d;if("h"===t){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(r):"r"===t?this.onReset_(r):"e"===t?wO("Server Error: "+r):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):wO("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==r&&Yo("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),bC(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):bC(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Hg.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class y${put(e,t,r,i){}merge(e,t,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}}class v${constructor(e){this.allowedEvents_=e,this.listeners_={},(0,j.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});const i=this.getInitialEvent(e);i&&t.apply(r,i)}off(e,t,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===t&&(!r||r===i[s].context))return void i.splice(s,1)}validateEventType_(e){(0,j.hu)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class iS extends v${constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,j.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new iS}getInitialEvent(e){return(0,j.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}const w$=32,C$=768;class Cr{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function dr(){return new Cr("")}function qn(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Af(n){return n.pieces_.length-n.pieceNum_}function Vr(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Cr(n.pieces_,e)}function xO(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function TC(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function E$(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new Cr(e,0)}function fi(n,e){const t=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);if(e instanceof Cr)for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&t.push(r[i])}return new Cr(t,0)}function Wn(n){return n.pieceNum_>=n.pieces_.length}function gs(n,e){const t=qn(n),r=qn(e);if(null===t)return e;if(t===r)return gs(Vr(n),Vr(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function yW(n,e){const t=TC(n,0),r=TC(e,0);for(let i=0;i<t.length&&i<r.length;i++){const s=zg(t[i],r[i]);if(0!==s)return s}return t.length===r.length?0:t.length<r.length?-1:1}function MO(n,e){if(Af(n)!==Af(e))return!1;for(let t=n.pieceNum_,r=e.pieceNum_;t<=n.pieces_.length;t++,r++)if(n.pieces_[t]!==e.pieces_[r])return!1;return!0}function nl(n,e){let t=n.pieceNum_,r=e.pieceNum_;if(Af(n)>Af(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[r])return!1;++t,++r}return!0}class vW{constructor(e,t){this.errorPrefix_=t,this.parts_=TC(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=(0,j.ug)(this.parts_[r]);I$(this)}}function I$(n){if(n.byteLength_>C$)throw new Error(n.errorPrefix_+"has a key path longer than "+C$+" bytes ("+n.byteLength_+").");if(n.parts_.length>w$)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+w$+") or object contains a cycle "+qg(n))}function qg(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class PO extends v${constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new PO}getInitialEvent(e){return(0,j.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const SC=1e3;let sS,Wg=(()=>{class n extends y${constructor(t,r,i,s,c,h,m,y){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=c,this.authTokenProvider_=h,this.appCheckTokenProvider_=m,this.authOverride_=y,this.id=n.nextPersistentConnectionId_++,this.log_=EC("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=SC,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,y&&!(0,j.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");PO.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&iS.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,i){const s=++this.requestNumber_,c={r:s,a:t,b:r};this.log_((0,j.Wl)(c)),(0,j.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),i&&(this.requestCBHash_[s]=i)}get(t){this.initConnection_();const r=new j.BH,s={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:h=>{const m=h.d;"ok"===h.s?r.resolve(m):r.reject(m)}};return this.outstandingGets_.push(s),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(t,r,i,s){this.initConnection_();const c=t._queryIdentifier,h=t._path.toString();this.log_("Listen called for "+h+" "+c),this.listens.has(h)||this.listens.set(h,new Map),(0,j.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,j.hu)(!this.listens.get(h).has(c),"listen() called twice for same path/queryId.");const m={onComplete:s,hashFn:r,query:t,tag:i};this.listens.get(h).set(c,m),this.connected_&&this.sendListen_(m)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(t){const r=t.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);const c={p:i};t.tag&&(c.q=r._queryObject,c.t=t.tag),c.h=t.hashFn(),this.sendRequest("q",c,m=>{const y=m.d,b=m.s;n.warnOnListenWarnings_(y,r),(this.listens.get(i)&&this.listens.get(i).get(s))===t&&(this.log_("listen response",m),"ok"!==b&&this.removeListen_(i,s),t.onComplete&&t.onComplete(b,y))})}static warnOnListenWarnings_(t,r){if(t&&"object"==typeof t&&(0,j.r3)(t,"w")){const i=(0,j.DV)(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',c=r._path.toString();Yo(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,j.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=(0,j.w9)(t)?"auth":"gauth",i={cred:t};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{const c=s.s,h=s.d||"error";this.authToken_===t&&("ok"===c?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,i=t.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(t,r){const i=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),(0,j.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,t._queryObject,r)}sendUnlisten_(t,r,i,s){this.log_("Unlisten on "+t+" for "+r);const c={p:t};s&&(c.q=i,c.t=s),this.sendRequest("n",c)}onDisconnectPut(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:i})}onDisconnectMerge(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:i})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,i,s){const c={p:r,d:i};this.log_("onDisconnect "+t,c),this.sendRequest(t,c,h=>{s&&setTimeout(()=>{s(h.s,h.d)},Math.floor(0))})}put(t,r,i,s){this.putInternal("p",t,r,i,s)}merge(t,r,i,s){this.putInternal("m",t,r,i,s)}putInternal(t,r,i,s,c){this.initConnection_();const h={p:r,d:i};void 0!==c&&(h.h=c),this.outstandingPuts_.push({action:t,request:h,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,i,c=>{this.log_(r+" response",c),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(c.s,c.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,j.Wl)(t));const r=t.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),"d"===t?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===t?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===t?this.onListenRevoked_(r.p,r.q):"ac"===t?this.onAuthRevoked_(r.s,r.d):"apc"===t?this.onAppCheckRevoked_(r.s,r.d):"sd"===t?this.onSecurityDebugPacket_(r):wO("Unrecognized action received from server: "+(0,j.Wl)(t)+"\nAre you using the latest client?")}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,j.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=SC,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=SC,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=SC),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,ze.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const r=t.onDataMessage_.bind(t),i=t.onReady_.bind(t),s=t.onRealtimeDisconnect_.bind(t),c=t.id+":"+n.nextConnectionId_++,h=t.lastSessionId;let m=!1,y=null;const b=function(){y?y.close():(m=!0,s())};t.realtime_={close:b,sendRequest:function(V){(0,j.hu)(y,"sendRequest call when we're not connected not allowed."),y.sendRequest(V)}};const P=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[V,ne]=yield Promise.all([t.authTokenProvider_.getToken(P),t.appCheckTokenProvider_.getToken(P)]);m?wo("getToken() completed but was canceled"):(wo("getToken() completed. Creating connection."),t.authToken_=V&&V.accessToken,t.appCheckToken_=ne&&ne.token,y=new _$(c,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,r,i,s,Ne=>{Yo(Ne+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},h))}catch(V){t.log_("Failed to get token: "+V),m||(t.repoInfo_.nodeAdmin&&Yo(V),b())}}})()}interrupt(t){wo("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){wo("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,j.xb)(this.interruptReasons_)&&(this.reconnectDelay_=SC,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let i;i=r?r.map(c=>CO(c)).join("$"):"default";const s=this.removeListen_(t,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,r){const i=new Cr(t).toString();let s;if(this.listens.has(i)){const c=this.listens.get(i);s=c.get(r),c.delete(r),0===c.size&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(t,r){wo("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){wo("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";(0,j.Yr)()&&(r=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+r+"."+yO.replace(/\./g,"-")]=1,(0,j.uI)()?t["framework.cordova"]=1:(0,j.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=iS.getInstance().currentlyOnline();return(0,j.xb)(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Zn{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Zn(e,t)}}class oS{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const r=new Zn(Tf,e),i=new Zn(Tf,t);return 0!==this.compare(r,i)}minPost(){return Zn.MIN}}class T$ extends oS{static get __EMPTY_NODE(){return sS}static set __EMPTY_NODE(e){sS=e}compare(e,t){return zg(e.name,t.name)}isDefinedOn(e){throw(0,j.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Zn.MIN}maxPost(){return new Zn(yd,sS)}makePost(e,t){return(0,j.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new Zn(e,sS)}toString(){return".key"}}const eu=new T$;class aS{constructor(e,t,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let c=1;for(;!e.isEmpty();)if(c=t?r(e.key,t):1,i&&(c*=-1),c<0)e=this.isReverse_?e.left:e.right;else{if(0===c){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let OO,Wl=(()=>{class n{constructor(t,r,i,s,c){this.key=t,this.value=r,this.color=null!=i?i:n.RED,this.left=null!=s?s:Bs.EMPTY_NODE,this.right=null!=c?c:Bs.EMPTY_NODE}copy(t,r,i,s,c){return new n(null!=t?t:this.key,null!=r?r:this.value,null!=i?i:this.color,null!=s?s:this.left,null!=c?c:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,i){let s=this;const c=i(t,s.key);return s=c<0?s.copy(null,null,null,s.left.insert(t,r,i),null):0===c?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(t,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Bs.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let i,s;if(i=this,r(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(t,i.key)){if(i.right.isEmpty())return Bs.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Bs{constructor(e,t=Bs.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Bs(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Wl.BLACK,null,null))}remove(e){return new Bs(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Wl.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,i=null;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}t<0?r=r.left:t>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new aS(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new aS(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new aS(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new aS(this.root_,null,this.comparator_,!0,e)}}function SW(n,e){return zg(n.name,e.name)}function RO(n,e){return zg(n,e)}Bs.EMPTY_NODE=new class TW{copy(e,t,r,i,s){return this}insert(e,t,r){return new Wl(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const S$=function(n){return"number"==typeof n?"number:"+qB(n):"string:"+n},A$=function(n){if(n.isLeafNode()){const e=n.val();(0,j.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,j.r3)(e,".sv"),"Priority must be a string or number.")}else(0,j.hu)(n===OO||n.isEmpty(),"priority of unexpected type.");(0,j.hu)(n===OO||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let x$,M$,P$,By=(()=>{class n{constructor(t,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,(0,j.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),A$(this.priorityNode_)}static set __childrenNodeConstructor(t){x$=t}static get __childrenNodeConstructor(){return x$}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Wn(t)?this:".priority"===qn(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return".priority"===t?this.updatePriority(r):r.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const i=qn(t);return null===i?r:r.isEmpty()&&".priority"!==i?this:((0,j.hu)(".priority"!==i||1===Af(t),".priority must be the last token in a path"),this.updateImmediateChild(i,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Vr(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+S$(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",t+="number"===r?qB(this.value_):this.value_,this.lazyHash_=jB(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:((0,j.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,i=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(r),c=n.VALUE_TYPE_ORDER.indexOf(i);return(0,j.hu)(s>=0,"Unknown leaf type: "+r),(0,j.hu)(c>=0,"Unknown leaf type: "+i),s===c?"object"===i?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:c-s}withIndex(){return this}isIndexed(){return!0}equals(t){return t===this||!!t.isLeafNode()&&(this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const qr=new class PW extends oS{compare(e,t){const r=e.node.getPriority(),i=t.node.getPriority(),s=r.compareTo(i);return 0===s?zg(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Zn.MIN}maxPost(){return new Zn(yd,new By("[PRIORITY-POST]",P$))}makePost(e,t){const r=M$(e);return new Zn(t,new By("[PRIORITY-POST]",r))}toString(){return".priority"}},RW=Math.log(2);class OW{constructor(e){this.count=parseInt(Math.log(e+1)/RW,10),this.current_=this.count-1;const i=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const lS=function(n,e,t,r){n.sort(e);const i=function(m,y){const b=y-m;let S,P;if(0===b)return null;if(1===b)return S=n[m],P=t?t(S):S,new Wl(P,S.node,Wl.BLACK,null,null);{const V=parseInt(b/2,10)+m,ne=i(m,V),Ne=i(V+1,y);return S=n[V],P=t?t(S):S,new Wl(P,S.node,Wl.BLACK,ne,Ne)}},h=function(m){let y=null,b=null,S=n.length;const P=function(ne,Ne){const Xe=S-ne,ut=S;S-=ne;const xt=i(Xe+1,ut),yt=n[Xe],Mt=t?t(yt):yt;V(new Wl(Mt,yt.node,Ne,null,xt))},V=function(ne){y?(y.left=ne,y=ne):(b=ne,y=ne)};for(let ne=0;ne<m.count;++ne){const Ne=m.nextBitIsOne(),Xe=Math.pow(2,m.count-(ne+1));Ne?P(Xe,Wl.BLACK):(P(Xe,Wl.BLACK),P(Xe,Wl.RED))}return b}(new OW(n.length));return new Bs(r||e,h)};let kO;const $y={};class vd{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,j.hu)($y&&qr,"ChildrenNode.ts has not been loaded"),kO=kO||new vd({".priority":$y},{".priority":qr}),kO}get(e){const t=(0,j.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Bs?t:null}hasIndex(e){return(0,j.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,j.hu)(e!==eu,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=t.getIterator(Zn.Wrap);let h,c=s.getNext();for(;c;)i=i||e.isDefinedOn(c.node),r.push(c),c=s.getNext();h=i?lS(r,e.getCompare()):$y;const m=e.toString(),y=Object.assign({},this.indexSet_);y[m]=e;const b=Object.assign({},this.indexes_);return b[m]=h,new vd(b,y)}addToIndexes(e,t){const r=(0,j.UI)(this.indexes_,(i,s)=>{const c=(0,j.DV)(this.indexSet_,s);if((0,j.hu)(c,"Missing index implementation for "+s),i===$y){if(c.isDefinedOn(e.node)){const h=[],m=t.getIterator(Zn.Wrap);let y=m.getNext();for(;y;)y.name!==e.name&&h.push(y),y=m.getNext();return h.push(e),lS(h,c.getCompare())}return $y}{const h=t.get(e.name);let m=i;return h&&(m=m.remove(new Zn(e.name,h))),m.insert(e,e.node)}});return new vd(r,this.indexSet_)}removeFromIndexes(e,t){const r=(0,j.UI)(this.indexes_,i=>{if(i===$y)return i;{const s=t.get(e.name);return s?i.remove(new Zn(e.name,s)):i}});return new vd(r,this.indexSet_)}}let AC,Ln=(()=>{class n{constructor(t,r,i){this.children_=t,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&A$(this.priorityNode_),this.children_.isEmpty()&&(0,j.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return AC||(AC=new n(new Bs(RO),null,vd.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||AC}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const r=this.children_.get(t);return null===r?AC:r}}getChild(t){const r=qn(t);return null===r?this:this.getImmediateChild(r).getChild(Vr(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,r){if((0,j.hu)(r,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(r);{const i=new Zn(t,r);let s,c;r.isEmpty()?(s=this.children_.remove(t),c=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(t,r),c=this.indexMap_.addToIndexes(i,this.children_));const h=s.isEmpty()?AC:this.priorityNode_;return new n(s,h,c)}}updateChild(t,r){const i=qn(t);if(null===i)return r;{(0,j.hu)(".priority"!==qn(t)||1===Af(t),".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(Vr(t),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let i=0,s=0,c=!0;if(this.forEachChild(qr,(h,m)=>{r[h]=m.val(t),i++,c&&n.INTEGER_REGEXP_.test(h)?s=Math.max(s,Number(h)):c=!1}),!t&&c&&s<2*i){const h=[];for(const m in r)h[m]=r[m];return h}return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+S$(this.getPriority().val())+":"),this.forEachChild(qr,(r,i)=>{const s=i.hash();""!==s&&(t+=":"+r+":"+s)}),this.lazyHash_=""===t?"":jB(t)}return this.lazyHash_}getPredecessorChildName(t,r,i){const s=this.resolveIndex_(i);if(s){const c=s.getPredecessorKey(new Zn(t,r));return c?c.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new Zn(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new Zn(r,this.children_.get(r)):null}forEachChild(t,r){const i=this.resolveIndex_(t);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(t,s=>s);{const s=this.children_.getIteratorFrom(t.name,Zn.Wrap);let c=s.peek();for(;null!=c&&r.compare(c,t)<0;)s.getNext(),c=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(t,s=>s);{const s=this.children_.getReverseIteratorFrom(t.name,Zn.Wrap);let c=s.peek();for(;null!=c&&r.compare(c,t)>0;)s.getNext(),c=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===xC?-1:0}withIndex(t){if(t===eu||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===eu||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(qr),s=r.getIterator(qr);let c=i.getNext(),h=s.getNext();for(;c&&h;){if(c.name!==h.name||!c.node.equals(h.node))return!1;c=i.getNext(),h=s.getNext()}return null===c&&null===h}return!1}return!1}}resolveIndex_(t){return t===eu?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const xC=new class kW extends Ln{constructor(){super(new Bs(RO),Ln.EMPTY_NODE,vd.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Ln.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Zn,{MIN:{value:new Zn(Tf,Ln.EMPTY_NODE)},MAX:{value:new Zn(yd,xC)}}),T$.__EMPTY_NODE=Ln.EMPTY_NODE,By.__childrenNodeConstructor=Ln,function AW(n){OO=n}(xC),function MW(n){P$=n}(xC);const NW=!0;function Ei(n,e=null){if(null===n)return Ln.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),(0,j.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new By(n,Ei(e));if(n instanceof Array||!NW){let t=Ln.EMPTY_NODE;return Co(n,(r,i)=>{if((0,j.r3)(n,r)&&"."!==r.substring(0,1)){const s=Ei(i);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(r,s))}}),t.updatePriority(Ei(e))}{const t=[];let r=!1;if(Co(n,(c,h)=>{if("."!==c.substring(0,1)){const m=Ei(h);m.isEmpty()||(r=r||!m.getPriority().isEmpty(),t.push(new Zn(c,m)))}}),0===t.length)return Ln.EMPTY_NODE;const s=lS(t,SW,c=>c.name,RO);if(r){const c=lS(t,qr.getCompare());return new Ln(s,Ei(e),new vd({".priority":c},{".priority":qr}))}return new Ln(s,Ei(e),vd.Default)}}!function xW(n){M$=n}(Ei);class NO extends oS{constructor(e){super(),this.indexPath_=e,(0,j.hu)(!Wn(e)&&".priority"!==qn(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const r=this.extractChild(e.node),i=this.extractChild(t.node),s=r.compareTo(i);return 0===s?zg(e.name,t.name):s}makePost(e,t){const r=Ei(e),i=Ln.EMPTY_NODE.updateChild(this.indexPath_,r);return new Zn(t,i)}maxPost(){const e=Ln.EMPTY_NODE.updateChild(this.indexPath_,xC);return new Zn(yd,e)}toString(){return TC(this.indexPath_,0).join("/")}}const FO=new class FW extends oS{compare(e,t){const r=e.node.compareTo(t.node);return 0===r?zg(e.name,t.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Zn.MIN}maxPost(){return Zn.MAX}makePost(e,t){const r=Ei(e);return new Zn(t,r)}toString(){return".value"}};function R$(n){return{type:"value",snapshotNode:n}}function Vy(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function MC(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function PC(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class LO{constructor(e){this.index_=e}updateChild(e,t,r,i,s,c){(0,j.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=e.getImmediateChild(t);return h.getChild(i).equals(r.getChild(i))&&h.isEmpty()===r.isEmpty()||(null!=c&&(r.isEmpty()?e.hasChild(t)?c.trackChildChange(MC(t,h)):(0,j.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?c.trackChildChange(Vy(t,r)):c.trackChildChange(PC(t,r,h))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(t,r).withIndex(this.index_)}updateFullNode(e,t,r){return null!=r&&(e.isLeafNode()||e.forEachChild(qr,(i,s)=>{t.hasChild(i)||r.trackChildChange(MC(i,s))}),t.isLeafNode()||t.forEachChild(qr,(i,s)=>{if(e.hasChild(i)){const c=e.getImmediateChild(i);c.equals(s)||r.trackChildChange(PC(i,s,c))}else r.trackChildChange(Vy(i,s))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?Ln.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class RC{constructor(e){this.indexedFilter_=new LO(e.getIndex()),this.index_=e.getIndex(),this.startPost_=RC.getStartPost_(e),this.endPost_=RC.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&r}updateChild(e,t,r,i,s,c){return this.matches(new Zn(t,r))||(r=Ln.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,r,i,s,c)}updateFullNode(e,t,r){t.isLeafNode()&&(t=Ln.EMPTY_NODE);let i=t.withIndex(this.index_);i=i.updatePriority(Ln.EMPTY_NODE);const s=this;return t.forEachChild(qr,(c,h)=>{s.matches(new Zn(c,h))||(i=i.updateImmediateChild(c,Ln.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class UW{constructor(e){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=t=>{const r=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new RC(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,r,i,s,c){return this.rangedFilter_.matches(new Zn(t,r))||(r=Ln.EMPTY_NODE),e.getImmediateChild(t).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,r,i,s,c):this.fullLimitUpdateChild_(e,t,r,s,c)}updateFullNode(e,t,r){let i;if(t.isLeafNode()||t.isEmpty())i=Ln.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let s;i=Ln.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;s.hasNext()&&c<this.limit_;){const h=s.getNext();if(this.withinDirectionalStart(h)){if(!this.withinDirectionalEnd(h))break;i=i.updateImmediateChild(h.name,h.node),c++}}}else{let s;i=t.withIndex(this.index_),i=i.updatePriority(Ln.EMPTY_NODE),s=this.reverse_?i.getReverseIterator(this.index_):i.getIterator(this.index_);let c=0;for(;s.hasNext();){const h=s.getNext();c<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?c++:i=i.updateImmediateChild(h.name,Ln.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,r,i,s){let c;if(this.reverse_){const S=this.index_.getCompare();c=(P,V)=>S(V,P)}else c=this.index_.getCompare();const h=e;(0,j.hu)(h.numChildren()===this.limit_,"");const m=new Zn(t,r),y=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),b=this.rangedFilter_.matches(m);if(h.hasChild(t)){const S=h.getImmediateChild(t);let P=i.getChildAfterChild(this.index_,y,this.reverse_);for(;null!=P&&(P.name===t||h.hasChild(P.name));)P=i.getChildAfterChild(this.index_,P,this.reverse_);const V=null==P?1:c(P,m);if(b&&!r.isEmpty()&&V>=0)return null!=s&&s.trackChildChange(PC(t,r,S)),h.updateImmediateChild(t,r);{null!=s&&s.trackChildChange(MC(t,S));const Ne=h.updateImmediateChild(t,Ln.EMPTY_NODE);return null!=P&&this.rangedFilter_.matches(P)?(null!=s&&s.trackChildChange(Vy(P.name,P.node)),Ne.updateImmediateChild(P.name,P.node)):Ne}}return r.isEmpty()?e:b&&c(y,m)>=0?(null!=s&&(s.trackChildChange(MC(y.name,y.node)),s.trackChildChange(Vy(t,r))),h.updateImmediateChild(t,r).updateImmediateChild(y.name,Ln.EMPTY_NODE)):e}}class cS{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=qr}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,j.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,j.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Tf}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,j.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,j.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:yd}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,j.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===qr}copy(){const e=new cS;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function UO(n,e,t){const r=n.copy();return r.startSet_=!0,void 0===e&&(e=null),r.indexStartValue_=e,null!=t?(r.startNameSet_=!0,r.indexStartName_=t):(r.startNameSet_=!1,r.indexStartName_=""),r}function BO(n,e,t){const r=n.copy();return r.endSet_=!0,void 0===e&&(e=null),r.indexEndValue_=e,void 0!==t?(r.endNameSet_=!0,r.indexEndName_=t):(r.endNameSet_=!1,r.indexEndName_=""),r}function uS(n,e){const t=n.copy();return t.index_=e,t}function O$(n){const e={};if(n.isDefault())return e;let t;if(n.index_===qr?t="$priority":n.index_===FO?t="$value":n.index_===eu?t="$key":((0,j.hu)(n.index_ instanceof NO,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=(0,j.Wl)(t),n.startSet_){const r=n.startAfterSet_?"startAfter":"startAt";e[r]=(0,j.Wl)(n.indexStartValue_),n.startNameSet_&&(e[r]+=","+(0,j.Wl)(n.indexStartName_))}if(n.endSet_){const r=n.endBeforeSet_?"endBefore":"endAt";e[r]=(0,j.Wl)(n.indexEndValue_),n.endNameSet_&&(e[r]+=","+(0,j.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function k$(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==qr&&(e.i=n.index_.toString()),e}class dS extends y${constructor(e,t,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=EC("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,j.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const c=dS.getListenId_(e,r),h={};this.listens_[c]=h;const m=O$(e._queryParams);this.restRequest_(s+".json",m,(y,b)=>{let S=b;if(404===y&&(S=null,y=null),null===y&&this.onDataUpdate_(s,S,!1,r),(0,j.DV)(this.listens_,c)===h){let P;P=y?401===y?"permission_denied":"rest_error:"+y:"ok",i(P,null)}})}unlisten(e,t){const r=dS.getListenId_(e,t);delete this.listens_[r]}get(e){const t=O$(e._queryParams),r=e._path.toString(),i=new j.BH;return this.restRequest_(r+".json",t,(s,c)=>{let h=c;404===s&&(h=null,s=null),null===s?(this.onDataUpdate_(r,h,!1,null),i.resolve(h)):i.reject(new Error(h))}),i.promise}refreshAuthToken(e){}restRequest_(e,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(t.auth=i.accessToken),s&&s.token&&(t.ac=s.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,j.xO)(t);this.log_("Sending REST request for "+c);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(r&&4===h.readyState){this.log_("REST Response for "+c+" received. status:",h.status,"response:",h.responseText);let m=null;if(h.status>=200&&h.status<300){try{m=(0,j.cI)(h.responseText)}catch{Yo("Failed to parse JSON response for "+c+": "+h.responseText)}r(null,m)}else 401!==h.status&&404!==h.status&&Yo("Got unsuccessful REST response for "+c+" Status: "+h.status),r(h.status);r=null}},h.open("GET",c,!0),h.send()})}}class GW{constructor(){this.rootNode_=Ln.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function hS(){return{value:null,children:new Map}}function jy(n,e,t){if(Wn(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const r=qn(e);n.children.has(r)||n.children.set(r,hS()),jy(n.children.get(r),e=Vr(e),t)}}function $O(n,e){if(Wn(e))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const t=n.value;return n.value=null,t.forEachChild(qr,(r,i)=>{jy(n,new Cr(r),i)}),$O(n,e)}}if(n.children.size>0){const t=qn(e);return e=Vr(e),n.children.has(t)&&$O(n.children.get(t),e)&&n.children.delete(t),0===n.children.size}return!0}function VO(n,e,t){null!==n.value?t(e,n.value):function zW(n,e){n.children.forEach((t,r)=>{e(r,t)})}(n,(r,i)=>{VO(i,new Cr(e.toString()+"/"+r),t)})}class qW{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Co(this.last_,(r,i)=>{t[r]=t[r]-i}),this.last_=e,t}}class YW{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new qW(e);const r=1e4+2e4*Math.random();bC(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),t={};let r=!1;Co(e,(i,s)=>{s>0&&(0,j.r3)(this.statsToReport_,i)&&(t[i]=s,r=!0)}),r&&this.server_.reportStats(t),bC(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var rl=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(rl||(rl={})),rl))();function GO(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class fS{constructor(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=rl.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(Wn(this.path)){if(null!=this.affectedTree.value)return(0,j.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Cr(e));return new fS(dr(),t,this.revert)}}return(0,j.hu)(qn(this.path)===e,"operationForChild called for unrelated child."),new fS(Vr(this.path),this.affectedTree,this.revert)}}class OC{constructor(e,t){this.source=e,this.path=t,this.type=rl.LISTEN_COMPLETE}operationForChild(e){return Wn(this.path)?new OC(this.source,dr()):new OC(this.source,Vr(this.path))}}class Zg{constructor(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=rl.OVERWRITE}operationForChild(e){return Wn(this.path)?new Zg(this.source,dr(),this.snap.getImmediateChild(e)):new Zg(this.source,Vr(this.path),this.snap)}}class Hy{constructor(e,t,r){this.source=e,this.path=t,this.children=r,this.type=rl.MERGE}operationForChild(e){if(Wn(this.path)){const t=this.children.subtree(new Cr(e));return t.isEmpty()?null:t.value?new Zg(this.source,dr(),t.value):new Hy(this.source,dr(),t)}return(0,j.hu)(qn(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Hy(this.source,Vr(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class xf{constructor(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Wn(e))return this.isFullyInitialized()&&!this.filtered_;const t=qn(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class KW{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function kC(n,e,t,r,i,s){const c=r.filter(h=>h.type===t);c.sort((h,m)=>function JW(n,e,t){if(null==e.childName||null==t.childName)throw(0,j.g5)("Should only compare child_ events.");const r=new Zn(e.childName,e.snapshotNode),i=new Zn(t.childName,t.snapshotNode);return n.index_.compare(r,i)}(n,h,m)),c.forEach(h=>{const m=function XW(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,h,s);i.forEach(y=>{y.respondsTo(h.type)&&e.push(y.createEvent(m,n.query_))})})}function pS(n,e){return{eventCache:n,serverCache:e}}function NC(n,e,t,r){return pS(new xf(e,t,r),n.serverCache)}function F$(n,e,t,r){return pS(n.eventCache,new xf(e,t,r))}function gS(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Yg(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let zO;class Wr{constructor(e,t=(()=>(zO||(zO=new Bs(Lq)),zO))()){this.value=e,this.children=t}static fromObject(e){let t=new Wr(null);return Co(e,(r,i)=>{t=t.set(new Cr(r),i)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:dr(),value:this.value};if(Wn(e))return null;{const r=qn(e),i=this.children.get(r);if(null!==i){const s=i.findRootMostMatchingPathAndValue(Vr(e),t);return null!=s?{path:fi(new Cr(r),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Wn(e))return this;{const t=qn(e),r=this.children.get(t);return null!==r?r.subtree(Vr(e)):new Wr(null)}}set(e,t){if(Wn(e))return new Wr(t,this.children);{const r=qn(e),s=(this.children.get(r)||new Wr(null)).set(Vr(e),t),c=this.children.insert(r,s);return new Wr(this.value,c)}}remove(e){if(Wn(e))return this.children.isEmpty()?new Wr(null):new Wr(null,this.children);{const t=qn(e),r=this.children.get(t);if(r){const i=r.remove(Vr(e));let s;return s=i.isEmpty()?this.children.remove(t):this.children.insert(t,i),null===this.value&&s.isEmpty()?new Wr(null):new Wr(this.value,s)}return this}}get(e){if(Wn(e))return this.value;{const t=qn(e),r=this.children.get(t);return r?r.get(Vr(e)):null}}setTree(e,t){if(Wn(e))return t;{const r=qn(e),s=(this.children.get(r)||new Wr(null)).setTree(Vr(e),t);let c;return c=s.isEmpty()?this.children.remove(r):this.children.insert(r,s),new Wr(this.value,c)}}fold(e){return this.fold_(dr(),e)}fold_(e,t){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(fi(e,i),t)}),t(e,this.value,r)}findOnPath(e,t){return this.findOnPath_(e,dr(),t)}findOnPath_(e,t,r){const i=!!this.value&&r(t,this.value);if(i)return i;if(Wn(e))return null;{const s=qn(e),c=this.children.get(s);return c?c.findOnPath_(Vr(e),fi(t,s),r):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,dr(),t)}foreachOnPath_(e,t,r){if(Wn(e))return this;{this.value&&r(t,this.value);const i=qn(e),s=this.children.get(i);return s?s.foreachOnPath_(Vr(e),fi(t,i),r):new Wr(null)}}foreach(e){this.foreach_(dr(),e)}foreach_(e,t){this.children.inorderTraversal((r,i)=>{i.foreach_(fi(e,r),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,r)=>{r.value&&e(t,r.value)})}}class Zl{constructor(e){this.writeTree_=e}static empty(){return new Zl(new Wr(null))}}function FC(n,e,t){if(Wn(e))return new Zl(new Wr(t));{const r=n.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let s=r.value;const c=gs(i,e);return s=s.updateChild(c,t),new Zl(n.writeTree_.set(i,s))}{const i=new Wr(t),s=n.writeTree_.setTree(e,i);return new Zl(s)}}}function qO(n,e,t){let r=n;return Co(t,(i,s)=>{r=FC(r,fi(e,i),s)}),r}function L$(n,e){if(Wn(e))return Zl.empty();{const t=n.writeTree_.setTree(e,new Wr(null));return new Zl(t)}}function WO(n,e){return null!=Kg(n,e)}function Kg(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(gs(t.path,e)):null}function U$(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(qr,(r,i)=>{e.push(new Zn(r,i))}):n.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new Zn(r,i.value))}),e}function Mf(n,e){if(Wn(e))return n;{const t=Kg(n,e);return new Zl(null!=t?new Wr(t):n.writeTree_.subtree(e))}}function ZO(n){return n.writeTree_.isEmpty()}function Gy(n,e){return B$(dr(),n.writeTree_,e)}function B$(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{".priority"===i?((0,j.hu)(null!==s.value,"Priority writes must always be leaf nodes"),r=s.value):t=B$(fi(n,i),s,t)}),!t.getChild(n).isEmpty()&&null!==r&&(t=t.updateChild(fi(n,".priority"),r)),t}}function mS(n,e){return G$(e,n)}function o9(n,e){if(n.snap)return nl(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&nl(fi(n.path,t),e))return!0;return!1}function a9(n){return n.visible}function $$(n,e,t){let r=Zl.empty();for(let i=0;i<n.length;++i){const s=n[i];if(e(s)){const c=s.path;let h;if(s.snap)nl(t,c)?(h=gs(t,c),r=FC(r,h,s.snap)):nl(c,t)&&(h=gs(c,t),r=FC(r,dr(),s.snap.getChild(h)));else{if(!s.children)throw(0,j.g5)("WriteRecord should have .snap or .children");if(nl(t,c))h=gs(t,c),r=qO(r,h,s.children);else if(nl(c,t))if(h=gs(c,t),Wn(h))r=qO(r,dr(),s.children);else{const m=(0,j.DV)(s.children,qn(h));if(m){const y=m.getChild(Vr(h));r=FC(r,dr(),y)}}}}}return r}function V$(n,e,t,r,i){if(r||i){const s=Mf(n.visibleWrites,e);return!i&&ZO(s)?t:i||null!=t||WO(s,dr())?Gy($$(n.allWrites,function(y){return(y.visible||i)&&(!r||!~r.indexOf(y.writeId))&&(nl(y.path,e)||nl(e,y.path))},e),t||Ln.EMPTY_NODE):null}{const s=Kg(n.visibleWrites,e);if(null!=s)return s;{const c=Mf(n.visibleWrites,e);return ZO(c)?t:null!=t||WO(c,dr())?Gy(c,t||Ln.EMPTY_NODE):null}}}function _S(n,e,t,r){return V$(n.writeTree,n.treePath,e,t,r)}function YO(n,e){return function l9(n,e,t){let r=Ln.EMPTY_NODE;const i=Kg(n.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(qr,(s,c)=>{r=r.updateImmediateChild(s,c)}),r;if(t){const s=Mf(n.visibleWrites,e);return t.forEachChild(qr,(c,h)=>{const m=Gy(Mf(s,new Cr(c)),h);r=r.updateImmediateChild(c,m)}),U$(s).forEach(c=>{r=r.updateImmediateChild(c.name,c.node)}),r}return U$(Mf(n.visibleWrites,e)).forEach(c=>{r=r.updateImmediateChild(c.name,c.node)}),r}(n.writeTree,n.treePath,e)}function j$(n,e,t,r){return function c9(n,e,t,r,i){(0,j.hu)(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=fi(e,t);if(WO(n.visibleWrites,s))return null;{const c=Mf(n.visibleWrites,s);return ZO(c)?i.getChild(t):Gy(c,i.getChild(t))}}(n.writeTree,n.treePath,e,t,r)}function yS(n,e){return function d9(n,e){return Kg(n.visibleWrites,e)}(n.writeTree,fi(n.treePath,e))}function KO(n,e,t){return function u9(n,e,t,r){const i=fi(e,t),s=Kg(n.visibleWrites,i);return null!=s?s:r.isCompleteForChild(t)?Gy(Mf(n.visibleWrites,i),r.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function H$(n,e){return G$(fi(n.treePath,e),n.writeTree)}function G$(n,e){return{treePath:n,writeTree:e}}class g9{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,r=e.childName;(0,j.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,j.hu)(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if("child_added"===t&&"child_removed"===s)this.changeMap.set(r,PC(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===t&&"child_added"===s)this.changeMap.delete(r);else if("child_removed"===t&&"child_changed"===s)this.changeMap.set(r,MC(r,i.oldSnap));else if("child_changed"===t&&"child_added"===s)this.changeMap.set(r,Vy(r,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==s)throw(0,j.g5)("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,PC(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const z$=new class m9{getCompleteChild(e){return null}getChildAfterChild(e,t,r){return null}};class QO{constructor(e,t,r=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new xf(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return KO(this.writes_,e,r)}}getChildAfterChild(e,t,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Yg(this.viewCache_),s=function p9(n,e,t,r,i,s){return function h9(n,e,t,r,i,s,c){let h;const m=Mf(n.visibleWrites,e),y=Kg(m,dr());if(null!=y)h=y;else{if(null==t)return[];h=Gy(m,t)}if(h=h.withIndex(c),h.isEmpty()||h.isLeafNode())return[];{const b=[],S=c.getCompare(),P=s?h.getReverseIteratorFrom(r,c):h.getIteratorFrom(r,c);let V=P.getNext();for(;V&&b.length<i;)0!==S(V,r)&&b.push(V),V=P.getNext();return b}}(n.writeTree,n.treePath,e,t,r,i,s)}(this.writes_,i,t,1,r,e);return 0===s.length?null:s[0]}}function q$(n,e,t,r,i,s){const c=e.eventCache;if(null!=yS(r,t))return e;{let h,m;if(Wn(t))if((0,j.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const y=Yg(e),S=YO(r,y instanceof Ln?y:Ln.EMPTY_NODE);h=n.filter.updateFullNode(e.eventCache.getNode(),S,s)}else{const y=_S(r,Yg(e));h=n.filter.updateFullNode(e.eventCache.getNode(),y,s)}else{const y=qn(t);if(".priority"===y){(0,j.hu)(1===Af(t),"Can't have a priority with additional path components");const b=c.getNode();m=e.serverCache.getNode();const S=j$(r,t,b,m);h=null!=S?n.filter.updatePriority(b,S):c.getNode()}else{const b=Vr(t);let S;if(c.isCompleteForChild(y)){m=e.serverCache.getNode();const P=j$(r,t,c.getNode(),m);S=null!=P?c.getNode().getImmediateChild(y).updateChild(b,P):c.getNode().getImmediateChild(y)}else S=KO(r,y,e.serverCache);h=null!=S?n.filter.updateChild(c.getNode(),y,S,b,i,s):c.getNode()}}return NC(e,h,c.isFullyInitialized()||Wn(t),n.filter.filtersNodes())}}function vS(n,e,t,r,i,s,c,h){const m=e.serverCache;let y;const b=c?n.filter:n.filter.getIndexedFilter();if(Wn(t))y=b.updateFullNode(m.getNode(),r,null);else if(b.filtersNodes()&&!m.isFiltered()){const V=m.getNode().updateChild(t,r);y=b.updateFullNode(m.getNode(),V,null)}else{const V=qn(t);if(!m.isCompleteForPath(t)&&Af(t)>1)return e;const ne=Vr(t),Xe=m.getNode().getImmediateChild(V).updateChild(ne,r);y=".priority"===V?b.updatePriority(m.getNode(),Xe):b.updateChild(m.getNode(),V,Xe,ne,z$,null)}const S=F$(e,y,m.isFullyInitialized()||Wn(t),b.filtersNodes());return q$(n,S,t,i,new QO(i,S,s),h)}function XO(n,e,t,r,i,s,c){const h=e.eventCache;let m,y;const b=new QO(i,e,s);if(Wn(t))y=n.filter.updateFullNode(e.eventCache.getNode(),r,c),m=NC(e,y,!0,n.filter.filtersNodes());else{const S=qn(t);if(".priority"===S)y=n.filter.updatePriority(e.eventCache.getNode(),r),m=NC(e,y,h.isFullyInitialized(),h.isFiltered());else{const P=Vr(t),V=h.getNode().getImmediateChild(S);let ne;if(Wn(P))ne=r;else{const Ne=b.getCompleteChild(S);ne=null!=Ne?".priority"===xO(P)&&Ne.getChild(E$(P)).isEmpty()?Ne:Ne.updateChild(P,r):Ln.EMPTY_NODE}m=V.equals(ne)?e:NC(e,n.filter.updateChild(h.getNode(),S,ne,P,b,c),h.isFullyInitialized(),n.filter.filtersNodes())}}return m}function W$(n,e){return n.eventCache.isCompleteForChild(e)}function Z$(n,e,t){return t.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function JO(n,e,t,r,i,s,c,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let y,m=e;y=Wn(t)?r:new Wr(null).setTree(t,r);const b=e.serverCache.getNode();return y.children.inorderTraversal((S,P)=>{if(b.hasChild(S)){const ne=Z$(0,e.serverCache.getNode().getImmediateChild(S),P);m=vS(n,m,new Cr(S),ne,i,s,c,h)}}),y.children.inorderTraversal((S,P)=>{const V=!e.serverCache.isCompleteForChild(S)&&null===P.value;if(!b.hasChild(S)&&!V){const Ne=Z$(0,e.serverCache.getNode().getImmediateChild(S),P);m=vS(n,m,new Cr(S),Ne,i,s,c,h)}}),m}class D9{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new LO(r.getIndex()),s=function BW(n){return n.loadsAllData()?new LO(n.getIndex()):n.hasLimit()?new UW(n):new RC(n)}(r);this.processor_=function _9(n){return{filter:n}}(s);const c=t.serverCache,h=t.eventCache,m=i.updateFullNode(Ln.EMPTY_NODE,c.getNode(),null),y=s.updateFullNode(Ln.EMPTY_NODE,h.getNode(),null),b=new xf(m,c.isFullyInitialized(),i.filtersNodes()),S=new xf(y,h.isFullyInitialized(),s.filtersNodes());this.viewCache_=pS(S,b),this.eventGenerator_=new KW(this.query_)}get query(){return this.query_}}function A9(n,e){const t=Yg(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!Wn(e)&&!t.getImmediateChild(qn(e)).isEmpty())?t.getChild(e):null}function Y$(n){return 0===n.eventRegistrations_.length}function K$(n,e,t){const r=[];if(t){(0,j.hu)(null==e,"A cancel should cancel all event registrations.");const i=n.query._path;n.eventRegistrations_.forEach(s=>{const c=s.createCancelEvent(t,i);c&&r.push(c)})}if(e){let i=[];for(let s=0;s<n.eventRegistrations_.length;++s){const c=n.eventRegistrations_[s];if(c.matches(e)){if(e.hasAnyCallback()){i=i.concat(n.eventRegistrations_.slice(s+1));break}}else i.push(c)}n.eventRegistrations_=i}else n.eventRegistrations_=[];return r}function Q$(n,e,t,r){e.type===rl.MERGE&&null!==e.source.queryId&&((0,j.hu)(Yg(n.viewCache_),"We should always have a full cache before handling merges"),(0,j.hu)(gS(n.viewCache_),"Missing event cache, even though we have a server cache"));const i=n.viewCache_,s=function v9(n,e,t,r,i){const s=new g9;let c,h;if(t.type===rl.OVERWRITE){const y=t;y.source.fromUser?c=XO(n,e,y.path,y.snap,r,i,s):((0,j.hu)(y.source.fromServer,"Unknown source."),h=y.source.tagged||e.serverCache.isFiltered()&&!Wn(y.path),c=vS(n,e,y.path,y.snap,r,i,h,s))}else if(t.type===rl.MERGE){const y=t;y.source.fromUser?c=function C9(n,e,t,r,i,s,c){let h=e;return r.foreach((m,y)=>{const b=fi(t,m);W$(e,qn(b))&&(h=XO(n,h,b,y,i,s,c))}),r.foreach((m,y)=>{const b=fi(t,m);W$(e,qn(b))||(h=XO(n,h,b,y,i,s,c))}),h}(n,e,y.path,y.children,r,i,s):((0,j.hu)(y.source.fromServer,"Unknown source."),h=y.source.tagged||e.serverCache.isFiltered(),c=JO(n,e,y.path,y.children,r,i,h,s))}else if(t.type===rl.ACK_USER_WRITE){const y=t;c=y.revert?function b9(n,e,t,r,i,s){let c;if(null!=yS(r,t))return e;{const h=new QO(r,e,i),m=e.eventCache.getNode();let y;if(Wn(t)||".priority"===qn(t)){let b;if(e.serverCache.isFullyInitialized())b=_S(r,Yg(e));else{const S=e.serverCache.getNode();(0,j.hu)(S instanceof Ln,"serverChildren would be complete if leaf node"),b=YO(r,S)}y=n.filter.updateFullNode(m,b,s)}else{const b=qn(t);let S=KO(r,b,e.serverCache);null==S&&e.serverCache.isCompleteForChild(b)&&(S=m.getImmediateChild(b)),y=null!=S?n.filter.updateChild(m,b,S,Vr(t),h,s):e.eventCache.getNode().hasChild(b)?n.filter.updateChild(m,b,Ln.EMPTY_NODE,Vr(t),h,s):m,y.isEmpty()&&e.serverCache.isFullyInitialized()&&(c=_S(r,Yg(e)),c.isLeafNode()&&(y=n.filter.updateFullNode(y,c,s)))}return c=e.serverCache.isFullyInitialized()||null!=yS(r,dr()),NC(e,y,c,n.filter.filtersNodes())}}(n,e,y.path,r,i,s):function E9(n,e,t,r,i,s,c){if(null!=yS(i,t))return e;const h=e.serverCache.isFiltered(),m=e.serverCache;if(null!=r.value){if(Wn(t)&&m.isFullyInitialized()||m.isCompleteForPath(t))return vS(n,e,t,m.getNode().getChild(t),i,s,h,c);if(Wn(t)){let y=new Wr(null);return m.getNode().forEachChild(eu,(b,S)=>{y=y.set(new Cr(b),S)}),JO(n,e,t,y,i,s,h,c)}return e}{let y=new Wr(null);return r.foreach((b,S)=>{const P=fi(t,b);m.isCompleteForPath(P)&&(y=y.set(b,m.getNode().getChild(P)))}),JO(n,e,t,y,i,s,h,c)}}(n,e,y.path,y.affectedTree,r,i,s)}else{if(t.type!==rl.LISTEN_COMPLETE)throw(0,j.g5)("Unknown operation type: "+t.type);c=function I9(n,e,t,r,i){const s=e.serverCache;return q$(n,F$(e,s.getNode(),s.isFullyInitialized()||Wn(t),s.isFiltered()),t,r,z$,i)}(n,e,t.path,r,s)}const m=s.getChanges();return function w9(n,e,t){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=gS(n);(t.length>0||!n.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&t.push(R$(gS(e)))}}(e,c,m),{viewCache:c,changes:m}}(n.processor_,i,e,t,r);return function y9(n,e){(0,j.hu)(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,j.hu)(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),(0,j.hu)(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,X$(n,s.changes,s.viewCache.eventCache.getNode(),null)}function X$(n,e,t,r){return function QW(n,e,t,r){const i=[],s=[];return e.forEach(c=>{"child_changed"===c.type&&n.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&s.push(function LW(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(c.childName,c.snapshotNode))}),kC(n,i,"child_removed",e,r,t),kC(n,i,"child_added",e,r,t),kC(n,i,"child_moved",s,r,t),kC(n,i,"child_changed",e,r,t),kC(n,i,"value",e,r,t),i}(n.eventGenerator_,e,t,r?[r]:n.eventRegistrations_)}let wS,ES;class J${constructor(){this.views=new Map}}function ek(n,e,t,r){const i=e.source.queryId;if(null!==i){const s=n.views.get(i);return(0,j.hu)(null!=s,"SyncTree gave us an op for an invalid query."),Q$(s,e,t,r)}{let s=[];for(const c of n.views.values())s=s.concat(Q$(c,e,t,r));return s}}function eV(n,e,t,r,i){const c=n.views.get(e._queryIdentifier);if(!c){let h=_S(t,i?r:null),m=!1;h?m=!0:r instanceof Ln?(h=YO(t,r),m=!1):(h=Ln.EMPTY_NODE,m=!1);const y=pS(new xf(h,m,!1),new xf(r,i,!1));return new D9(e,y)}return c}function tV(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function Pf(n,e){let t=null;for(const r of n.views.values())t=t||A9(r,e);return t}function nV(n,e){return e._queryParams.loadsAllData()?CS(n):n.views.get(e._queryIdentifier)}function rV(n,e){return null!=nV(n,e)}function Rf(n){return null!=CS(n)}function CS(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let U9=1;class iV{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Wr(null),this.pendingWriteTree_=function f9(){return{visibleWrites:Zl.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function tk(n,e,t,r,i){return function t9(n,e,t,r,i){(0,j.hu)(r>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),n.allWrites.push({path:e,snap:t,writeId:r,visible:i}),i&&(n.visibleWrites=FC(n.visibleWrites,e,t)),n.lastWriteId=r}(n.pendingWriteTree_,e,t,r,i),i?zy(n,new Zg({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function Of(n,e,t=!1){const r=function r9(n,e){for(let t=0;t<n.allWrites.length;t++){const r=n.allWrites[t];if(r.writeId===e)return r}return null}(n.pendingWriteTree_,e);if(function i9(n,e){const t=n.allWrites.findIndex(h=>h.writeId===e);(0,j.hu)(t>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[t];n.allWrites.splice(t,1);let i=r.visible,s=!1,c=n.allWrites.length-1;for(;i&&c>=0;){const h=n.allWrites[c];h.visible&&(c>=t&&o9(h,r.path)?i=!1:nl(r.path,h.path)&&(s=!0)),c--}return!!i&&(s?(function s9(n){n.visibleWrites=$$(n.allWrites,a9,dr()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(r.snap?n.visibleWrites=L$(n.visibleWrites,r.path):Co(r.children,m=>{n.visibleWrites=L$(n.visibleWrites,fi(r.path,m))}),!0))}(n.pendingWriteTree_,e)){let s=new Wr(null);return null!=r.snap?s=s.set(dr(),!0):Co(r.children,c=>{s=s.set(new Cr(c),!0)}),zy(n,new fS(r.path,s,t))}return[]}function LC(n,e,t){return zy(n,new Zg({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function IS(n,e,t,r,i=!1){const s=e._path,c=n.syncPointTree_.get(s);let h=[];if(c&&("default"===e._queryIdentifier||rV(c,e))){const m=function N9(n,e,t,r){const i=e._queryIdentifier,s=[];let c=[];const h=Rf(n);if("default"===i)for(const[m,y]of n.views.entries())c=c.concat(K$(y,t,r)),Y$(y)&&(n.views.delete(m),y.query._queryParams.loadsAllData()||s.push(y.query));else{const m=n.views.get(i);m&&(c=c.concat(K$(m,t,r)),Y$(m)&&(n.views.delete(i),m.query._queryParams.loadsAllData()||s.push(m.query)))}return h&&!Rf(n)&&s.push(new(function R9(){return(0,j.hu)(wS,"Reference.ts has not been loaded"),wS}())(e._repo,e._path)),{removed:s,events:c}}(c,e,t,r);(function O9(n){return 0===n.views.size})(c)&&(n.syncPointTree_=n.syncPointTree_.remove(s));const y=m.removed;if(h=m.events,!i){const b=-1!==y.findIndex(P=>P._queryParams.loadsAllData()),S=n.syncPointTree_.findOnPath(s,(P,V)=>Rf(V));if(b&&!S){const P=n.syncPointTree_.subtree(s);if(!P.isEmpty()){const V=function z9(n){return n.fold((e,t,r)=>{if(t&&Rf(t))return[CS(t)];{let i=[];return t&&(i=tV(t)),Co(r,(s,c)=>{i=i.concat(c)}),i}})}(P);for(let ne=0;ne<V.length;++ne){const Ne=V[ne],Xe=Ne.query,ut=lV(n,Ne);n.listenProvider_.startListening(BC(Xe),UC(n,Xe),ut.hashFn,ut.onComplete)}}}!S&&y.length>0&&!r&&(b?n.listenProvider_.stopListening(BC(e),null):y.forEach(P=>{const V=n.queryToTagMap.get(DS(P));n.listenProvider_.stopListening(BC(P),V)}))}!function q9(n,e){for(let t=0;t<e.length;++t){const r=e[t];if(!r._queryParams.loadsAllData()){const i=DS(r),s=n.queryToTagMap.get(i);n.queryToTagMap.delete(i),n.tagToQueryMap.delete(s)}}}(n,y)}return h}function oV(n,e,t,r){const i=rk(n,r);if(null!=i){const s=ik(i),c=s.path,h=s.queryId,m=gs(c,e);return ok(n,c,new Zg(GO(h),m,t))}return[]}function nk(n,e,t,r=!1){const i=e._path;let s=null,c=!1;n.syncPointTree_.foreachOnPath(i,(P,V)=>{const ne=gs(P,i);s=s||Pf(V,ne),c=c||Rf(V)});let m,h=n.syncPointTree_.get(i);h?(c=c||Rf(h),s=s||Pf(h,dr())):(h=new J$,n.syncPointTree_=n.syncPointTree_.set(i,h)),null!=s?m=!0:(m=!1,s=Ln.EMPTY_NODE,n.syncPointTree_.subtree(i).foreachChild((V,ne)=>{const Ne=Pf(ne,dr());Ne&&(s=s.updateImmediateChild(V,Ne))}));const y=rV(h,e);if(!y&&!e._queryParams.loadsAllData()){const P=DS(e);(0,j.hu)(!n.queryToTagMap.has(P),"View does not exist, but we have a tag");const V=function W9(){return U9++}();n.queryToTagMap.set(P,V),n.tagToQueryMap.set(V,P)}let S=function k9(n,e,t,r,i,s){const c=eV(n,e,r,i,s);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,c),function x9(n,e){n.eventRegistrations_.push(e)}(c,t),function M9(n,e){const t=n.viewCache_.eventCache,r=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(qr,(s,c)=>{r.push(Vy(s,c))}),t.isFullyInitialized()&&r.push(R$(t.getNode())),X$(n,r,t.getNode(),e)}(c,t)}(h,e,t,mS(n.pendingWriteTree_,i),s,m);if(!y&&!c&&!r){const P=nV(h,e);S=S.concat(function Z9(n,e,t){const r=e._path,i=UC(n,e),s=lV(n,t),c=n.listenProvider_.startListening(BC(e),i,s.hashFn,s.onComplete),h=n.syncPointTree_.subtree(r);if(i)(0,j.hu)(!Rf(h.value),"If we're adding a query, it shouldn't be shadowed");else{const m=h.fold((y,b,S)=>{if(!Wn(y)&&b&&Rf(b))return[CS(b).query];{let P=[];return b&&(P=P.concat(tV(b).map(V=>V.query))),Co(S,(V,ne)=>{P=P.concat(ne)}),P}});for(let y=0;y<m.length;++y){const b=m[y];n.listenProvider_.stopListening(BC(b),UC(n,b))}}return c}(n,e,P))}return S}function bS(n,e,t){const i=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(c,h)=>{const y=Pf(h,gs(c,e));if(y)return y});return V$(i,e,s,t,!0)}function zy(n,e){return sV(e,n.syncPointTree_,null,mS(n.pendingWriteTree_,dr()))}function sV(n,e,t,r){if(Wn(n.path))return aV(n,e,t,r);{const i=e.get(dr());null==t&&null!=i&&(t=Pf(i,dr()));let s=[];const c=qn(n.path),h=n.operationForChild(c),m=e.children.get(c);if(m&&h){const y=t?t.getImmediateChild(c):null,b=H$(r,c);s=s.concat(sV(h,m,y,b))}return i&&(s=s.concat(ek(i,n,r,t))),s}}function aV(n,e,t,r){const i=e.get(dr());null==t&&null!=i&&(t=Pf(i,dr()));let s=[];return e.children.inorderTraversal((c,h)=>{const m=t?t.getImmediateChild(c):null,y=H$(r,c),b=n.operationForChild(c);b&&(s=s.concat(aV(b,h,m,y)))}),i&&(s=s.concat(ek(i,n,r,t))),s}function lV(n,e){const t=e.query,r=UC(n,t);return{hashFn:()=>(function T9(n){return n.viewCache_.serverCache.getNode()}(e)||Ln.EMPTY_NODE).hash(),onComplete:i=>{if("ok"===i)return r?function j9(n,e,t){const r=rk(n,t);if(r){const i=ik(r),s=i.path,c=i.queryId,h=gs(s,e);return ok(n,s,new OC(GO(c),h))}return[]}(n,t._path,r):function V9(n,e){return zy(n,new OC({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(n,t._path);{const s=function $q(n,e){let t="Unknown Error";"too_big"===n?t="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?t="Client doesn't have permission to access the desired data.":"unavailable"===n&&(t="The service is unavailable");const r=new Error(n+" at "+e._path.toString()+": "+t);return r.code=n.toUpperCase(),r}(i,t);return IS(n,t,null,s)}}}}function UC(n,e){const t=DS(e);return n.queryToTagMap.get(t)}function DS(n){return n._path.toString()+"$"+n._queryIdentifier}function rk(n,e){return n.tagToQueryMap.get(e)}function ik(n){const e=n.indexOf("$");return(0,j.hu)(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Cr(n.substr(0,e))}}function ok(n,e,t){const r=n.syncPointTree_.get(e);return(0,j.hu)(r,"Missing sync point for query tag that we're tracking"),ek(r,t,mS(n.pendingWriteTree_,e),null)}function BC(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function L9(){return(0,j.hu)(ES,"Reference.ts has not been loaded"),ES}())(n._repo,n._path):n}class sk{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new sk(t)}node(){return this.node_}}class ak{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=fi(this.path_,e);return new ak(this.syncTree_,t)}node(){return bS(this.syncTree_,this.path_)}}const Y9=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},cV=function(n,e,t){return n&&"object"==typeof n?((0,j.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?K9(n[".sv"],e,t):"object"==typeof n[".sv"]?Q9(n[".sv"],e):void(0,j.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},K9=function(n,e,t){if("timestamp"===n)return t.timestamp;(0,j.hu)(!1,"Unexpected server value: "+n)},Q9=function(n,e,t){n.hasOwnProperty("increment")||(0,j.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;"number"!=typeof r&&(0,j.hu)(!1,"Unexpected increment value: "+r);const i=e.node();if((0,j.hu)(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const c=i.getValue();return"number"!=typeof c?r:c+r},uV=function(n,e,t,r){return ck(e,new ak(t,n),r)},lk=function(n,e,t){return ck(n,new sk(e),t)};function ck(n,e,t){const r=n.getPriority().val(),i=cV(r,e.getImmediateChild(".priority"),t);let s;if(n.isLeafNode()){const c=n,h=cV(c.getValue(),e,t);return h!==c.getValue()||i!==c.getPriority().val()?new By(h,Ei(i)):n}{const c=n;return s=c,i!==c.getPriority().val()&&(s=s.updatePriority(new By(i))),c.forEachChild(qr,(h,m)=>{const y=ck(m,e.getImmediateChild(h),t);y!==m&&(s=s.updateImmediateChild(h,y))}),s}}class uk{constructor(e="",t=null,r={children:{},childCount:0}){this.name=e,this.parent=t,this.node=r}}function TS(n,e){let t=e instanceof Cr?e:new Cr(e),r=n,i=qn(t);for(;null!==i;){const s=(0,j.DV)(r.node.children,i)||{children:{},childCount:0};r=new uk(i,r,s),t=Vr(t),i=qn(t)}return r}function Qg(n){return n.node.value}function dk(n,e){n.node.value=e,hk(n)}function dV(n){return n.node.childCount>0}function SS(n,e){Co(n.node.children,(t,r)=>{e(new uk(t,n,r))})}function hV(n,e,t,r){t&&!r&&e(n),SS(n,i=>{hV(i,e,!0,r)}),t&&r&&e(n)}function $C(n){return new Cr(null===n.parent?n.name:$C(n.parent)+"/"+n.name)}function hk(n){null!==n.parent&&function e8(n,e,t){const r=function X9(n){return void 0===Qg(n)&&!dV(n)}(t),i=(0,j.r3)(n.node.children,e);r&&i?(delete n.node.children[e],n.node.childCount--,hk(n)):!r&&!i&&(n.node.children[e]=t.node,n.node.childCount++,hk(n))}(n.parent,n.name,n)}const t8=/[\[\].#$\/\u0000-\u001F\u007F]/,n8=/[\[\].#$\u0000-\u001F\u007F]/,fk=10485760,AS=function(n){return"string"==typeof n&&0!==n.length&&!t8.test(n)},fV=function(n){return"string"==typeof n&&0!==n.length&&!n8.test(n)},VC=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!tS(n)||n&&"object"==typeof n&&(0,j.r3)(n,".sv")},tu=function(n,e,t,r){r&&void 0===e||jC((0,j.gK)(n,"value"),e,t)},jC=function(n,e,t){const r=t instanceof Cr?new vW(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+qg(r));if("function"==typeof e)throw new Error(n+"contains a function "+qg(r)+" with contents = "+e.toString());if(tS(e))throw new Error(n+"contains "+e.toString()+" "+qg(r));if("string"==typeof e&&e.length>fk/3&&(0,j.ug)(e)>fk)throw new Error(n+"contains a string greater than "+fk+" utf8 bytes "+qg(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,s=!1;if(Co(e,(c,h)=>{if(".value"===c)i=!0;else if(".priority"!==c&&".sv"!==c&&(s=!0,!AS(c)))throw new Error(n+" contains an invalid key ("+c+") "+qg(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function wW(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=(0,j.ug)(e),I$(n)})(r,c),jC(n,h,r),function CW(n){const e=n.parts_.pop();n.byteLength_-=(0,j.ug)(e),n.parts_.length>0&&(n.byteLength_-=1)}(r)}),i&&s)throw new Error(n+' contains ".value" child '+qg(r)+" in addition to actual children.")}},pV=function(n,e,t,r){if(r&&void 0===e)return;const i=(0,j.gK)(n,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];Co(e,(c,h)=>{const m=new Cr(c);if(jC(i,h,fi(t,m)),".priority"===xO(m)&&!VC(h))throw new Error(i+"contains an invalid value for '"+m.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(m)}),function(n,e){let t,r;for(t=0;t<e.length;t++){r=e[t];const s=TC(r);for(let c=0;c<s.length;c++)if((".priority"!==s[c]||c!==s.length-1)&&!AS(s[c]))throw new Error(n+"contains an invalid key ("+s[c]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(yW);let i=null;for(t=0;t<e.length;t++){if(r=e[t],null!==i&&nl(i,r))throw new Error(n+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}(i,s)},pk=function(n,e,t){if(!t||void 0!==e){if(tS(e))throw new Error((0,j.gK)(n,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!VC(e))throw new Error((0,j.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},HC=function(n,e,t,r){if(!(r&&void 0===t||AS(t)))throw new Error((0,j.gK)(n,e)+'was an invalid key = "'+t+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},GC=function(n,e,t,r){if(!(r&&void 0===t||fV(t)))throw new Error((0,j.gK)(n,e)+'was an invalid path = "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},o8=function(n,e,t,r){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),GC(n,e,t,r)},il=function(n,e){if(".info"===qn(e))throw new Error(n+" failed = Can't modify data under /.info/")},gV=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!AS(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),fV(n)}(t))throw new Error((0,j.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class s8{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function xS(n,e){let t=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();null!==t&&!MO(s,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:s}),t.events.push(i)}t&&n.eventLists_.push(t)}function mV(n,e,t){xS(n,t),_V(n,r=>MO(r,e))}function _a(n,e,t){xS(n,t),_V(n,r=>nl(r,e)||nl(e,r))}function _V(n,e){n.recursionDepth_++;let t=!0;for(let r=0;r<n.eventLists_.length;r++){const i=n.eventLists_[r];i&&(e(i.path)?(a8(n.eventLists_[r]),n.eventLists_[r]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}function a8(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const r=t.getEventRunner();Gg&&wo("event: "+t.toString()),Ly(r)}}}const yV="repo_interrupt",l8=25;class c8{constructor(e,t,r,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new s8,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=hS(),this.transactionQueueTree_=new uk,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function vV(n){const t=n.infoData_.getNode(new Cr(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function zC(n){return Y9({timestamp:vV(n)})}function wV(n,e,t,r,i){n.dataUpdateCount++;const s=new Cr(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let c=[];if(i)if(r){const m=(0,j.UI)(t,y=>Ei(y));c=function H9(n,e,t,r){const i=rk(n,r);if(i){const s=ik(i),c=s.path,h=s.queryId,m=gs(c,e),y=Wr.fromObject(t);return ok(n,c,new Hy(GO(h),m,y))}return[]}(n.serverSyncTree_,s,m,i)}else{const m=Ei(t);c=oV(n.serverSyncTree_,s,m,i)}else if(r){const m=(0,j.UI)(t,y=>Ei(y));c=function $9(n,e,t){const r=Wr.fromObject(t);return zy(n,new Hy({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,s,m)}else{const m=Ei(t);c=LC(n.serverSyncTree_,s,m)}let h=s;c.length>0&&(h=Wy(n,s)),_a(n.eventQueue_,h,c)}function CV(n,e){gk(n,"connected",e),!1===e&&function p8(n){qy(n,"onDisconnectEvents");const e=zC(n),t=hS();VO(n.onDisconnect_,dr(),(i,s)=>{const c=uV(i,s,n.serverSyncTree_,e);jy(t,i,c)});let r=[];VO(t,dr(),(i,s)=>{r=r.concat(LC(n.serverSyncTree_,i,s));const c=vk(n,i);Wy(n,c)}),n.onDisconnect_=hS(),_a(n.eventQueue_,dr(),r)}(n)}function gk(n,e,t){const r=new Cr("/.info/"+e),i=Ei(t);n.infoData_.updateSnapshot(r,i);const s=LC(n.infoSyncTree_,r,i);_a(n.eventQueue_,r,s)}function MS(n){return n.nextWriteId_++}function mk(n,e,t,r,i){qy(n,"set",{path:e.toString(),value:t,priority:r});const s=zC(n),c=Ei(t,r),h=bS(n.serverSyncTree_,e),m=lk(c,h,s),y=MS(n),b=tk(n.serverSyncTree_,e,m,y,!0);xS(n.eventQueue_,b),n.server_.put(e.toString(),c.val(!0),(P,V)=>{const ne="ok"===P;ne||Yo("set at "+e+" failed: "+P);const Ne=Of(n.serverSyncTree_,y,!ne);_a(n.eventQueue_,e,Ne),kf(0,i,P,V)});const S=vk(n,e);Wy(n,S),_a(n.eventQueue_,S,[])}function g8(n,e,t){n.server_.onDisconnectCancel(e.toString(),(r,i)=>{"ok"===r&&$O(n.onDisconnect_,e),kf(0,t,r,i)})}function EV(n,e,t,r){const i=Ei(t);n.server_.onDisconnectPut(e.toString(),i.val(!0),(s,c)=>{"ok"===s&&jy(n.onDisconnect_,e,i),kf(0,r,s,c)})}function _k(n,e,t){let r;r=".info"===qn(e._path)?IS(n.infoSyncTree_,e,t):IS(n.serverSyncTree_,e,t),mV(n.eventQueue_,e._path,r)}function IV(n){n.persistentConnection_&&n.persistentConnection_.interrupt(yV)}function qy(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),wo(t,...e)}function kf(n,e,t,r){e&&Ly(()=>{if("ok"===t)e(null);else{const i=(t||"error").toUpperCase();let s=i;r&&(s+=": "+r);const c=new Error(s);c.code=i,e(c)}})}function yk(n,e,t){return bS(n.serverSyncTree_,e,t)||Ln.EMPTY_NODE}function PS(n,e=n.transactionQueueTree_){if(e||RS(n,e),Qg(e)){const t=DV(n,e);(0,j.hu)(t.length>0,"Sending zero length transaction queue"),t.every(i=>0===i.status)&&function C8(n,e,t){const r=t.map(y=>y.currentWriteId),i=yk(n,e,r);let s=i;const c=i.hash();for(let y=0;y<t.length;y++){const b=t[y];(0,j.hu)(0===b.status,"tryToSendTransactionQueue_: items in queue should all be run."),b.status=1,b.retryCount++;const S=gs(e,b.path);s=s.updateChild(S,b.currentOutputSnapshotRaw)}const h=s.val(!0),m=e;n.server_.put(m.toString(),h,y=>{qy(n,"transaction put response",{path:m.toString(),status:y});let b=[];if("ok"===y){const S=[];for(let P=0;P<t.length;P++)t[P].status=2,b=b.concat(Of(n.serverSyncTree_,t[P].currentWriteId)),t[P].onComplete&&S.push(()=>t[P].onComplete(null,!0,t[P].currentOutputSnapshotResolved)),t[P].unwatcher();RS(n,TS(n.transactionQueueTree_,e)),PS(n,n.transactionQueueTree_),_a(n.eventQueue_,e,b);for(let P=0;P<S.length;P++)Ly(S[P])}else{if("datastale"===y)for(let S=0;S<t.length;S++)t[S].status=3===t[S].status?4:0;else{Yo("transaction at "+m.toString()+" failed: "+y);for(let S=0;S<t.length;S++)t[S].status=4,t[S].abortReason=y}Wy(n,e)}},c)}(n,$C(e),t)}else dV(e)&&SS(e,t=>{PS(n,t)})}function Wy(n,e){const t=bV(n,e),r=$C(t);return function E8(n,e,t){if(0===e.length)return;const r=[];let i=[];const c=e.filter(h=>0===h.status).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const m=e[h],y=gs(t,m.path);let S,b=!1;if((0,j.hu)(null!==y,"rerunTransactionsUnderNode_: relativePath should not be null."),4===m.status)b=!0,S=m.abortReason,i=i.concat(Of(n.serverSyncTree_,m.currentWriteId,!0));else if(0===m.status)if(m.retryCount>=l8)b=!0,S="maxretry",i=i.concat(Of(n.serverSyncTree_,m.currentWriteId,!0));else{const P=yk(n,m.path,c);m.currentInputSnapshot=P;const V=e[h].update(P.val());if(void 0!==V){jC("transaction failed: Data returned ",V,m.path);let ne=Ei(V);"object"==typeof V&&null!=V&&(0,j.r3)(V,".priority")||(ne=ne.updatePriority(P.getPriority()));const Xe=m.currentWriteId,ut=zC(n),xt=lk(ne,P,ut);m.currentOutputSnapshotRaw=ne,m.currentOutputSnapshotResolved=xt,m.currentWriteId=MS(n),c.splice(c.indexOf(Xe),1),i=i.concat(tk(n.serverSyncTree_,m.path,xt,m.currentWriteId,m.applyLocally)),i=i.concat(Of(n.serverSyncTree_,Xe,!0))}else b=!0,S="nodata",i=i.concat(Of(n.serverSyncTree_,m.currentWriteId,!0))}_a(n.eventQueue_,t,i),i=[],b&&(e[h].status=2,setTimeout(e[h].unwatcher,Math.floor(0)),e[h].onComplete&&r.push("nodata"===S?()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot):()=>e[h].onComplete(new Error(S),!1,null)))}RS(n,n.transactionQueueTree_);for(let h=0;h<r.length;h++)Ly(r[h]);PS(n,n.transactionQueueTree_)}(n,DV(n,t),r),r}function bV(n,e){let t,r=n.transactionQueueTree_;for(t=qn(e);null!==t&&void 0===Qg(r);)r=TS(r,t),t=qn(e=Vr(e));return r}function DV(n,e){const t=[];return TV(n,e,t),t.sort((r,i)=>r.order-i.order),t}function TV(n,e,t){const r=Qg(e);if(r)for(let i=0;i<r.length;i++)t.push(r[i]);SS(e,i=>{TV(n,i,t)})}function RS(n,e){const t=Qg(e);if(t){let r=0;for(let i=0;i<t.length;i++)2!==t[i].status&&(t[r]=t[i],r++);t.length=r,dk(e,t.length>0?t:void 0)}SS(e,r=>{RS(n,r)})}function vk(n,e){const t=$C(bV(n,e)),r=TS(n.transactionQueueTree_,e);return function J9(n,e,t){let r=t?n:n.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{wk(n,i)}),wk(n,r),hV(r,i=>{wk(n,i)}),t}function wk(n,e){const t=Qg(e);if(t){const r=[];let i=[],s=-1;for(let c=0;c<t.length;c++)3===t[c].status||(1===t[c].status?((0,j.hu)(s===c-1,"All SENT items should be at beginning of queue."),s=c,t[c].status=3,t[c].abortReason="set"):((0,j.hu)(0===t[c].status,"Unexpected transaction status in abort"),t[c].unwatcher(),i=i.concat(Of(n.serverSyncTree_,t[c].currentWriteId,!0)),t[c].onComplete&&r.push(t[c].onComplete.bind(null,new Error("set"),!1,null))));-1===s?dk(e,void 0):t.length=s+1,_a(n.eventQueue_,$C(e),i);for(let c=0;c<r.length;c++)Ly(r[c])}}const Ck=function(n,e){const t=D8(n),r=t.namespace;return"firebase.com"===t.domain&&Jc(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==t.domain&&Jc("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Yo("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new IO(t.host,t.secure,r,"ws"===t.scheme||"wss"===t.scheme,e,"",r!==t.subdomain),path:new Cr(t.pathString)}},D8=function(n){let e="",t="",r="",i="",s="",c=!0,h="https",m=443;if("string"==typeof n){let y=n.indexOf("//");y>=0&&(h=n.substring(0,y-1),n=n.substring(y+2));let b=n.indexOf("/");-1===b&&(b=n.length);let S=n.indexOf("?");-1===S&&(S=n.length),e=n.substring(0,Math.min(b,S)),b<S&&(i=function I8(n){let e="";const t=n.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let i=t[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}(n.substring(b,S)));const P=function b8(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const r=t.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Yo(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,S)));y=e.indexOf(":"),y>=0?(c="https"===h||"wss"===h,m=parseInt(e.substring(y+1),10)):y=e.length;const V=e.slice(0,y);if("localhost"===V.toLowerCase())t="localhost";else if(V.split(".").length<=2)t=V;else{const ne=e.indexOf(".");r=e.substring(0,ne).toLowerCase(),t=e.substring(ne+1),s=r}"ns"in P&&(s=P.ns)}return{host:e,port:m,domain:t,subdomain:r,secure:c,scheme:h,pathString:i,namespace:s}},SV="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",T8=function(){let n=0;const e=[];return function(t){const r=t===n;let i;n=t;const s=new Array(8);for(i=7;i>=0;i--)s[i]=SV.charAt(t%64),t=Math.floor(t/64);(0,j.hu)(0===t,"Cannot push at time == 0");let c=s.join("");if(r){for(i=11;i>=0&&63===e[i];i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)c+=SV.charAt(e[i]);return(0,j.hu)(20===c.length,"nextPushId: Length should be 20."),c}}();class AV{constructor(e,t,r,i){this.eventType=e,this.eventRegistration=t,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,j.Wl)(this.snapshot.exportVal())}}class xV{constructor(e,t,r){this.eventRegistration=e,this.error=t,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Ek{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return(0,j.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class MV{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new j.BH;return g8(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){il("OnDisconnect.remove",this._path);const e=new j.BH;return EV(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){il("OnDisconnect.set",this._path),tu("OnDisconnect.set",e,this._path,!1);const t=new j.BH;return EV(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){il("OnDisconnect.setWithPriority",this._path),tu("OnDisconnect.setWithPriority",e,this._path,!1),pk("OnDisconnect.setWithPriority",t,!1);const r=new j.BH;return function m8(n,e,t,r,i){const s=Ei(t,r);n.server_.onDisconnectPut(e.toString(),s.val(!0),(c,h)=>{"ok"===c&&jy(n.onDisconnect_,e,s),kf(0,i,c,h)})}(this._repo,this._path,e,t,r.wrapCallback(()=>{})),r.promise}update(e){il("OnDisconnect.update",this._path),pV("OnDisconnect.update",e,this._path,!1);const t=new j.BH;return function _8(n,e,t,r){if((0,j.xb)(t))return wo("onDisconnect().update() called with empty data.  Don't do anything."),void kf(0,r,"ok",void 0);n.server_.onDisconnectMerge(e.toString(),t,(i,s)=>{"ok"===i&&Co(t,(c,h)=>{const m=Ei(h);jy(n.onDisconnect_,fi(e,c),m)}),kf(0,r,i,s)})}(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}}class $s{constructor(e,t,r,i){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=i}get key(){return Wn(this._path)?null:xO(this._path)}get ref(){return new ol(this._repo,this._path)}get _queryIdentifier(){const e=k$(this._queryParams),t=CO(e);return"{}"===t?"default":t}get _queryObject(){return k$(this._queryParams)}isEqual(e){if(!((e=(0,j.m9)(e))instanceof $s))return!1;const t=this._repo===e._repo,r=MO(this._path,e._path);return t&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function _W(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}function OS(n,e){if(!0===n._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function Nf(n){let e=null,t=null;if(n.hasStart()&&(e=n.getIndexStartValue()),n.hasEnd()&&(t=n.getIndexEndValue()),n.getIndex()===eu){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Tf)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(n.hasEnd()){if(n.getIndexEndName()!==yd)throw new Error(r);if("string"!=typeof t)throw new Error(i)}}else if(n.getIndex()===qr){if(null!=e&&!VC(e)||null!=t&&!VC(t))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,j.hu)(n.getIndex()instanceof NO||n.getIndex()===FO,"unknown index type."),null!=e&&"object"==typeof e||null!=t&&"object"==typeof t)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function kS(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class ol extends $s{constructor(e,t){super(e,t,new cS,!1)}get parent(){const e=E$(this._path);return null===e?null:new ol(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class Xg{constructor(e,t,r){this._node=e,this.ref=t,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Cr(e),r=Jg(this.ref,e);return new Xg(this._node.getChild(t),r,qr)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(r,i)=>e(new Xg(i,Jg(this.ref,r),qr)))}hasChild(e){const t=new Cr(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function PV(n,e){return(n=(0,j.m9)(n))._checkNotDeleted("ref"),void 0!==e?Jg(n._root,e):n._root}function RV(n,e){(n=(0,j.m9)(n))._checkNotDeleted("refFromURL");const t=Ck(e,n._repo.repoInfo_.nodeAdmin);gV("refFromURL",t);const r=t.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&r.host!==n._repo.repoInfo_.host&&Jc("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+n._repo.repoInfo_.host+")"),PV(n,t.path.toString())}function Jg(n,e){return null===qn((n=(0,j.m9)(n))._path)?o8("child","path",e,!1):GC("child","path",e,!1),new ol(n._repo,fi(n._path,e))}function Ik(n,e){n=(0,j.m9)(n),il("set",n._path),tu("set",e,n._path,!1);const t=new j.BH;return mk(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function P8(n,e){pV("update",e,n._path,!1);const t=new j.BH;return function f8(n,e,t,r){qy(n,"update",{path:e.toString(),value:t});let i=!0;const s=zC(n),c={};if(Co(t,(h,m)=>{i=!1,c[h]=uV(fi(e,h),Ei(m),n.serverSyncTree_,s)}),i)wo("update() called with empty data.  Don't do anything."),kf(0,r,"ok",void 0);else{const h=MS(n),m=function B9(n,e,t,r){!function n9(n,e,t,r){(0,j.hu)(r>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:t,writeId:r,visible:!0}),n.visibleWrites=qO(n.visibleWrites,e,t),n.lastWriteId=r}(n.pendingWriteTree_,e,t,r);const i=Wr.fromObject(t);return zy(n,new Hy({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,i))}(n.serverSyncTree_,e,c,h);xS(n.eventQueue_,m),n.server_.merge(e.toString(),t,(y,b)=>{const S="ok"===y;S||Yo("update at "+e+" failed: "+y);const P=Of(n.serverSyncTree_,h,!S),V=P.length>0?Wy(n,e):e;_a(n.eventQueue_,V,P),kf(0,r,y,b)}),Co(t,y=>{const b=vk(n,fi(e,y));Wy(n,b)}),_a(n.eventQueue_,e,[])}}(n._repo,n._path,e,t.wrapCallback(()=>{})),t.promise}function R8(n){n=(0,j.m9)(n);const e=new Ek(()=>{}),t=new qC(e);return function h8(n,e,t){const r=function G9(n,e){const t=e._path;let r=null;n.syncPointTree_.foreachOnPath(t,(y,b)=>{const S=gs(y,t);r=r||Pf(b,S)});let i=n.syncPointTree_.get(t);i?r=r||Pf(i,dr()):(i=new J$,n.syncPointTree_=n.syncPointTree_.set(t,i));const s=null!=r,c=s?new xf(r,!0,!1):null;return function S9(n){return gS(n.viewCache_)}(eV(i,e,mS(n.pendingWriteTree_,e._path),s?c.getNode():Ln.EMPTY_NODE,s))}(n.serverSyncTree_,e);return null!=r?Promise.resolve(r):n.server_.get(e).then(i=>{const s=Ei(i).withIndex(e._queryParams.getIndex());let c;if(nk(n.serverSyncTree_,e,t,!0),e._queryParams.loadsAllData())c=LC(n.serverSyncTree_,e._path,s);else{const h=UC(n.serverSyncTree_,e);c=oV(n.serverSyncTree_,e._path,s,h)}return _a(n.eventQueue_,e._path,c),IS(n.serverSyncTree_,e,t,null,!0),s},i=>(qy(n,"get for query "+(0,j.Wl)(e)+" failed: "+i),Promise.reject(new Error(i))))}(n._repo,n,t).then(r=>new Xg(r,new ol(n._repo,n._path),n._queryParams.getIndex()))}class qC{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const r=t._queryParams.getIndex();return new AV("value",this,new Xg(e.snapshotNode,new ol(t._repo,t._path),r))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new xV(this,e,t):null}matches(e){return e instanceof qC&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class NS{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new xV(this,e,t):null}createEvent(e,t){(0,j.hu)(null!=e.childName,"Child events should have a childName.");const r=Jg(new ol(t._repo,t._path),e.childName),i=t._queryParams.getIndex();return new AV(e.type,this,new Xg(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof NS&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function WC(n,e,t,r,i){let s;if("object"==typeof r&&(s=void 0,i=r),"function"==typeof r&&(s=r),i&&i.onlyOnce){const m=t,y=(b,S)=>{_k(n._repo,n,h),m(b,S)};y.userCallback=t.userCallback,y.context=t.context,t=y}const c=new Ek(t,s||void 0),h="value"===e?new qC(c):new NS(e,c);return function y8(n,e,t){let r;r=".info"===qn(e._path)?nk(n.infoSyncTree_,e,t):nk(n.serverSyncTree_,e,t),mV(n.eventQueue_,e._path,r)}(n._repo,n,h),()=>_k(n._repo,n,h)}function bk(n,e,t,r){return WC(n,"value",e,t,r)}function OV(n,e,t,r){return WC(n,"child_added",e,t,r)}function kV(n,e,t,r){return WC(n,"child_changed",e,t,r)}function NV(n,e,t,r){return WC(n,"child_moved",e,t,r)}function FV(n,e,t,r){return WC(n,"child_removed",e,t,r)}function LV(n,e,t){let r=null;const i=t?new Ek(t):null;"value"===e?r=new qC(i):e&&(r=new NS(e,i)),_k(n._repo,n,r)}class Yl{}class UV extends Yl{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){tu("endAt",this._value,e._path,!0);const t=BO(e._queryParams,this._value,this._key);if(kS(t),Nf(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new $s(e._repo,e._path,t,e._orderByCalled)}}class k8 extends Yl{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){tu("endBefore",this._value,e._path,!1);const t=function HW(n,e,t){let r;return r=BO(n,e,n.index_===eu||t?t:Tf),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(kS(t),Nf(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new $s(e._repo,e._path,t,e._orderByCalled)}}class BV extends Yl{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){tu("startAt",this._value,e._path,!0);const t=UO(e._queryParams,this._value,this._key);if(kS(t),Nf(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new $s(e._repo,e._path,t,e._orderByCalled)}}class L8 extends Yl{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){tu("startAfter",this._value,e._path,!1);const t=function jW(n,e,t){let r;return r=UO(n,e,n.index_===eu||t?t:yd),r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(kS(t),Nf(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new $s(e._repo,e._path,t,e._orderByCalled)}}class B8 extends Yl{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new $s(e._repo,e._path,function $W(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="l",t}(e._queryParams,this._limit),e._orderByCalled)}}class V8 extends Yl{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new $s(e._repo,e._path,function VW(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="r",t}(e._queryParams,this._limit),e._orderByCalled)}}class H8 extends Yl{constructor(e){super(),this._path=e}_apply(e){OS(e,"orderByChild");const t=new Cr(this._path);if(Wn(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new NO(t),i=uS(e._queryParams,r);return Nf(i),new $s(e._repo,e._path,i,!0)}}class z8 extends Yl{_apply(e){OS(e,"orderByKey");const t=uS(e._queryParams,eu);return Nf(t),new $s(e._repo,e._path,t,!0)}}class W8 extends Yl{_apply(e){OS(e,"orderByPriority");const t=uS(e._queryParams,qr);return Nf(t),new $s(e._repo,e._path,t,!0)}}class Y8 extends Yl{_apply(e){OS(e,"orderByValue");const t=uS(e._queryParams,FO);return Nf(t),new $s(e._repo,e._path,t,!0)}}class Q8 extends Yl{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){if(tu("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new UV(this._value,this._key)._apply(new BV(this._value,this._key)._apply(e))}}function Kl(n,...e){let t=(0,j.m9)(n);for(const r of e)t=r._apply(t);return t}(function P9(n){(0,j.hu)(!wS,"__referenceConstructor has already been defined"),wS=n})(ol),function F9(n){(0,j.hu)(!ES,"__referenceConstructor has already been defined"),ES=n}(ol);const J8="FIREBASE_DATABASE_EMULATOR_HOST",Dk={};let $V=!1;function VV(n,e,t,r,i){let s=r||n.options.databaseURL;void 0===s&&(n.options.projectId||Jc("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),wo("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let m,y,c=Ck(s,i),h=c.repoInfo;typeof process<"u"&&process.env&&(y=process.env[J8]),y?(m=!0,s=`http://${y}?ns=${h.namespace}`,c=Ck(s,i),h=c.repoInfo):m=!c.repoInfo.secure;const b=i&&m?new DC(DC.OWNER):new qq(n.name,n.options,e);gV("Invalid Firebase Database URL",c),Wn(c.path)||Jc("Database URL must point to the root of a Firebase Database (not including a child path).");const S=function nZ(n,e,t,r){let i=Dk[e.name];i||(i={},Dk[e.name]=i);let s=i[n.toURLString()];return s&&Jc("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new c8(n,$V,t,r),i[n.toURLString()]=s,s}(h,n,b,new zq(n.name,t));return new iZ(S,n)}class iZ{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function u8(n,e,t){if(n.stats_=TO(n.repoInfo_),n.forceRestClient_||Gq())n.server_=new dS(n.repoInfo_,(r,i,s,c)=>{wV(n,r,i,s,c)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>CV(n,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,j.Wl)(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new Wg(n.repoInfo_,e,(r,i,s,c)=>{wV(n,r,i,s,c)},r=>{CV(n,r)},r=>{!function d8(n,e){Co(e,(t,r)=>{gk(n,t,r)})}(n,r)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=function Yq(n,e){const t=n.toString();return DO[t]||(DO[t]=e()),DO[t]}(n.repoInfo_,()=>new YW(n.stats_,n.server_)),n.infoData_=new GW,n.infoSyncTree_=new iV({startListening:(r,i,s,c)=>{let h=[];const m=n.infoData_.getNode(r._path);return m.isEmpty()||(h=LC(n.infoSyncTree_,r._path,m),setTimeout(()=>{c("ok")},0)),h},stopListening:()=>{}}),gk(n,"connected",!1),n.serverSyncTree_=new iV({startListening:(r,i,s,c)=>(n.server_.listen(r,s,i,(h,m)=>{const y=c(h,m);_a(n.eventQueue_,r._path,y)}),[]),stopListening:(r,i)=>{n.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ol(this._repo,dr())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function tZ(n,e){const t=Dk[e];(!t||t[n.key]!==n)&&Jc(`Database ${e}(${n.repoInfo_}) has already been deleted.`),IV(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Jc("Cannot call "+e+" on a deleted database.")}}function jV(){u$.IS_TRANSPORT_INITIALIZED&&Yo("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function oZ(){jV(),Sf.forceDisallow()}function sZ(){jV(),Uy.forceDisallow(),Sf.forceAllow()}function cZ(n,e){GB(n,e)}const dZ={".sv":"timestamp"};class pZ{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Wg.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},Wg.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function uZ(n){BB(gr.SDK_VERSION),(0,gr._registerComponent)(new da.wA("database",(e,{instanceIdentifier:t})=>VV(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,gr.registerVersion)(LB,"0.14.4",n),(0,gr.registerVersion)(LB,"0.14.4","esm2017")}();const yZ=new po.Yd("@firebase/database-compat"),GV=function(n){yZ.warn("FIREBASE WARNING: "+n)};class CZ{constructor(e){this._delegate=e}cancel(e){(0,j.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,j.Wj)("OnDisconnect.cancel","onComplete",e,!0);const t=this._delegate.cancel();return e&&t.then(()=>e(null),r=>e(r)),t}remove(e){(0,j.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,j.Wj)("OnDisconnect.remove","onComplete",e,!0);const t=this._delegate.remove();return e&&t.then(()=>e(null),r=>e(r)),t}set(e,t){(0,j.Dv)("OnDisconnect.set",1,2,arguments.length),(0,j.Wj)("OnDisconnect.set","onComplete",t,!0);const r=this._delegate.set(e);return t&&r.then(()=>t(null),i=>t(i)),r}setWithPriority(e,t,r){(0,j.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,j.Wj)("OnDisconnect.setWithPriority","onComplete",r,!0);const i=this._delegate.setWithPriority(e,t);return r&&i.then(()=>r(null),s=>r(s)),i}update(e,t){if((0,j.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let s=0;s<e.length;++s)i[""+s]=e[s];e=i,GV("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,j.Wj)("OnDisconnect.update","onComplete",t,!0);const r=this._delegate.update(e);return t&&r.then(()=>t(null),i=>t(i)),r}}class EZ{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return(0,j.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Ff{constructor(e,t){this._database=e,this._delegate=t}val(){return(0,j.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,j.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,j.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,j.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return(0,j.Dv)("DataSnapshot.child",0,1,arguments.length),e=String(e),GC("DataSnapshot.child","path",e,!1),new Ff(this._database,this._delegate.child(e))}hasChild(e){return(0,j.Dv)("DataSnapshot.hasChild",1,1,arguments.length),GC("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return(0,j.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return(0,j.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,j.Wj)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(t=>e(new Ff(this._database,t)))}hasChildren(){return(0,j.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,j.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,j.Dv)("DataSnapshot.ref",0,0,arguments.length),new ya(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class ko{constructor(e,t){this.database=e,this._delegate=t}on(e,t,r,i){var s;(0,j.Dv)("Query.on",2,4,arguments.length),(0,j.Wj)("Query.on","callback",t,!1);const c=ko.getCancelAndContextArgs_("Query.on",r,i),h=(y,b)=>{t.call(c.context,new Ff(this.database,y),b)};h.userCallback=t,h.context=c.context;const m=null===(s=c.cancel)||void 0===s?void 0:s.bind(c.context);switch(e){case"value":return bk(this._delegate,h,m),t;case"child_added":return OV(this._delegate,h,m),t;case"child_removed":return FV(this._delegate,h,m),t;case"child_changed":return kV(this._delegate,h,m),t;case"child_moved":return NV(this._delegate,h,m),t;default:throw new Error((0,j.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,r){if((0,j.Dv)("Query.off",0,3,arguments.length),function(n,e,t){if(void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,j.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,e),(0,j.Wj)("Query.off","callback",t,!0),(0,j.lb)("Query.off","context",r,!0),t){const i=()=>{};i.userCallback=t,i.context=r,LV(this._delegate,e,i)}else LV(this._delegate,e)}get(){return R8(this._delegate).then(e=>new Ff(this.database,e))}once(e,t,r,i){(0,j.Dv)("Query.once",1,4,arguments.length),(0,j.Wj)("Query.once","callback",t,!0);const s=ko.getCancelAndContextArgs_("Query.once",r,i),c=new j.BH,h=(y,b)=>{const S=new Ff(this.database,y);t&&t.call(s.context,S,b),c.resolve(S)};h.userCallback=t,h.context=s.context;const m=y=>{s.cancel&&s.cancel.call(s.context,y),c.reject(y)};switch(e){case"value":bk(this._delegate,h,m,{onlyOnce:!0});break;case"child_added":OV(this._delegate,h,m,{onlyOnce:!0});break;case"child_removed":FV(this._delegate,h,m,{onlyOnce:!0});break;case"child_changed":kV(this._delegate,h,m,{onlyOnce:!0});break;case"child_moved":NV(this._delegate,h,m,{onlyOnce:!0});break;default:throw new Error((0,j.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return c.promise}limitToFirst(e){return(0,j.Dv)("Query.limitToFirst",1,1,arguments.length),new ko(this.database,Kl(this._delegate,function $8(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new B8(n)}(e)))}limitToLast(e){return(0,j.Dv)("Query.limitToLast",1,1,arguments.length),new ko(this.database,Kl(this._delegate,function j8(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new V8(n)}(e)))}orderByChild(e){return(0,j.Dv)("Query.orderByChild",1,1,arguments.length),new ko(this.database,Kl(this._delegate,function G8(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return GC("orderByChild","path",n,!1),new H8(n)}(e)))}orderByKey(){return(0,j.Dv)("Query.orderByKey",0,0,arguments.length),new ko(this.database,Kl(this._delegate,function q8(){return new z8}()))}orderByPriority(){return(0,j.Dv)("Query.orderByPriority",0,0,arguments.length),new ko(this.database,Kl(this._delegate,function Z8(){return new W8}()))}orderByValue(){return(0,j.Dv)("Query.orderByValue",0,0,arguments.length),new ko(this.database,Kl(this._delegate,function K8(){return new Y8}()))}startAt(e=null,t){return(0,j.Dv)("Query.startAt",0,2,arguments.length),new ko(this.database,Kl(this._delegate,function F8(n=null,e){return HC("startAt","key",e,!0),new BV(n,e)}(e,t)))}startAfter(e=null,t){return(0,j.Dv)("Query.startAfter",0,2,arguments.length),new ko(this.database,Kl(this._delegate,function U8(n,e){return HC("startAfter","key",e,!0),new L8(n,e)}(e,t)))}endAt(e=null,t){return(0,j.Dv)("Query.endAt",0,2,arguments.length),new ko(this.database,Kl(this._delegate,function O8(n,e){return HC("endAt","key",e,!0),new UV(n,e)}(e,t)))}endBefore(e=null,t){return(0,j.Dv)("Query.endBefore",0,2,arguments.length),new ko(this.database,Kl(this._delegate,function N8(n,e){return HC("endBefore","key",e,!0),new k8(n,e)}(e,t)))}equalTo(e,t){return(0,j.Dv)("Query.equalTo",1,2,arguments.length),new ko(this.database,Kl(this._delegate,function X8(n,e){return HC("equalTo","key",e,!0),new Q8(n,e)}(e,t)))}toString(){return(0,j.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,j.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if((0,j.Dv)("Query.isEqual",1,1,arguments.length),!(e instanceof ko))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,r){const i={cancel:void 0,context:void 0};if(t&&r)i.cancel=t,(0,j.Wj)(e,"cancel",i.cancel,!0),i.context=r,(0,j.lb)(e,"context",i.context,!0);else if(t)if("object"==typeof t&&null!==t)i.context=t;else{if("function"!=typeof t)throw new Error((0,j.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");i.cancel=t}return i}get ref(){return new ya(this.database,new ol(this._delegate._repo,this._delegate._path))}}class ya extends ko{constructor(e,t){super(e,new $s(t._repo,t._path,new cS,!1)),this.database=e,this._delegate=t}getKey(){return(0,j.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return(0,j.Dv)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new ya(this.database,Jg(this._delegate,e))}getParent(){(0,j.Dv)("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new ya(this.database,e):null}getRoot(){return(0,j.Dv)("Reference.root",0,0,arguments.length),new ya(this.database,this._delegate.root)}set(e,t){(0,j.Dv)("Reference.set",1,2,arguments.length),(0,j.Wj)("Reference.set","onComplete",t,!0);const r=Ik(this._delegate,e);return t&&r.then(()=>t(null),i=>t(i)),r}update(e,t){if((0,j.Dv)("Reference.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let s=0;s<e.length;++s)i[""+s]=e[s];e=i,GV("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}il("Reference.update",this._delegate._path),(0,j.Wj)("Reference.update","onComplete",t,!0);const r=P8(this._delegate,e);return t&&r.then(()=>t(null),i=>t(i)),r}setWithPriority(e,t,r){(0,j.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,j.Wj)("Reference.setWithPriority","onComplete",r,!0);const i=function M8(n,e,t){if(il("setWithPriority",n._path),tu("setWithPriority",e,n._path,!1),pk("setWithPriority",t,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const r=new j.BH;return mk(n._repo,n._path,e,t,r.wrapCallback(()=>{})),r.promise}(this._delegate,e,t);return r&&i.then(()=>r(null),s=>r(s)),i}remove(e){(0,j.Dv)("Reference.remove",0,1,arguments.length),(0,j.Wj)("Reference.remove","onComplete",e,!0);const t=function A8(n){return il("remove",n._path),Ik(n,null)}(this._delegate);return e&&t.then(()=>e(null),r=>e(r)),t}transaction(e,t,r){(0,j.Dv)("Reference.transaction",1,3,arguments.length),(0,j.Wj)("Reference.transaction","transactionUpdate",e,!1),(0,j.Wj)("Reference.transaction","onComplete",t,!0),function(n,e,t,r){if(void 0!==t&&"boolean"!=typeof t)throw new Error((0,j.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,r);const i=function gZ(n,e,t){var r;if(n=(0,j.m9)(n),il("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const i=null===(r=null==t?void 0:t.applyLocally)||void 0===r||r,s=new j.BH,h=bk(n,()=>{});return function w8(n,e,t,r,i,s){qy(n,"transaction on "+e);const c={path:e,update:t,onComplete:r,status:null,order:VB(),applyLocally:s,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},h=yk(n,e,void 0);c.currentInputSnapshot=h;const m=c.update(h.val());if(void 0===m)c.unwatcher(),c.currentOutputSnapshotRaw=null,c.currentOutputSnapshotResolved=null,c.onComplete&&c.onComplete(null,!1,c.currentInputSnapshot);else{jC("transaction failed: Data returned ",m,c.path),c.status=0;const y=TS(n.transactionQueueTree_,e),b=Qg(y)||[];let S;b.push(c),dk(y,b),"object"==typeof m&&null!==m&&(0,j.r3)(m,".priority")?(S=(0,j.DV)(m,".priority"),(0,j.hu)(VC(S),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):S=(bS(n.serverSyncTree_,e)||Ln.EMPTY_NODE).getPriority().val();const P=zC(n),V=Ei(m,S),ne=lk(V,h,P);c.currentOutputSnapshotRaw=V,c.currentOutputSnapshotResolved=ne,c.currentWriteId=MS(n);const Ne=tk(n.serverSyncTree_,e,ne,c.currentWriteId,c.applyLocally);_a(n.eventQueue_,e,Ne),PS(n,n.transactionQueueTree_)}}(n._repo,n._path,e,(m,y,b)=>{let S=null;m?s.reject(m):(S=new Xg(b,new ol(n._repo,n._path),qr),s.resolve(new pZ(y,S)))},h,i),s.promise}(this._delegate,e,{applyLocally:r}).then(s=>new EZ(s.committed,new Ff(this.database,s.snapshot)));return t&&i.then(s=>t(null,s.committed,s.snapshot),s=>t(s,!1,null)),i}setPriority(e,t){(0,j.Dv)("Reference.setPriority",1,2,arguments.length),(0,j.Wj)("Reference.setPriority","onComplete",t,!0);const r=function x8(n,e){n=(0,j.m9)(n),il("setPriority",n._path),pk("setPriority",e,!1);const t=new j.BH;return mk(n._repo,fi(n._path,".priority"),e,null,t.wrapCallback(()=>{})),t.promise}(this._delegate,e);return t&&r.then(()=>t(null),i=>t(i)),r}push(e,t){(0,j.Dv)("Reference.push",0,2,arguments.length),(0,j.Wj)("Reference.push","onComplete",t,!0);const r=function S8(n,e){n=(0,j.m9)(n),il("push",n._path),tu("push",e,n._path,!0);const t=vV(n._repo),r=T8(t),i=Jg(n,r),s=Jg(n,r);let c;return c=null!=e?Ik(s,e).then(()=>s):Promise.resolve(s),i.then=c.then.bind(c),i.catch=c.then.bind(c,void 0),i}(this._delegate,e),i=r.then(c=>new ya(this.database,c));t&&i.then(()=>t(null),c=>t(c));const s=new ya(this.database,r);return s.then=i.then.bind(i),s.catch=i.catch.bind(i,void 0),s}onDisconnect(){return il("Reference.onDisconnect",this._delegate._path),new CZ(new MV(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class ZC{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:oZ,forceLongPolling:sZ}}useEmulator(e,t,r={}){!function HV(n,e,t,r={}){(n=(0,j.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Jc("Cannot call useEmulator() after instance has already been initialized.");const i=n._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Jc('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new DC(DC.OWNER);else if(r.mockUserToken){const c="string"==typeof r.mockUserToken?r.mockUserToken:(0,j.Sg)(r.mockUserToken,n.app.options.projectId);s=new DC(c)}!function eZ(n,e,t,r){n.repoInfo_=new IO(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),r&&(n.authTokenProvider_=r)}(i,e,t,s)}(this._delegate,e,t,r)}ref(e){if((0,j.Dv)("database.ref",0,1,arguments.length),e instanceof ya){const t=RV(this._delegate,e.toString());return new ya(this,t)}{const t=PV(this._delegate,e);return new ya(this,t)}}refFromURL(e){(0,j.Dv)("database.refFromURL",1,1,arguments.length);const r=RV(this._delegate,e);return new ya(this,r)}goOffline(){return(0,j.Dv)("database.goOffline",0,0,arguments.length),function aZ(n){(n=(0,j.m9)(n))._checkNotDeleted("goOffline"),IV(n._repo)}(this._delegate)}goOnline(){return(0,j.Dv)("database.goOnline",0,0,arguments.length),function lZ(n){(n=(0,j.m9)(n))._checkNotDeleted("goOnline"),function v8(n){n.persistentConnection_&&n.persistentConnection_.resume(yV)}(n._repo)}(this._delegate)}}ZC.ServerValue={TIMESTAMP:function hZ(){return dZ}(),increment:n=>function fZ(n){return{".sv":{increment:n}}}(n)};var bZ=Object.freeze({__proto__:null,initStandalone:function IZ({app:n,url:e,version:t,customAuthImpl:r,namespace:i,nodeAdmin:s=!1}){BB(t);const c=new da.zt("auth-internal",new da.H0("database-standalone"));return c.setComponent(new da.wA("auth-internal",()=>r,"PRIVATE")),{instance:new ZC(VV(n,c,void 0,e,s),n),namespace:i}}});const DZ=ZC.ServerValue;function zV(n){return null==n}function qV(n){return"function"==typeof n.set}function WV(n,e){return qV(e)?e:n.ref(e)}function ZV(n,e){if(function SZ(n){return"string"==typeof n}(n))return e.stringCase();if(qV(n))return e.firebaseCase();if(function AZ(n){return"function"==typeof n.exportVal}(n))return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function YC(n,e,t="on",r=U0.z){return new si.y(i=>{let s=null;return s=n[t](e,(c,h)=>{r.schedule(()=>{i.next({snapshot:c,prevKey:h})}),"once"===t&&r.schedule(()=>i.complete())},c=>{r.schedule(()=>i.error(c))}),"on"===t?{unsubscribe(){null!=s&&n.off(e,s)}}:{unsubscribe(){}}}).pipe((0,Vt.U)(i=>{const{snapshot:s,prevKey:c}=i;let h=null;return s.exists()&&(h=s.key),{type:e,payload:s,prevKey:c,key:h}}),(0,gU.B)())}function YV(n,e){const t=n.length;for(let r=0;r<t;r++)if(n[r].payload.key===e)return r;return-1}function PZ(n,e){const{payload:t,prevKey:r,key:i}=e,s=YV(n,i),c=function MZ(n,e){if(zV(e))return 0;{const t=YV(n,e);return-1===t?n.length:t+1}}(n,r);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let h=null;e.payload.forEach(m=>{const y={payload:m,type:"value",prevKey:h,key:m.key};return h=m.key,n=[...n,y],!1})}return n;case"child_added":if(s>-1){const h=n[s-1];(h&&h.key||null)!==r&&(n=n.filter(m=>m.payload.key!==t.key)).splice(c,0,e)}else{if(null==r)return[e,...n];(n=n.slice()).splice(c,0,e)}return n;case"child_removed":return n.filter(h=>h.payload.key!==t.key);case"child_changed":return n.map(h=>h.payload.key===i?e:h);case"child_moved":if(s>-1){const h=n.splice(s,1)[0];return(n=n.slice()).splice(c,0,h),n}return n;default:return n}}function KV(n){return(zV(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function QV(n,e,t){return function xZ(n,e,t){return YC(n,"value","once",t).pipe(ur(r=>{const i=[Nt(r)];return e.forEach(s=>i.push(YC(n,s,"on",t))),(0,DR.T)(...i).pipe(La(PZ,[]))}),n_())}(n,e=KV(e),t)}function XV(n,e,t){const r=(e=KV(e)).map(i=>YC(n,i,"on",t));return(0,DR.T)(...r)}function JV(n,e){return function(r,i){return ZV(r,{stringCase:()=>n.child(r)[e](i),firebaseCase:()=>r[e](i),snapshotCase:()=>r.ref[e](i)})}}function NZ(n){return function(t){return t?ZV(t,{stringCase:()=>n.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):n.remove()}}function e3(n,e){return function(){return YC(n,"value","on",e)}}!function TZ(n){n.INTERNAL.registerComponent(new da.wA("database-compat",(e,{instanceIdentifier:t})=>{const r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:t});return new ZC(i,r)},"PUBLIC").setServiceProps({Reference:ya,Query:ko,Database:ZC,DataSnapshot:Ff,enableLogging:cZ,INTERNAL:bZ,ServerValue:DZ}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.3.4")}(nd.Z);const UZ=new a.OlP("angularfire2.realtimeDatabaseURL"),BZ=new a.OlP("angularfire2.database.use-emulator");let $Z=(()=>{class n{constructor(t,r,i,s,c,h,m,y,b,S,P,V,ne,Ne,Xe){this.schedulers=h;const ut=m,xt=(0,Ai.on)(t,c,r);y&&tO(xt,c,b,P,V,ne,S,Ne),this.database=(0,Ai.cc)(`${xt.name}.database.${i}`,"AngularFireDatabase",xt.name,()=>{const yt=c.runOutsideAngular(()=>xt.database(i||void 0));return ut&&yt.useEmulator(...ut),yt},[ut])}list(t,r){const i=this.schedulers.ngZone.runOutsideAngular(()=>WV(this.database,t));let s=i;return r&&(s=r(i)),function FZ(n,e){const t=e.schedulers.outsideAngular,r=e.schedulers.ngZone.run(()=>n.ref);return{query:n,update:JV(r,"update"),set:JV(r,"set"),push:i=>r.push(i),remove:NZ(r),snapshotChanges:i=>QV(n,i,t).pipe(sr.iC),stateChanges:i=>XV(n,i,t).pipe(sr.iC),auditTrail:i=>function RZ(n,e,t){return function kZ(n,e,t){return function OZ(n,e){return YC(n,"value","on",e).pipe((0,Vt.U)(t=>{let r;return t.payload.forEach(i=>(r=i.key,!1)),{data:t,lastKeyToLoad:r}}))}(n,t).pipe(function Pq(...n){const e=(0,lo.jO)(n);return(0,ai.e)((t,r)=>{const i=n.length,s=new Array(i);let c=n.map(()=>!1),h=!1;for(let m=0;m<i;m++)(0,ia.Xf)(n[m]).subscribe((0,jr.x)(r,y=>{s[m]=y,!h&&!c[m]&&(c[m]=!0,(h=c.every(na.y))&&(c=null))},Mq.Z));t.subscribe((0,jr.x)(r,m=>{if(h){const y=[m,...s];r.next(e?e(...y):y)}}))})}(e),(0,Vt.U)(([i,s])=>{const c=i.lastKeyToLoad,h=s.map(m=>m.key);return{actions:s,lastKeyToLoad:c,loadedKeys:h}}),function Rq(n){return(0,ai.e)((e,t)=>{let r=!1,i=0;e.subscribe((0,jr.x)(t,s=>(r||(r=!n(s,i++)))&&t.next(s)))})}(i=>-1===i.loadedKeys.indexOf(i.lastKeyToLoad)),(0,Vt.U)(i=>i.actions))}(n,XV(n,e).pipe(La((i,s)=>[...i,s],[])),t)}(n,i,t).pipe(sr.iC),valueChanges:(i,s)=>QV(n,i,t).pipe((0,Vt.U)(h=>h.map(m=>s&&s.idField?Object.assign(Object.assign({},m.payload.val()),{[s.idField]:m.key}):m.payload.val())),sr.iC)}}(s,this)}object(t){return function LZ(n,e){return{query:n,snapshotChanges:()=>e3(n,e.schedulers.outsideAngular)().pipe(sr.iC),update:t=>n.ref.update(t),set:t=>n.ref.set(t),remove:()=>n.ref.remove(),valueChanges:()=>e3(n,e.schedulers.outsideAngular)().pipe(sr.iC,(0,Vt.U)(r=>r.payload.exists()?r.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>WV(this.database,t)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Ai.Dh),a.LFG(Ai.xv,8),a.LFG(UZ,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(sr.HU),a.LFG(BZ,8),a.LFG(gC,8),a.LFG(YR,8),a.LFG(KR,8),a.LFG(QR,8),a.LFG(XR,8),a.LFG(JR,8),a.LFG(eO,8),a.LFG(pC,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),VZ=(()=>{class n{constructor(){HT.Z.registerVersion("angularfire",sr.q4.full,"rtdb-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[$Z]}),n})(),jZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n,bootstrap:[LG]}),n.\u0275inj=a.cJS({providers:[{provide:Av,useClass:S0},bf],imports:[Oa,Mb.forRoot(),Uz,SM,Ka,ax,Ai.hO.initializeApp(Bz_firebaseConfig),IG,PG,xq,VZ]}),n})();(0,a.G48)(),Wf().bootstrapModule(jZ).catch(n=>console.log(n))},9751:(St,We,R)=>{"use strict";R.d(We,{y:()=>ye});var a=R(930),W=R(727),O=R(8822),ve=R(9635),we=R(2416),_e=R(576),ee=R(2806);let ye=(()=>{class Z{constructor(ue){ue&&(this._subscribe=ue)}lift(ue){const xe=new Z;return xe.source=this,xe.operator=ue,xe}subscribe(ue,xe,He){const J=function z(Z){return Z&&Z instanceof a.Lv||function Q(Z){return Z&&(0,_e.m)(Z.next)&&(0,_e.m)(Z.error)&&(0,_e.m)(Z.complete)}(Z)&&(0,W.Nn)(Z)}(ue)?ue:new a.Hp(ue,xe,He);return(0,ee.x)(()=>{const{operator:Y,source:fe}=this;J.add(Y?Y.call(J,fe):fe?this._subscribe(J):this._trySubscribe(J))}),J}_trySubscribe(ue){try{return this._subscribe(ue)}catch(xe){ue.error(xe)}}forEach(ue,xe){return new(xe=Ee(xe))((He,J)=>{const Y=new a.Hp({next:fe=>{try{ue(fe)}catch(Me){J(Me),Y.unsubscribe()}},error:J,complete:He});this.subscribe(Y)})}_subscribe(ue){var xe;return null===(xe=this.source)||void 0===xe?void 0:xe.subscribe(ue)}[O.L](){return this}pipe(...ue){return(0,ve.U)(ue)(this)}toPromise(ue){return new(ue=Ee(ue))((xe,He)=>{let J;this.subscribe(Y=>J=Y,Y=>He(Y),()=>xe(J))})}}return Z.create=ie=>new Z(ie),Z})();function Ee(Z){var ie;return null!==(ie=null!=Z?Z:we.v.Promise)&&void 0!==ie?ie:Promise}},7579:(St,We,R)=>{"use strict";R.d(We,{x:()=>ee});var a=R(9751),W=R(727);const ve=(0,R(3888).d)(Ee=>function(){Ee(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var we=R(8737),_e=R(2806);let ee=(()=>{class Ee extends a.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(z){const Z=new ye(this,this);return Z.operator=z,Z}_throwIfClosed(){if(this.closed)throw new ve}next(z){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Z of this.currentObservers)Z.next(z)}})}error(z){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=z;const{observers:Z}=this;for(;Z.length;)Z.shift().error(z)}})}complete(){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:z}=this;for(;z.length;)z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var z;return(null===(z=this.observers)||void 0===z?void 0:z.length)>0}_trySubscribe(z){return this._throwIfClosed(),super._trySubscribe(z)}_subscribe(z){return this._throwIfClosed(),this._checkFinalizedStatuses(z),this._innerSubscribe(z)}_innerSubscribe(z){const{hasError:Z,isStopped:ie,observers:ue}=this;return Z||ie?W.Lc:(this.currentObservers=null,ue.push(z),new W.w0(()=>{this.currentObservers=null,(0,we.P)(ue,z)}))}_checkFinalizedStatuses(z){const{hasError:Z,thrownError:ie,isStopped:ue}=this;Z?z.error(ie):ue&&z.complete()}asObservable(){const z=new a.y;return z.source=this,z}}return Ee.create=(Q,z)=>new ye(Q,z),Ee})();class ye extends ee{constructor(Q,z){super(),this.destination=Q,this.source=z}next(Q){var z,Z;null===(Z=null===(z=this.destination)||void 0===z?void 0:z.next)||void 0===Z||Z.call(z,Q)}error(Q){var z,Z;null===(Z=null===(z=this.destination)||void 0===z?void 0:z.error)||void 0===Z||Z.call(z,Q)}complete(){var Q,z;null===(z=null===(Q=this.destination)||void 0===Q?void 0:Q.complete)||void 0===z||z.call(Q)}_subscribe(Q){var z,Z;return null!==(Z=null===(z=this.source)||void 0===z?void 0:z.subscribe(Q))&&void 0!==Z?Z:W.Lc}}},930:(St,We,R)=>{"use strict";R.d(We,{Hp:()=>He,Lv:()=>Z});var a=R(576),W=R(727),O=R(2416),ve=R(7849),we=R(5032);const _e=Ee("C",void 0,void 0);function Ee(De,be,Re){return{kind:De,value:be,error:Re}}var Q=R(3410),z=R(2806);class Z extends W.w0{constructor(be){super(),this.isStopped=!1,be?(this.destination=be,(0,W.Nn)(be)&&be.add(this)):this.destination=Me}static create(be,Re,Fe){return new He(be,Re,Fe)}next(be){this.isStopped?fe(function ye(De){return Ee("N",De,void 0)}(be),this):this._next(be)}error(be){this.isStopped?fe(function ee(De){return Ee("E",void 0,De)}(be),this):(this.isStopped=!0,this._error(be))}complete(){this.isStopped?fe(_e,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(be){this.destination.next(be)}_error(be){try{this.destination.error(be)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ie=Function.prototype.bind;function ue(De,be){return ie.call(De,be)}class xe{constructor(be){this.partialObserver=be}next(be){const{partialObserver:Re}=this;if(Re.next)try{Re.next(be)}catch(Fe){J(Fe)}}error(be){const{partialObserver:Re}=this;if(Re.error)try{Re.error(be)}catch(Fe){J(Fe)}else J(be)}complete(){const{partialObserver:be}=this;if(be.complete)try{be.complete()}catch(Re){J(Re)}}}class He extends Z{constructor(be,Re,Fe){let ae;if(super(),(0,a.m)(be)||!be)ae={next:null!=be?be:void 0,error:null!=Re?Re:void 0,complete:null!=Fe?Fe:void 0};else{let X;this&&O.v.useDeprecatedNextContext?(X=Object.create(be),X.unsubscribe=()=>this.unsubscribe(),ae={next:be.next&&ue(be.next,X),error:be.error&&ue(be.error,X),complete:be.complete&&ue(be.complete,X)}):ae=be}this.destination=new xe(ae)}}function J(De){O.v.useDeprecatedSynchronousErrorHandling?(0,z.O)(De):(0,ve.h)(De)}function fe(De,be){const{onStoppedNotification:Re}=O.v;Re&&Q.z.setTimeout(()=>Re(De,be))}const Me={closed:!0,next:we.Z,error:function Y(De){throw De},complete:we.Z}},727:(St,We,R)=>{"use strict";R.d(We,{Lc:()=>_e,w0:()=>we,Nn:()=>ee});var a=R(576);const O=(0,R(3888).d)(Ee=>function(z){Ee(this),this.message=z?`${z.length} errors occurred during unsubscription:\n${z.map((Z,ie)=>`${ie+1}) ${Z.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=z});var ve=R(8737);class we{constructor(Q){this.initialTeardown=Q,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Q;if(!this.closed){this.closed=!0;const{_parentage:z}=this;if(z)if(this._parentage=null,Array.isArray(z))for(const ue of z)ue.remove(this);else z.remove(this);const{initialTeardown:Z}=this;if((0,a.m)(Z))try{Z()}catch(ue){Q=ue instanceof O?ue.errors:[ue]}const{_finalizers:ie}=this;if(ie){this._finalizers=null;for(const ue of ie)try{ye(ue)}catch(xe){Q=null!=Q?Q:[],xe instanceof O?Q=[...Q,...xe.errors]:Q.push(xe)}}if(Q)throw new O(Q)}}add(Q){var z;if(Q&&Q!==this)if(this.closed)ye(Q);else{if(Q instanceof we){if(Q.closed||Q._hasParent(this))return;Q._addParent(this)}(this._finalizers=null!==(z=this._finalizers)&&void 0!==z?z:[]).push(Q)}}_hasParent(Q){const{_parentage:z}=this;return z===Q||Array.isArray(z)&&z.includes(Q)}_addParent(Q){const{_parentage:z}=this;this._parentage=Array.isArray(z)?(z.push(Q),z):z?[z,Q]:Q}_removeParent(Q){const{_parentage:z}=this;z===Q?this._parentage=null:Array.isArray(z)&&(0,ve.P)(z,Q)}remove(Q){const{_finalizers:z}=this;z&&(0,ve.P)(z,Q),Q instanceof we&&Q._removeParent(this)}}we.EMPTY=(()=>{const Ee=new we;return Ee.closed=!0,Ee})();const _e=we.EMPTY;function ee(Ee){return Ee instanceof we||Ee&&"closed"in Ee&&(0,a.m)(Ee.remove)&&(0,a.m)(Ee.add)&&(0,a.m)(Ee.unsubscribe)}function ye(Ee){(0,a.m)(Ee)?Ee():Ee.unsubscribe()}},2416:(St,We,R)=>{"use strict";R.d(We,{v:()=>a});const a={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(St,We,R)=>{"use strict";R.d(We,{E:()=>W});const W=new(R(9751).y)(we=>we.complete())},8996:(St,We,R)=>{"use strict";R.d(We,{D:()=>be});var a=R(8421),W=R(5363),O=R(9468),_e=R(9751),ye=R(2202),Ee=R(576),Q=R(9672);function Z(Re,Fe){if(!Re)throw new Error("Iterable cannot be null");return new _e.y(ae=>{(0,Q.f)(ae,Fe,()=>{const X=Re[Symbol.asyncIterator]();(0,Q.f)(ae,Fe,()=>{X.next().then(Ue=>{Ue.done?ae.complete():ae.next(Ue.value)})},0,!0)})})}var ie=R(3670),ue=R(8239),xe=R(1144),He=R(6495),J=R(2206),Y=R(4532),fe=R(3260);function be(Re,Fe){return Fe?function De(Re,Fe){if(null!=Re){if((0,ie.c)(Re))return function ve(Re,Fe){return(0,a.Xf)(Re).pipe((0,O.R)(Fe),(0,W.Q)(Fe))}(Re,Fe);if((0,xe.z)(Re))return function ee(Re,Fe){return new _e.y(ae=>{let X=0;return Fe.schedule(function(){X===Re.length?ae.complete():(ae.next(Re[X++]),ae.closed||this.schedule())})})}(Re,Fe);if((0,ue.t)(Re))return function we(Re,Fe){return(0,a.Xf)(Re).pipe((0,O.R)(Fe),(0,W.Q)(Fe))}(Re,Fe);if((0,J.D)(Re))return Z(Re,Fe);if((0,He.T)(Re))return function z(Re,Fe){return new _e.y(ae=>{let X;return(0,Q.f)(ae,Fe,()=>{X=Re[ye.h](),(0,Q.f)(ae,Fe,()=>{let Ue,he;try{({value:Ue,done:he}=X.next())}catch(Te){return void ae.error(Te)}he?ae.complete():ae.next(Ue)},0,!0)}),()=>(0,Ee.m)(null==X?void 0:X.return)&&X.return()})}(Re,Fe);if((0,fe.L)(Re))return function Me(Re,Fe){return Z((0,fe.Q)(Re),Fe)}(Re,Fe)}throw(0,Y.z)(Re)}(Re,Fe):(0,a.Xf)(Re)}},8421:(St,We,R)=>{"use strict";R.d(We,{Xf:()=>ie});var a=R(655),W=R(1144),O=R(8239),ve=R(9751),we=R(3670),_e=R(2206),ee=R(4532),ye=R(6495),Ee=R(3260),Q=R(576),z=R(7849),Z=R(8822);function ie(De){if(De instanceof ve.y)return De;if(null!=De){if((0,we.c)(De))return function ue(De){return new ve.y(be=>{const Re=De[Z.L]();if((0,Q.m)(Re.subscribe))return Re.subscribe(be);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(De);if((0,W.z)(De))return function xe(De){return new ve.y(be=>{for(let Re=0;Re<De.length&&!be.closed;Re++)be.next(De[Re]);be.complete()})}(De);if((0,O.t)(De))return function He(De){return new ve.y(be=>{De.then(Re=>{be.closed||(be.next(Re),be.complete())},Re=>be.error(Re)).then(null,z.h)})}(De);if((0,_e.D)(De))return Y(De);if((0,ye.T)(De))return function J(De){return new ve.y(be=>{for(const Re of De)if(be.next(Re),be.closed)return;be.complete()})}(De);if((0,Ee.L)(De))return function fe(De){return Y((0,Ee.Q)(De))}(De)}throw(0,ee.z)(De)}function Y(De){return new ve.y(be=>{(function Me(De,be){var Re,Fe,ae,X;return(0,a.mG)(this,void 0,void 0,function*(){try{for(Re=(0,a.KL)(De);!(Fe=yield Re.next()).done;)if(be.next(Fe.value),be.closed)return}catch(Ue){ae={error:Ue}}finally{try{Fe&&!Fe.done&&(X=Re.return)&&(yield X.call(Re))}finally{if(ae)throw ae.error}}be.complete()})})(De,be).catch(Re=>be.error(Re))})}},6451:(St,We,R)=>{"use strict";R.d(We,{T:()=>_e});var a=R(8189),W=R(8421),O=R(515),ve=R(7669),we=R(8996);function _e(...ee){const ye=(0,ve.yG)(ee),Ee=(0,ve._6)(ee,1/0),Q=ee;return Q.length?1===Q.length?(0,W.Xf)(Q[0]):(0,a.J)(Ee)((0,we.D)(Q,ye)):O.E}},5403:(St,We,R)=>{"use strict";R.d(We,{x:()=>W});var a=R(930);function W(ve,we,_e,ee,ye){return new O(ve,we,_e,ee,ye)}class O extends a.Lv{constructor(we,_e,ee,ye,Ee,Q){super(we),this.onFinalize=Ee,this.shouldUnsubscribe=Q,this._next=_e?function(z){try{_e(z)}catch(Z){we.error(Z)}}:super._next,this._error=ye?function(z){try{ye(z)}catch(Z){we.error(Z)}finally{this.unsubscribe()}}:super._error,this._complete=ee?function(){try{ee()}catch(z){we.error(z)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var we;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:_e}=this;super.unsubscribe(),!_e&&(null===(we=this.onFinalize)||void 0===we||we.call(this))}}}},4004:(St,We,R)=>{"use strict";R.d(We,{U:()=>O});var a=R(4482),W=R(5403);function O(ve,we){return(0,a.e)((_e,ee)=>{let ye=0;_e.subscribe((0,W.x)(ee,Ee=>{ee.next(ve.call(we,Ee,ye++))}))})}},8189:(St,We,R)=>{"use strict";R.d(We,{J:()=>O});var a=R(5577),W=R(4671);function O(ve=1/0){return(0,a.z)(W.y,ve)}},5577:(St,We,R)=>{"use strict";R.d(We,{z:()=>ye});var a=R(4004),W=R(8421),O=R(4482),ve=R(9672),we=R(5403),ee=R(576);function ye(Ee,Q,z=1/0){return(0,ee.m)(Q)?ye((Z,ie)=>(0,a.U)((ue,xe)=>Q(Z,ue,ie,xe))((0,W.Xf)(Ee(Z,ie))),z):("number"==typeof Q&&(z=Q),(0,O.e)((Z,ie)=>function _e(Ee,Q,z,Z,ie,ue,xe,He){const J=[];let Y=0,fe=0,Me=!1;const De=()=>{Me&&!J.length&&!Y&&Q.complete()},be=Fe=>Y<Z?Re(Fe):J.push(Fe),Re=Fe=>{ue&&Q.next(Fe),Y++;let ae=!1;(0,W.Xf)(z(Fe,fe++)).subscribe((0,we.x)(Q,X=>{null==ie||ie(X),ue?be(X):Q.next(X)},()=>{ae=!0},void 0,()=>{if(ae)try{for(Y--;J.length&&Y<Z;){const X=J.shift();xe?(0,ve.f)(Q,xe,()=>Re(X)):Re(X)}De()}catch(X){Q.error(X)}}))};return Ee.subscribe((0,we.x)(Q,be,()=>{Me=!0,De()})),()=>{null==He||He()}}(Z,ie,Ee,z)))}},5363:(St,We,R)=>{"use strict";R.d(We,{Q:()=>ve});var a=R(9672),W=R(4482),O=R(5403);function ve(we,_e=0){return(0,W.e)((ee,ye)=>{ee.subscribe((0,O.x)(ye,Ee=>(0,a.f)(ye,we,()=>ye.next(Ee),_e),()=>(0,a.f)(ye,we,()=>ye.complete(),_e),Ee=>(0,a.f)(ye,we,()=>ye.error(Ee),_e)))})}},3099:(St,We,R)=>{"use strict";R.d(We,{B:()=>we});var a=R(8421),W=R(7579),O=R(930),ve=R(4482);function we(ee={}){const{connector:ye=(()=>new W.x),resetOnError:Ee=!0,resetOnComplete:Q=!0,resetOnRefCountZero:z=!0}=ee;return Z=>{let ie,ue,xe,He=0,J=!1,Y=!1;const fe=()=>{null==ue||ue.unsubscribe(),ue=void 0},Me=()=>{fe(),ie=xe=void 0,J=Y=!1},De=()=>{const be=ie;Me(),null==be||be.unsubscribe()};return(0,ve.e)((be,Re)=>{He++,!Y&&!J&&fe();const Fe=xe=null!=xe?xe:ye();Re.add(()=>{He--,0===He&&!Y&&!J&&(ue=_e(De,z))}),Fe.subscribe(Re),!ie&&He>0&&(ie=new O.Hp({next:ae=>Fe.next(ae),error:ae=>{Y=!0,fe(),ue=_e(Me,Ee,ae),Fe.error(ae)},complete:()=>{J=!0,fe(),ue=_e(Me,Q),Fe.complete()}}),(0,a.Xf)(be).subscribe(ie))})(Z)}}function _e(ee,ye,...Ee){if(!0===ye)return void ee();if(!1===ye)return;const Q=new O.Hp({next:()=>{Q.unsubscribe(),ee()}});return ye(...Ee).subscribe(Q)}},9468:(St,We,R)=>{"use strict";R.d(We,{R:()=>W});var a=R(4482);function W(O,ve=0){return(0,a.e)((we,_e)=>{_e.add(O.schedule(()=>we.subscribe(_e),ve))})}},8505:(St,We,R)=>{"use strict";R.d(We,{b:()=>we});var a=R(576),W=R(4482),O=R(5403),ve=R(4671);function we(_e,ee,ye){const Ee=(0,a.m)(_e)||ee||ye?{next:_e,error:ee,complete:ye}:_e;return Ee?(0,W.e)((Q,z)=>{var Z;null===(Z=Ee.subscribe)||void 0===Z||Z.call(Ee);let ie=!0;Q.subscribe((0,O.x)(z,ue=>{var xe;null===(xe=Ee.next)||void 0===xe||xe.call(Ee,ue),z.next(ue)},()=>{var ue;ie=!1,null===(ue=Ee.complete)||void 0===ue||ue.call(Ee),z.complete()},ue=>{var xe;ie=!1,null===(xe=Ee.error)||void 0===xe||xe.call(Ee,ue),z.error(ue)},()=>{var ue,xe;ie&&(null===(ue=Ee.unsubscribe)||void 0===ue||ue.call(Ee)),null===(xe=Ee.finalize)||void 0===xe||xe.call(Ee)}))}):ve.y}},4408:(St,We,R)=>{"use strict";R.d(We,{o:()=>we});var a=R(727);class W extends a.w0{constructor(ee,ye){super()}schedule(ee,ye=0){return this}}const O={setInterval(_e,ee,...ye){const{delegate:Ee}=O;return null!=Ee&&Ee.setInterval?Ee.setInterval(_e,ee,...ye):setInterval(_e,ee,...ye)},clearInterval(_e){const{delegate:ee}=O;return((null==ee?void 0:ee.clearInterval)||clearInterval)(_e)},delegate:void 0};var ve=R(8737);class we extends W{constructor(ee,ye){super(ee,ye),this.scheduler=ee,this.work=ye,this.pending=!1}schedule(ee,ye=0){var Ee;if(this.closed)return this;this.state=ee;const Q=this.id,z=this.scheduler;return null!=Q&&(this.id=this.recycleAsyncId(z,Q,ye)),this.pending=!0,this.delay=ye,this.id=null!==(Ee=this.id)&&void 0!==Ee?Ee:this.requestAsyncId(z,this.id,ye),this}requestAsyncId(ee,ye,Ee=0){return O.setInterval(ee.flush.bind(ee,this),Ee)}recycleAsyncId(ee,ye,Ee=0){if(null!=Ee&&this.delay===Ee&&!1===this.pending)return ye;null!=ye&&O.clearInterval(ye)}execute(ee,ye){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ee=this._execute(ee,ye);if(Ee)return Ee;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ee,ye){let Q,Ee=!1;try{this.work(ee)}catch(z){Ee=!0,Q=z||new Error("Scheduled action threw falsy error")}if(Ee)return this.unsubscribe(),Q}unsubscribe(){if(!this.closed){const{id:ee,scheduler:ye}=this,{actions:Ee}=ye;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ve.P)(Ee,this),null!=ee&&(this.id=this.recycleAsyncId(ye,ee,null)),this.delay=null,super.unsubscribe()}}}},7565:(St,We,R)=>{"use strict";R.d(We,{v:()=>O});var a=R(6063);class W{constructor(we,_e=W.now){this.schedulerActionCtor=we,this.now=_e}schedule(we,_e=0,ee){return new this.schedulerActionCtor(this,we).schedule(ee,_e)}}W.now=a.l.now;class O extends W{constructor(we,_e=W.now){super(we,_e),this.actions=[],this._active=!1}flush(we){const{actions:_e}=this;if(this._active)return void _e.push(we);let ee;this._active=!0;do{if(ee=we.execute(we.state,we.delay))break}while(we=_e.shift());if(this._active=!1,ee){for(;we=_e.shift();)we.unsubscribe();throw ee}}}},4986:(St,We,R)=>{"use strict";R.d(We,{z:()=>O});var a=R(4408);const O=new(R(7565).v)(a.o)},6063:(St,We,R)=>{"use strict";R.d(We,{l:()=>a});const a={now:()=>(a.delegate||Date).now(),delegate:void 0}},3410:(St,We,R)=>{"use strict";R.d(We,{z:()=>a});const a={setTimeout(W,O,...ve){const{delegate:we}=a;return null!=we&&we.setTimeout?we.setTimeout(W,O,...ve):setTimeout(W,O,...ve)},clearTimeout(W){const{delegate:O}=a;return((null==O?void 0:O.clearTimeout)||clearTimeout)(W)},delegate:void 0}},2202:(St,We,R)=>{"use strict";R.d(We,{h:()=>W});const W=function a(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(St,We,R)=>{"use strict";R.d(We,{L:()=>a});const a="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(St,We,R)=>{"use strict";R.d(We,{_6:()=>_e,jO:()=>ve,yG:()=>we});var a=R(576);function O(ee){return ee[ee.length-1]}function ve(ee){return(0,a.m)(O(ee))?ee.pop():void 0}function we(ee){return function W(ee){return ee&&(0,a.m)(ee.schedule)}(O(ee))?ee.pop():void 0}function _e(ee,ye){return"number"==typeof O(ee)?ee.pop():ye}},8737:(St,We,R)=>{"use strict";function a(W,O){if(W){const ve=W.indexOf(O);0<=ve&&W.splice(ve,1)}}R.d(We,{P:()=>a})},3888:(St,We,R)=>{"use strict";function a(W){const ve=W(we=>{Error.call(we),we.stack=(new Error).stack});return ve.prototype=Object.create(Error.prototype),ve.prototype.constructor=ve,ve}R.d(We,{d:()=>a})},2806:(St,We,R)=>{"use strict";R.d(We,{O:()=>ve,x:()=>O});var a=R(2416);let W=null;function O(we){if(a.v.useDeprecatedSynchronousErrorHandling){const _e=!W;if(_e&&(W={errorThrown:!1,error:null}),we(),_e){const{errorThrown:ee,error:ye}=W;if(W=null,ee)throw ye}}else we()}function ve(we){a.v.useDeprecatedSynchronousErrorHandling&&W&&(W.errorThrown=!0,W.error=we)}},9672:(St,We,R)=>{"use strict";function a(W,O,ve,we=0,_e=!1){const ee=O.schedule(function(){ve(),_e?W.add(this.schedule(null,we)):this.unsubscribe()},we);if(W.add(ee),!_e)return ee}R.d(We,{f:()=>a})},4671:(St,We,R)=>{"use strict";function a(W){return W}R.d(We,{y:()=>a})},1144:(St,We,R)=>{"use strict";R.d(We,{z:()=>a});const a=W=>W&&"number"==typeof W.length&&"function"!=typeof W},2206:(St,We,R)=>{"use strict";R.d(We,{D:()=>W});var a=R(576);function W(O){return Symbol.asyncIterator&&(0,a.m)(null==O?void 0:O[Symbol.asyncIterator])}},576:(St,We,R)=>{"use strict";function a(W){return"function"==typeof W}R.d(We,{m:()=>a})},3670:(St,We,R)=>{"use strict";R.d(We,{c:()=>O});var a=R(8822),W=R(576);function O(ve){return(0,W.m)(ve[a.L])}},6495:(St,We,R)=>{"use strict";R.d(We,{T:()=>O});var a=R(2202),W=R(576);function O(ve){return(0,W.m)(null==ve?void 0:ve[a.h])}},8239:(St,We,R)=>{"use strict";R.d(We,{t:()=>W});var a=R(576);function W(O){return(0,a.m)(null==O?void 0:O.then)}},3260:(St,We,R)=>{"use strict";R.d(We,{L:()=>ve,Q:()=>O});var a=R(655),W=R(576);function O(we){return(0,a.FC)(this,arguments,function*(){const ee=we.getReader();try{for(;;){const{value:ye,done:Ee}=yield(0,a.qq)(ee.read());if(Ee)return yield(0,a.qq)(void 0);yield yield(0,a.qq)(ye)}}finally{ee.releaseLock()}})}function ve(we){return(0,W.m)(null==we?void 0:we.getReader)}},4482:(St,We,R)=>{"use strict";R.d(We,{A:()=>W,e:()=>O});var a=R(576);function W(ve){return(0,a.m)(null==ve?void 0:ve.lift)}function O(ve){return we=>{if(W(we))return we.lift(function(_e){try{return ve(_e,this)}catch(ee){this.error(ee)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(St,We,R)=>{"use strict";function a(){}R.d(We,{Z:()=>a})},9635:(St,We,R)=>{"use strict";R.d(We,{U:()=>O,z:()=>W});var a=R(4671);function W(...ve){return O(ve)}function O(ve){return 0===ve.length?a.y:1===ve.length?ve[0]:function(_e){return ve.reduce((ee,ye)=>ye(ee),_e)}}},7849:(St,We,R)=>{"use strict";R.d(We,{h:()=>O});var a=R(2416),W=R(3410);function O(ve){W.z.setTimeout(()=>{const{onUnhandledError:we}=a.v;if(!we)throw ve;we(ve)})}},4532:(St,We,R)=>{"use strict";function a(W){return new TypeError(`You provided ${null!==W&&"object"==typeof W?"an invalid object":`'${W}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}R.d(We,{z:()=>a})},863:(St,We,R)=>{var a={"./ion-accordion_2.entry.js":[9654,8592,9654],"./ion-action-sheet.entry.js":[3648,8592,3648],"./ion-alert.entry.js":[1118,8592,1118],"./ion-app_8.entry.js":[53,8592,53],"./ion-avatar_3.entry.js":[4753,4753],"./ion-back-button.entry.js":[2073,8592,2073],"./ion-backdrop.entry.js":[8939,8939],"./ion-breadcrumb_2.entry.js":[7544,8592,7544],"./ion-button_2.entry.js":[5652,5652],"./ion-card_5.entry.js":[388,388],"./ion-checkbox.entry.js":[9922,8592,9922],"./ion-chip.entry.js":[657,657],"./ion-col_3.entry.js":[9824,9824],"./ion-datetime-button.entry.js":[9230,7879,9230],"./ion-datetime_3.entry.js":[4959,7879,8592,4959],"./ion-fab_3.entry.js":[5836,8592,5836],"./ion-img.entry.js":[1033,1033],"./ion-infinite-scroll_2.entry.js":[8034,8592,8034],"./ion-input.entry.js":[1217,8592,1217],"./ion-item-option_3.entry.js":[2933,8592,2933],"./ion-item_8.entry.js":[4711,8592,4711],"./ion-loading.entry.js":[9434,9434],"./ion-menu_3.entry.js":[8136,8592,8136],"./ion-modal.entry.js":[2349,8592,2349],"./ion-nav_2.entry.js":[5349,8592,5349],"./ion-picker-column-internal.entry.js":[7602,8592,7602],"./ion-picker-internal.entry.js":[9016,9016],"./ion-popover.entry.js":[3804,3804],"./ion-progress-bar.entry.js":[4174,4174],"./ion-radio_2.entry.js":[4432,8592,4432],"./ion-range.entry.js":[1709,8592,1709],"./ion-refresher_2.entry.js":[3326,8592,3326],"./ion-reorder_2.entry.js":[3583,8592,3583],"./ion-ripple-effect.entry.js":[9958,9958],"./ion-route_4.entry.js":[4330,4330],"./ion-searchbar.entry.js":[8628,8592,8628],"./ion-segment_2.entry.js":[9325,8592,9325],"./ion-select_3.entry.js":[2773,8592,2773],"./ion-spinner.entry.js":[4908,8592,4908],"./ion-split-pane.entry.js":[9536,9536],"./ion-tab-bar_2.entry.js":[438,8592,438],"./ion-tab_2.entry.js":[1536,1536],"./ion-text.entry.js":[4376,4376],"./ion-textarea.entry.js":[6560,8592,6560],"./ion-toast.entry.js":[6120,6120],"./ion-toggle.entry.js":[5168,8592,5168]};function W(O){if(!R.o(a,O))return Promise.resolve().then(()=>{var _e=new Error("Cannot find module '"+O+"'");throw _e.code="MODULE_NOT_FOUND",_e});var ve=a[O],we=ve[0];return Promise.all(ve.slice(1).map(R.e)).then(()=>R(we))}W.keys=()=>Object.keys(a),W.id=863,St.exports=W},655:(St,We,R)=>{"use strict";function ve(Se,Oe){var Be={};for(var le in Se)Object.prototype.hasOwnProperty.call(Se,le)&&Oe.indexOf(le)<0&&(Be[le]=Se[le]);if(null!=Se&&"function"==typeof Object.getOwnPropertySymbols){var oe=0;for(le=Object.getOwnPropertySymbols(Se);oe<le.length;oe++)Oe.indexOf(le[oe])<0&&Object.prototype.propertyIsEnumerable.call(Se,le[oe])&&(Be[le[oe]]=Se[le[oe]])}return Be}function we(Se,Oe,Be,le){var Le,oe=arguments.length,pe=oe<3?Oe:null===le?le=Object.getOwnPropertyDescriptor(Oe,Be):le;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)pe=Reflect.decorate(Se,Oe,Be,le);else for(var qe=Se.length-1;qe>=0;qe--)(Le=Se[qe])&&(pe=(oe<3?Le(pe):oe>3?Le(Oe,Be,pe):Le(Oe,Be))||pe);return oe>3&&pe&&Object.defineProperty(Oe,Be,pe),pe}function Z(Se,Oe,Be,le){return new(Be||(Be=Promise))(function(pe,Le){function qe(Rt){try{dt(le.next(Rt))}catch($e){Le($e)}}function pt(Rt){try{dt(le.throw(Rt))}catch($e){Le($e)}}function dt(Rt){Rt.done?pe(Rt.value):function oe(pe){return pe instanceof Be?pe:new Be(function(Le){Le(pe)})}(Rt.value).then(qe,pt)}dt((le=le.apply(Se,Oe||[])).next())})}function De(Se){return this instanceof De?(this.v=Se,this):new De(Se)}function be(Se,Oe,Be){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var oe,le=Be.apply(Se,Oe||[]),pe=[];return oe={},Le("next"),Le("throw"),Le("return"),oe[Symbol.asyncIterator]=function(){return this},oe;function Le(Ce){le[Ce]&&(oe[Ce]=function(Je){return new Promise(function(ht,jt){pe.push([Ce,Je,ht,jt])>1||qe(Ce,Je)})})}function qe(Ce,Je){try{!function pt(Ce){Ce.value instanceof De?Promise.resolve(Ce.value.v).then(dt,Rt):$e(pe[0][2],Ce)}(le[Ce](Je))}catch(ht){$e(pe[0][3],ht)}}function dt(Ce){qe("next",Ce)}function Rt(Ce){qe("throw",Ce)}function $e(Ce,Je){Ce(Je),pe.shift(),pe.length&&qe(pe[0][0],pe[0][1])}}function Fe(Se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Be,Oe=Se[Symbol.asyncIterator];return Oe?Oe.call(Se):(Se=function He(Se){var Oe="function"==typeof Symbol&&Symbol.iterator,Be=Oe&&Se[Oe],le=0;if(Be)return Be.call(Se);if(Se&&"number"==typeof Se.length)return{next:function(){return Se&&le>=Se.length&&(Se=void 0),{value:Se&&Se[le++],done:!Se}}};throw new TypeError(Oe?"Object is not iterable.":"Symbol.iterator is not defined.")}(Se),Be={},le("next"),le("throw"),le("return"),Be[Symbol.asyncIterator]=function(){return this},Be);function le(pe){Be[pe]=Se[pe]&&function(Le){return new Promise(function(qe,pt){!function oe(pe,Le,qe,pt){Promise.resolve(pt).then(function(dt){pe({value:dt,done:qe})},Le)}(qe,pt,(Le=Se[pe](Le)).done,Le.value)})}}}R.d(We,{FC:()=>be,KL:()=>Fe,_T:()=>ve,gn:()=>we,mG:()=>Z,qq:()=>De})},4650:(St,We,R)=>{"use strict";R.d(We,{$8M:()=>Cl,$WT:()=>hn,$Z:()=>BE,AFp:()=>Z0,AaK:()=>ye,CHM:()=>su,CRH:()=>TM,CZH:()=>sg,CqO:()=>wI,D6c:()=>t1,EJc:()=>K0,EpF:()=>vI,F$t:()=>DI,F4k:()=>qm,FYo:()=>Cv,FiY:()=>ta,G48:()=>cw,Gf:()=>bM,GfV:()=>wE,GkF:()=>Gm,Gpc:()=>z,Gre:()=>WI,Hsn:()=>zu,JOm:()=>nn,KtG:()=>hl,LFG:()=>gn,LMc:()=>TD,LSH:()=>cv,Lbi:()=>Y0,Lck:()=>oN,MAs:()=>yI,MGl:()=>$p,MMx:()=>Ab,MR2:()=>eA,NdJ:()=>Wm,OlP:()=>Hn,Oqu:()=>t_,P3R:()=>dE,PXZ:()=>dg,Q6J:()=>Vm,QGY:()=>zm,Qsj:()=>lA,R0b:()=>Fs,RDi:()=>BS,Rgc:()=>ng,SBq:()=>Dh,Sil:()=>X0,Suo:()=>DM,TTD:()=>Ad,TgZ:()=>jm,VKq:()=>pM,X6Q:()=>z_,XFs:()=>Ut,Xpm:()=>vn,Xts:()=>dv,Y36:()=>Mh,YKP:()=>Db,YNc:()=>mI,Yjl:()=>In,Yz7:()=>$e,Z0I:()=>jt,ZZ4:()=>gw,_Bn:()=>lM,_UZ:()=>Xv,_Vd:()=>bh,_c5:()=>JM,_uU:()=>px,aQg:()=>vg,c2e:()=>FM,cJS:()=>Je,cg1:()=>i_,dDg:()=>uD,dqk:()=>On,eFA:()=>hg,eJc:()=>Zb,ekj:()=>NI,eoX:()=>rw,f3M:()=>rr,g9A:()=>R_,h0i:()=>Qp,hGG:()=>e1,hij:()=>c0,iGM:()=>IM,ifc:()=>B,ip1:()=>W0,jDz:()=>cM,kL8:()=>nb,lG2:()=>Jt,lqb:()=>Uu,lri:()=>Qh,n5z:()=>yu,oAB:()=>ke,oxw:()=>Ym,q4F:()=>CE,qLn:()=>yp,qOj:()=>Oh,qZA:()=>Bp,rWj:()=>nw,s9C:()=>e0,sBO:()=>GM,s_b:()=>v_,soG:()=>cg,tb:()=>Uc,tp0:()=>Vt,uIk:()=>pI,vHH:()=>J,vpe:()=>jl,wAp:()=>fn,xp6:()=>PE,z2F:()=>Bc,zSh:()=>xc,zs3:()=>Bu});var a=R(7579),W=R(727),O=R(9751),ve=R(6451),we=R(3099);function _e(o){for(let l in o)if(o[l]===_e)return l;throw Error("Could not find renamed property on target object.")}function ee(o,l){for(const u in l)l.hasOwnProperty(u)&&!o.hasOwnProperty(u)&&(o[u]=l[u])}function ye(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(ye).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const l=o.toString();if(null==l)return""+l;const u=l.indexOf("\n");return-1===u?l:l.substring(0,u)}function Ee(o,l){return null==o||""===o?null===l?"":l:null==l||""===l?o:o+" "+l}const Q=_e({__forward_ref__:_e});function z(o){return o.__forward_ref__=z,o.toString=function(){return ye(this())},o}function Z(o){return ie(o)?o():o}function ie(o){return"function"==typeof o&&o.hasOwnProperty(Q)&&o.__forward_ref__===z}function ue(o){return o&&!!o.\u0275providers}const He="https://g.co/ng/security#xss";class J extends Error{constructor(l,u){super(Y(l,u)),this.code=l}}function Y(o,l){return`NG0${Math.abs(o)}${l?": "+l.trim():""}`}function fe(o){return"string"==typeof o?o:null==o?"":String(o)}function Fe(o,l){throw new J(-201,!1)}function Le(o,l){null==o&&function qe(o,l,u,d){throw new Error(`ASSERTION ERROR: ${o}`+(null==d?"":` [Expected=> ${u} ${d} ${l} <=Actual]`))}(l,o,null,"!=")}function $e(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function Je(o){return{providers:o.providers||[],imports:o.imports||[]}}function ht(o){return Kt(o,un)||Kt(o,ar)}function jt(o){return null!==ht(o)}function Kt(o,l){return o.hasOwnProperty(l)?o[l]:null}function zt(o){return o&&(o.hasOwnProperty(Nn)||o.hasOwnProperty(Un))?o[Nn]:null}const un=_e({\u0275prov:_e}),Nn=_e({\u0275inj:_e}),ar=_e({ngInjectableDef:_e}),Un=_e({ngInjectorDef:_e});var Ut=(()=>((Ut=Ut||{})[Ut.Default=0]="Default",Ut[Ut.Host=1]="Host",Ut[Ut.Self=2]="Self",Ut[Ut.SkipSelf=4]="SkipSelf",Ut[Ut.Optional=8]="Optional",Ut))();let Bn;function Rn(o){const l=Bn;return Bn=o,l}function Rr(o,l,u){const d=ht(o);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:u&Ut.Optional?null:void 0!==l?l:void Fe(ye(o))}const On=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),zn={},Sr="__NG_DI_FLAG__",kn="ngTempTokenPath",kr="ngTokenPath",nr=/\n/gm,mr="\u0275",Cn="__source";let ri;function pn(o){const l=ri;return ri=o,l}function ii(o,l=Ut.Default){if(void 0===ri)throw new J(-203,!1);return null===ri?Rr(o,void 0,l):ri.get(o,l&Ut.Optional?null:void 0,l)}function gn(o,l=Ut.Default){return(function pi(){return Bn}()||ii)(Z(o),l)}function rr(o,l=Ut.Default){return gn(o,Nr(l))}function Nr(o){return typeof o>"u"||"number"==typeof o?o:0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)}function lr(o){const l=[];for(let u=0;u<o.length;u++){const d=Z(o[u]);if(Array.isArray(d)){if(0===d.length)throw new J(900,!1);let f,g=Ut.Default;for(let v=0;v<d.length;v++){const E=d[v],T=fr(E);"number"==typeof T?-1===T?f=E.token:g|=T:f=E}l.push(gn(f,g))}else l.push(gn(d))}return l}function cr(o,l){return o[Sr]=l,o.prototype[Sr]=l,o}function fr(o){return o[Sr]}function K(o){return{toString:o}.toString()}var L=(()=>((L=L||{})[L.OnPush=0]="OnPush",L[L.Default=1]="Default",L))(),B=(()=>{return(o=B||(B={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",B;var o})();const N={},me=[],it=_e({\u0275cmp:_e}),At=_e({\u0275dir:_e}),Xt=_e({\u0275pipe:_e}),Zt=_e({\u0275mod:_e}),En=_e({\u0275fac:_e}),tn=_e({__NG_ELEMENT_ID__:_e});let Kn=0;function vn(o){return K(()=>{const l=ms(o),u={...l,decls:o.decls,vars:o.vars,template:o.template,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,onPush:o.changeDetection===L.OnPush,directiveDefs:null,pipeDefs:null,dependencies:l.standalone&&o.dependencies||null,getStandaloneInjector:null,data:o.data||{},encapsulation:o.encapsulation||B.Emulated,id:"c"+Kn++,styles:o.styles||me,_:null,schemas:o.schemas||null,tView:null};sl(u);const d=o.dependencies;return u.directiveDefs=Bi(d,!1),u.pipeDefs=Bi(d,!0),u})}function Fr(o){return Lt(o)||Fn(o)}function et(o){return null!==o}function ke(o){return K(()=>({type:o.type,bootstrap:o.bootstrap||me,declarations:o.declarations||me,imports:o.imports||me,exports:o.exports||me,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function Ot(o,l){if(null==o)return N;const u={};for(const d in o)if(o.hasOwnProperty(d)){let f=o[d],g=f;Array.isArray(f)&&(g=f[1],f=f[0]),u[f]=d,l&&(l[f]=g)}return u}function Jt(o){return K(()=>{const l=ms(o);return sl(l),l})}function In(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function Lt(o){return o[it]||null}function Fn(o){return o[At]||null}function wn(o){return o[Xt]||null}function hn(o){const l=Lt(o)||Fn(o)||wn(o);return null!==l&&l.standalone}function sn(o,l){const u=o[Zt]||null;if(!u&&!0===l)throw new Error(`Type ${ye(o)} does not have '\u0275mod' property.`);return u}function ms(o){const l={};return{type:o.type,providersResolver:null,factory:null,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:l,exportAs:o.exportAs||null,standalone:!0===o.standalone,selectors:o.selectors||me,viewQuery:o.viewQuery||null,features:o.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ot(o.inputs,l),outputs:Ot(o.outputs)}}function sl(o){var l;null===(l=o.features)||void 0===l||l.forEach(u=>u(o))}function Bi(o,l){if(!o)return null;const u=l?wn:Fr;return()=>("function"==typeof o?o():o).map(d=>u(d)).filter(et)}const Ar=0,wt=1,an=2,Jn=3,$n=4,$i=5,yr=6,Vi=7,ir=8,k=9,H=10,te=11,$=12,se=13,ce=14,Ye=15,Qe=16,rt=17,st=18,bt=19,Yt=20,qt=21,cn=22,Ii=1,oo=2,gi=7,Ki=8,Ko=9,xr=10;function Ri(o){return Array.isArray(o)&&"object"==typeof o[Ii]}function Eo(o){return Array.isArray(o)&&!0===o[Ii]}function js(o){return 0!=(4&o.flags)}function Ql(o){return o.componentOffset>-1}function al(o){return 1==(1&o.flags)}function ji(o){return!!o.template}function _s(o){return 0!=(256&o[an])}function Qo(o,l){return o.hasOwnProperty(En)?o[En]:null}class Sd{constructor(l,u,d){this.previousValue=l,this.currentValue=u,this.firstChange=d}isFirstChange(){return this.firstChange}}function Ad(){return Xl}function Xl(o){return o.type.prototype.ngOnChanges&&(o.setInput=vs),Vf}function Vf(){const o=Jl(this),l=null==o?void 0:o.current;if(l){const u=o.previous;if(u===N)o.previous=l;else for(let d in l)u[d]=l[d];o.current=null,this.ngOnChanges(l)}}function vs(o,l,u,d){const f=this.declaredInputs[u],g=Jl(o)||function xd(o,l){return o[nu]=l}(o,{previous:N,current:null}),v=g.current||(g.current={}),E=g.previous,T=E[f];v[f]=new Sd(T&&T.currentValue,l,E===N),o[d]=l}Ad.ngInherit=!0;const nu="__ngSimpleChanges__";function Jl(o){return o[nu]||null}const Ir=function(o,l,u){};function Zr(o){for(;Array.isArray(o);)o=o[Ar];return o}function Ws(o,l){return Zr(l[o])}function mi(o,l){return Zr(l[o.index])}function tc(o,l){return o.data[l]}function oi(o,l){const u=l[o];return Ri(u)?u:u[Ar]}function ws(o){return 64==(64&o[an])}function Xo(o,l){return null==l?null:o[l]}function dl(o){o[st]=0}function Ea(o,l){o[$i]+=l;let u=o,d=o[Jn];for(;null!==d&&(1===l&&1===u[$i]||-1===l&&0===u[$i]);)d[$i]+=l,u=d,d=d[Jn]}const mn={lFrame:pl(null),bindingsEnabled:!0};function Pd(){return mn.bindingsEnabled}function nt(){return mn.lFrame.lView}function bn(){return mn.lFrame.tView}function su(o){return mn.lFrame.contextLView=o,o[ir]}function hl(o){return mn.lFrame.contextLView=null,o}function Lr(){let o=Od();for(;null!==o&&64===o.type;)o=o.parent;return o}function Od(){return mn.lFrame.currentTNode}function so(o,l){const u=mn.lFrame;u.currentTNode=o,u.isParent=l}function rc(){return mn.lFrame.isParent}function kd(){mn.lFrame.isParent=!1}function Jo(){return mn.lFrame.bindingIndex++}function Fo(o){const l=mn.lFrame,u=l.bindingIndex;return l.bindingIndex=l.bindingIndex+o,u}function Ld(o,l){const u=mn.lFrame;u.bindingIndex=u.bindingRootIndex=o,Ur(l)}function Ur(o){mn.lFrame.currentDirectiveIndex=o}function fl(){return mn.lFrame.currentQueryIndex}function Ud(o){mn.lFrame.currentQueryIndex=o}function oc(o){const l=o[wt];return 2===l.type?l.declTNode:1===l.type?o[yr]:null}function Bd(o,l,u){if(u&Ut.SkipSelf){let f=l,g=o;for(;!(f=f.parent,null!==f||u&Ut.Host||(f=oc(g),null===f||(g=g[Ye],10&f.type))););if(null===f)return!1;l=f,o=g}const d=mn.lFrame=au();return d.currentTNode=l,d.lView=o,!0}function Da(o){const l=au(),u=o[wt];mn.lFrame=l,l.currentTNode=u.firstChild,l.lView=o,l.tView=u,l.contextLView=o,l.bindingIndex=u.bindingStartIndex,l.inI18n=!1}function au(){const o=mn.lFrame,l=null===o?null:o.child;return null===l?pl(o):l}function pl(o){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=l),l}function lu(){const o=mn.lFrame;return mn.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const sc=lu;function $d(){const o=lu();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function bi(){return mn.lFrame.selectedIndex}function Lo(o){mn.lFrame.selectedIndex=o}function vr(){const o=mn.lFrame;return tc(o.tView,o.selectedIndex)}function ac(o,l){for(let A=l.directiveStart,F=l.directiveEnd;A<F;A++){const de=o.data[A].type.prototype,{ngAfterContentInit:Pe,ngAfterContentChecked:ot,ngAfterViewInit:ft,ngAfterViewChecked:It,ngOnDestroy:Wt}=de;var u,d,f,g,v,E,T;Pe&&(null!==(u=o.contentHooks)&&void 0!==u?u:o.contentHooks=[]).push(-A,Pe),ot&&((null!==(d=o.contentHooks)&&void 0!==d?d:o.contentHooks=[]).push(A,ot),(null!==(f=o.contentCheckHooks)&&void 0!==f?f:o.contentCheckHooks=[]).push(A,ot)),ft&&(null!==(g=o.viewHooks)&&void 0!==g?g:o.viewHooks=[]).push(-A,ft),It&&((null!==(v=o.viewHooks)&&void 0!==v?v:o.viewHooks=[]).push(A,It),(null!==(E=o.viewCheckHooks)&&void 0!==E?E:o.viewCheckHooks=[]).push(A,It)),null!=Wt&&(null!==(T=o.destroyHooks)&&void 0!==T?T:o.destroyHooks=[]).push(A,Wt)}}function du(o,l,u){lc(o,l,3,u)}function Gd(o,l,u,d){(3&o[an])===u&&lc(o,l,u,d)}function zd(o,l){let u=o[an];(3&u)===l&&(u&=2047,u+=1,o[an]=u)}function lc(o,l,u,d){const g=null!=d?d:-1,v=l.length-1;let E=0;for(let T=void 0!==d?65535&o[st]:0;T<v;T++)if("number"==typeof l[T+1]){if(E=l[T],null!=d&&E>=d)break}else l[T]<0&&(o[st]+=65536),(E<g||-1==g)&&(Sa(o,u,l,T),o[st]=(4294901760&o[st])+T+2),T++}function Sa(o,l,u,d){const f=u[d]<0,g=u[d+1],E=o[f?-u[d]:u[d]];if(f){if(o[an]>>11<o[st]>>16&&(3&o[an])===l){o[an]+=2048,Ir(4,E,g);try{g.call(E)}finally{Ir(5,E,g)}}}else{Ir(4,E,g);try{g.call(E)}finally{Ir(5,E,g)}}}const gl=-1;class es{constructor(l,u,d){this.factory=l,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=d}}function Aa(o,l,u){let d=0;for(;d<u.length;){const f=u[d];if("number"==typeof f){if(0!==f)break;d++;const g=u[d++],v=u[d++],E=u[d++];o.setAttribute(l,v,E,g)}else{const g=f,v=u[++d];Is(g)?o.setProperty(l,g,v):o.setAttribute(l,g,v),d++}}return d}function Wd(o){return 3===o||4===o||6===o}function Is(o){return 64===o.charCodeAt(0)}function Ys(o,l){if(null!==l&&0!==l.length)if(null===o||0===o.length)o=l.slice();else{let u=-1;for(let d=0;d<l.length;d++){const f=l[d];"number"==typeof f?u=f:0===u||xa(o,u,f,null,-1===u||2===u?l[++d]:null)}}return o}function xa(o,l,u,d,f){let g=0,v=o.length;if(-1===l)v=-1;else for(;g<o.length;){const E=o[g++];if("number"==typeof E){if(E===l){v=-1;break}if(E>l){v=g-1;break}}}for(;g<o.length;){const E=o[g];if("number"==typeof E)break;if(E===u){if(null===d)return void(null!==f&&(o[g+1]=f));if(d===o[g+1])return void(o[g+2]=f)}g++,null!==d&&g++,null!==f&&g++}-1!==v&&(o.splice(v,0,l),g=v+1),o.splice(g++,0,u),null!==d&&o.splice(g++,0,d),null!==f&&o.splice(g++,0,f)}function Ks(o){return o!==gl}function Ma(o){return 32767&o}function yl(o,l){let u=function _l(o){return o>>16}(o),d=l;for(;u>0;)d=d[Ye],u--;return d}let fu=!0;function vl(o){const l=fu;return fu=o,l}const pu=255,dc=5;let gu=0;const Gi={};function mu(o,l){const u=Yd(o,l);if(-1!==u)return u;const d=l[wt];d.firstCreatePass&&(o.injectorIndex=l.length,Uo(d.data,o),Uo(l,null),Uo(d.blueprint,null));const f=Br(o,l),g=o.injectorIndex;if(Ks(f)){const v=Ma(f),E=yl(f,l),T=E[wt].data;for(let A=0;A<8;A++)l[g+A]=E[v+A]|T[v+A]}return l[g+8]=f,g}function Uo(o,l){o.push(0,0,0,0,0,0,0,0,l)}function Yd(o,l){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===l[o.injectorIndex+8]?-1:o.injectorIndex}function Br(o,l){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let u=0,d=null,f=l;for(;null!==f;){if(d=Qs(f),null===d)return gl;if(u++,f=f[Ye],-1!==d.injectorIndex)return d.injectorIndex|u<<16}return gl}function bs(o,l,u){!function Zd(o,l,u){let d;"string"==typeof u?d=u.charCodeAt(0)||0:u.hasOwnProperty(tn)&&(d=u[tn]),null==d&&(d=u[tn]=gu++);const f=d&pu;l.data[o+(f>>dc)]|=1<<f}(o,l,u)}function Kd(o,l,u){if(u&Ut.Optional||void 0!==o)return o;Fe()}function wl(o,l,u,d){if(u&Ut.Optional&&void 0===d&&(d=null),!(u&(Ut.Self|Ut.Host))){const f=o[k],g=Rn(void 0);try{return f?f.get(l,d,u&Ut.Optional):Rr(l,d,u&Ut.Optional)}finally{Rn(g)}}return Kd(d,0,u)}function Qd(o,l,u,d=Ut.Default,f){if(null!==o){if(1024&l[an]){const v=function Wf(o,l,u,d,f){let g=o,v=l;for(;null!==g&&null!==v&&1024&v[an]&&!(256&v[an]);){const E=fc(g,v,u,d|Ut.Self,Gi);if(E!==Gi)return E;let T=g.parent;if(!T){const A=v[qt];if(A){const F=A.get(u,Gi,d);if(F!==Gi)return F}T=Qs(v),v=v[Ye]}g=T}return f}(o,l,u,d,Gi);if(v!==Gi)return v}const g=fc(o,l,u,d,Gi);if(g!==Gi)return g}return wl(l,u,d,f)}function fc(o,l,u,d,f){const g=function qf(o){if("string"==typeof o)return o.charCodeAt(0)||0;const l=o.hasOwnProperty(tn)?o[tn]:void 0;return"number"==typeof l?l>=0?l&pu:_u:l}(u);if("function"==typeof g){if(!Bd(l,o,d))return d&Ut.Host?Kd(f,0,d):wl(l,u,d,f);try{const v=g(d);if(null!=v||d&Ut.Optional)return v;Fe()}finally{sc()}}else if("number"==typeof g){let v=null,E=Yd(o,l),T=gl,A=d&Ut.Host?l[Qe][yr]:null;for((-1===E||d&Ut.SkipSelf)&&(T=-1===E?Br(o,l):l[E+8],T!==gl&&pc(d,!1)?(v=l[wt],E=Ma(T),l=yl(T,l)):E=-1);-1!==E;){const F=l[wt];if(Ds(g,E,F.data)){const G=Yr(E,l,u,v,d,A);if(G!==Gi)return G}T=l[E+8],T!==gl&&pc(d,l[wt].data[E+8]===A)&&Ds(g,E,l)?(v=F,E=Ma(T),l=yl(T,l)):E=-1}}return f}function Yr(o,l,u,d,f,g){const v=l[wt],E=v.data[o+8],F=Pa(E,v,u,null==d?Ql(E)&&fu:d!=v&&0!=(3&E.type),f&Ut.Host&&g===E);return null!==F?br(l,v,F,E):Gi}function Pa(o,l,u,d,f){const g=o.providerIndexes,v=l.data,E=1048575&g,T=o.directiveStart,F=g>>20,de=f?E+F:o.directiveEnd;for(let Pe=d?E:E+F;Pe<de;Pe++){const ot=v[Pe];if(Pe<T&&u===ot||Pe>=T&&ot.type===u)return Pe}if(f){const Pe=v[T];if(Pe&&ji(Pe)&&Pe.type===u)return T}return null}function br(o,l,u,d){let f=o[u];const g=l.data;if(function am(o){return o instanceof es}(f)){const v=f;v.resolving&&function De(o,l){const u=l?`. Dependency path: ${l.join(" > ")} > ${o}`:"";throw new J(-200,`Circular dependency in DI detected for ${o}${u}`)}(function Me(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():fe(o)}(g[u]));const E=vl(v.canSeeViewProviders);v.resolving=!0;const T=v.injectImpl?Rn(v.injectImpl):null;Bd(o,d,Ut.Default);try{f=o[u]=v.factory(void 0,g,o,d),l.firstCreatePass&&u>=d.directiveStart&&function sm(o,l,u){const{ngOnChanges:d,ngOnInit:f,ngDoCheck:g}=l.type.prototype;if(d){var v,E;const G=Xl(l);(null!==(v=u.preOrderHooks)&&void 0!==v?v:u.preOrderHooks=[]).push(o,G),(null!==(E=u.preOrderCheckHooks)&&void 0!==E?E:u.preOrderCheckHooks=[]).push(o,G)}var T,A,F;f&&(null!==(T=u.preOrderHooks)&&void 0!==T?T:u.preOrderHooks=[]).push(0-o,f),g&&((null!==(A=u.preOrderHooks)&&void 0!==A?A:u.preOrderHooks=[]).push(o,g),(null!==(F=u.preOrderCheckHooks)&&void 0!==F?F:u.preOrderCheckHooks=[]).push(o,g))}(u,g[u],l)}finally{null!==T&&Rn(T),vl(E),v.resolving=!1,sc()}}return f}function Ds(o,l,u){return!!(u[l+(o>>dc)]&1<<o)}function pc(o,l){return!(o&Ut.Self||o&Ut.Host&&l)}class Ra{constructor(l,u){this._tNode=l,this._lView=u}get(l,u,d){return Qd(this._tNode,this._lView,l,Nr(d),u)}}function _u(){return new Ra(Lr(),nt())}function yu(o){return K(()=>{const l=o.prototype.constructor,u=l[En]||Ts(l),d=Object.prototype;let f=Object.getPrototypeOf(o.prototype).constructor;for(;f&&f!==d;){const g=f[En]||Ts(f);if(g&&g!==u)return g;f=Object.getPrototypeOf(f)}return g=>new g})}function Ts(o){return ie(o)?()=>{const l=Ts(Z(o));return l&&l()}:Qo(o)}function Qs(o){const l=o[wt],u=l.type;return 2===u?l.declTNode:1===u?o[yr]:null}function Cl(o){return function hc(o,l){if("class"===l)return o.classes;if("style"===l)return o.styles;const u=o.attrs;if(u){const d=u.length;let f=0;for(;f<d;){const g=u[f];if(Wd(g))break;if(0===g)f+=2;else if("number"==typeof g)for(f++;f<d&&"string"==typeof u[f];)f++;else{if(g===l)return u[f+1];f+=2}}}return null}(Lr(),o)}const Oa="__parameters__";function Js(o,l,u){return K(()=>{const d=function Xd(o){return function(...u){if(o){const d=o(...u);for(const f in d)this[f]=d[f]}}}(l);function f(...g){if(this instanceof f)return d.apply(this,g),this;const v=new f(...g);return E.annotation=v,E;function E(T,A,F){const G=T.hasOwnProperty(Oa)?T[Oa]:Object.defineProperty(T,Oa,{value:[]})[Oa];for(;G.length<=F;)G.push(null);return(G[F]=G[F]||[]).push(v),T}}return u&&(f.prototype=Object.create(u.prototype)),f.prototype.ngMetadataName=o,f.annotationCls=f,f})}class Hn{constructor(l,u){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=$e({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ss(o,l){o.forEach(u=>Array.isArray(u)?Ss(u,l):l(u))}function bu(o,l,u){l>=o.length?o.push(u):o.splice(l,0,u)}function El(o,l){return l>=o.length-1?o.pop():o.splice(l,1)[0]}function ka(o,l){const u=[];for(let d=0;d<o;d++)u.push(l);return u}function ao(o,l,u){let d=lo(o,l);return d>=0?o[1|d]=u:(d=~d,function yc(o,l,u,d){let f=o.length;if(f==l)o.push(u,d);else if(1===f)o.push(d,o[0]),o[0]=u;else{for(f--,o.push(o[f-1],o[f]);f>l;)o[f]=o[f-2],f--;o[l]=u,o[l+1]=d}}(o,d,l,u)),d}function Vn(o,l){const u=lo(o,l);if(u>=0)return o[1|u]}function lo(o,l){return function yi(o,l,u){let d=0,f=o.length>>u;for(;f!==d;){const g=d+(f-d>>1),v=o[g<<u];if(l===v)return g<<u;v>l?f=g:d=g+1}return~(f<<u)}(o,l,1)}const ta=cr(Js("Optional"),8),Vt=cr(Js("SkipSelf"),4);var nn=(()=>((nn=nn||{})[nn.Important=1]="Important",nn[nn.DashCase=2]="DashCase",nn))();const ah=new Map;let bo=0;const Ae="__ngContext__";function Ve(o,l){Ri(l)?(o[Ae]=l[Yt],function ch(o){ah.set(o[Yt],o)}(l)):o[Ae]=l}let jo;function Do(o,l){return jo(o,l)}function dh(o){const l=o[Jn];return Eo(l)?l[Jn]:l}function Rl(o){return tp(o[se])}function Ol(o){return tp(o[$n])}function tp(o){for(;null!==o&&!Eo(o);)o=o[$n];return o}function Ba(o,l,u,d,f){if(null!=d){let g,v=!1;Eo(d)?g=d:Ri(d)&&(v=!0,d=d[Ar]);const E=Zr(d);0===o&&null!==u?null==f?qi(l,u,E):xn(l,u,E,f||null,!0):1===o&&null!==u?xn(l,u,E,f||null,!0):2===o?function Jy(o,l,u){const d=rs(o,l);d&&function $a(o,l,u,d){o.removeChild(l,u,d)}(o,d,l,u)}(l,E,v):3===o&&l.destroyNode(E),null!=g&&function lp(o,l,u,d,f){const g=u[gi];g!==Zr(u)&&Ba(l,o,d,g,f);for(let E=xr;E<u.length;E++){const T=u[E];ap(T[wt],T,o,l,d,g)}}(l,o,g,u,f)}}function rp(o,l,u){return o.createElement(l,u)}function I(o,l){const u=o[Ko],d=u.indexOf(l),f=l[Jn];512&l[an]&&(l[an]&=-513,Ea(f,-1)),u.splice(d,1)}function M(o,l){if(o.length<=xr)return;const u=xr+l,d=o[u];if(d){const f=d[rt];null!==f&&f!==o&&I(f,d),l>0&&(o[u-1][$n]=d[$n]);const g=El(o,xr+l);!function cm(o,l){ap(o,l,l[te],2,null,null),l[Ar]=null,l[yr]=null}(d[wt],d);const v=g[bt];null!==v&&v.detachView(g[wt]),d[Jn]=null,d[$n]=null,d[an]&=-65}return d}function U(o,l){if(!(128&l[an])){const u=l[te];u.destroyNode&&ap(o,l,u,3,null,null),function w(o){let l=o[se];if(!l)return Ie(o[wt],o);for(;l;){let u=null;if(Ri(l))u=l[se];else{const d=l[xr];d&&(u=d)}if(!u){for(;l&&!l[$n]&&l!==o;)Ri(l)&&Ie(l[wt],l),l=l[Jn];null===l&&(l=o),Ri(l)&&Ie(l[wt],l),u=l&&l[$n]}l=u}}(l)}}function Ie(o,l){if(!(128&l[an])){l[an]&=-65,l[an]|=128,function mt(o,l){let u;if(null!=o&&null!=(u=o.destroyHooks))for(let d=0;d<u.length;d+=2){const f=l[u[d]];if(!(f instanceof es)){const g=u[d+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const E=f[g[v]],T=g[v+1];Ir(4,E,T);try{T.call(E)}finally{Ir(5,E,T)}}else{Ir(4,f,g);try{g.call(f)}finally{Ir(5,f,g)}}}}}(o,l),function Ke(o,l){const u=o.cleanup,d=l[Vi];let f=-1;if(null!==u)for(let g=0;g<u.length-1;g+=2)if("string"==typeof u[g]){const v=u[g+3];v>=0?d[f=v]():d[f=-v].unsubscribe(),g+=2}else{const v=d[f=u[g+1]];u[g].call(v)}if(null!==d){for(let g=f+1;g<d.length;g++)(0,d[g])();l[Vi]=null}}(o,l),1===l[wt].type&&l[te].destroy();const u=l[rt];if(null!==u&&Eo(l[Jn])){u!==l[Jn]&&I(u,l);const d=l[bt];null!==d&&d.detachView(o)}!function C(o){ah.delete(o[Yt])}(l)}}function Dt(o,l,u){return function Qt(o,l,u){let d=l;for(;null!==d&&40&d.type;)d=(l=d).parent;if(null===d)return u[Ar];{const{componentOffset:f}=d;if(f>-1){const{encapsulation:g}=o.data[d.directiveStart+f];if(g===B.None||g===B.Emulated)return null}return mi(d,u)}}(o,l.parent,u)}function xn(o,l,u,d,f){o.insertBefore(l,u,d,f)}function qi(o,l,u){o.appendChild(l,u)}function sa(o,l,u,d,f){null!==d?xn(o,l,u,d,f):qi(o,l,u)}function rs(o,l){return o.parentNode(l)}function hh(o,l,u){return Va(o,l,u)}let fh,tv,dm,Va=function Nu(o,l,u){return 40&o.type?mi(o,u):null};function Tc(o,l,u,d){const f=Dt(o,d,l),g=l[te],E=hh(d.parent||l[yr],d,l);if(null!=f)if(Array.isArray(u))for(let T=0;T<u.length;T++)sa(g,f,u[T],E,!1);else sa(g,f,u,E,!1);void 0!==fh&&fh(g,d,l,u,f)}function gh(o,l){if(null!==l){const u=l.type;if(3&u)return mi(l,o);if(4&u)return ja(-1,o[l.index]);if(8&u){const d=l.child;if(null!==d)return gh(o,d);{const f=o[l.index];return Eo(f)?ja(-1,f):Zr(f)}}if(32&u)return Do(l,o)()||Zr(o[l.index]);{const d=Sc(o,l);return null!==d?Array.isArray(d)?d[0]:gh(dh(o[Qe]),d):gh(o,l.next)}}return null}function Sc(o,l){return null!==l?o[Qe][yr].projection[l.projection]:null}function ja(o,l){const u=xr+o+1;if(u<l.length){const d=l[u],f=d[wt].firstChild;if(null!==f)return gh(d,f)}return l[gi]}function sp(o,l,u,d,f,g,v){for(;null!=u;){const E=d[u.index],T=u.type;if(v&&0===l&&(E&&Ve(Zr(E),d),u.flags|=2),32!=(32&u.flags))if(8&T)sp(o,l,u.child,d,f,g,!1),Ba(l,o,f,E,g);else if(32&T){const A=Do(u,d);let F;for(;F=A();)Ba(l,o,f,F,g);Ba(l,o,f,E,g)}else 16&T?ev(o,l,d,u,f,g):Ba(l,o,f,E,g);u=v?u.projectionNext:u.next}}function ap(o,l,u,d,f,g){sp(u,d,o.firstChild,l,f,g,!1)}function ev(o,l,u,d,f,g){const v=u[Qe],T=v[yr].projection[d.projection];if(Array.isArray(T))for(let A=0;A<T.length;A++)Ba(l,o,f,T[A],g);else sp(o,l,T,v[Jn],f,g,!0)}function Ac(o,l,u){""===u?o.removeAttribute(l,"class"):o.setAttribute(l,"class",u)}function cp(o,l,u){const{mergedAttrs:d,classes:f,styles:g}=u;null!==d&&Aa(o,l,d),null!==f&&Ac(o,l,f),null!==g&&function um(o,l,u){o.setAttribute(l,"style",u)}(o,l,g)}function BS(o){tv=o}function JC(o){var l;return(null===(l=function nv(){if(void 0===dm&&(dm=null,On.trustedTypes))try{dm=On.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return dm}())||void 0===l?void 0:l.createScriptURL(o))||o}class eE{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${He})`}}function Ga(o){return o instanceof eE?o.changingThisBreaksApplicationSecurity:o}function is(o,l){const u=function _h(o){return o instanceof eE&&o.getTypeName()||null}(o);if(null!=u&&u!==l){if("ResourceURL"===u&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${u} (see ${He})`)}return u===l}const iE=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var ci=(()=>((ci=ci||{})[ci.NONE=0]="NONE",ci[ci.HTML=1]="HTML",ci[ci.STYLE=2]="STYLE",ci[ci.SCRIPT=3]="SCRIPT",ci[ci.URL=4]="URL",ci[ci.RESOURCE_URL=5]="RESOURCE_URL",ci))();function cv(o){const l=gp();return l?l.sanitize(ci.URL,o)||"":is(o,"URL")?Ga(o):function dp(o){return(o=String(o)).match(iE)?o:"unsafe:"+o}(fe(o))}function gm(o){const l=gp();if(l)return JC(l.sanitize(ci.RESOURCE_URL,o)||"");if(is(o,"ResourceURL"))return JC(Ga(o));throw new J(904,!1)}function dE(o,l,u){return function XS(o,l){return"src"===l&&("embed"===o||"frame"===o||"iframe"===o||"media"===o||"script"===o)||"href"===l&&("base"===o||"link"===o)?gm:cv}(l,u)(o)}function gp(){const o=nt();return o&&o[$]}const dv=new Hn("ENVIRONMENT_INITIALIZER"),Lu=new Hn("INJECTOR",-1),wh=new Hn("INJECTOR_DEF_TYPES");class hE{get(l,u=zn){if(u===zn){const d=new Error(`NullInjectorError: No provider for ${ye(l)}!`);throw d.name="NullInjectorError",d}return u}}function eA(o){return{\u0275providers:o}}function mp(...o){return{\u0275providers:Ch(0,o),\u0275fromNgModule:!0}}function Ch(o,...l){const u=[],d=new Set;let f;return Ss(l,g=>{const v=g;hv(v,u,[],d)&&(f||(f=[]),f.push(v))}),void 0!==f&&fE(f,u),u}function fE(o,l){for(let u=0;u<o.length;u++){const{providers:f}=o[u];fv(f,g=>{l.push(g)})}}function hv(o,l,u,d){if(!(o=Z(o)))return!1;let f=null,g=zt(o);const v=!g&&Lt(o);if(g||v){if(v&&!v.standalone)return!1;f=o}else{const T=o.ngModule;if(g=zt(T),!g)return!1;f=T}const E=d.has(f);if(v){if(E)return!1;if(d.add(f),v.dependencies){const T="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const A of T)hv(A,l,u,d)}}else{if(!g)return!1;{if(null!=g.imports&&!E){let A;d.add(f);try{Ss(g.imports,F=>{hv(F,l,u,d)&&(A||(A=[]),A.push(F))})}finally{}void 0!==A&&fE(A,l)}if(!E){const A=Qo(f)||(()=>new f);l.push({provide:f,useFactory:A,deps:me},{provide:wh,useValue:f,multi:!0},{provide:dv,useValue:()=>gn(f),multi:!0})}const T=g.providers;null==T||E||fv(T,F=>{l.push(F)})}}return f!==o&&void 0!==o.providers}function fv(o,l){for(let u of o)ue(u)&&(u=u.\u0275providers),Array.isArray(u)?fv(u,l):l(u)}const tA=_e({provide:String,useValue:_e});function pv(o){return null!==o&&"object"==typeof o&&tA in o}function kl(o){return"function"==typeof o}const xc=new Hn("Set Injector scope."),_m={},rA={};let gv;function ym(){return void 0===gv&&(gv=new hE),gv}class Uu{}class gE extends Uu{get destroyed(){return this._destroyed}constructor(l,u,d,f){super(),this.parent=u,this.source=d,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ih(l,v=>this.processProvider(v)),this.records.set(Lu,Eh(void 0,this)),f.has("environment")&&this.records.set(Uu,Eh(void 0,this));const g=this.records.get(xc);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(wh.multi,me,Ut.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const l of this._ngOnDestroyHooks)l.ngOnDestroy();for(const l of this._onDestroyHooks)l()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(l){this._onDestroyHooks.push(l)}runInContext(l){this.assertNotDestroyed();const u=pn(this),d=Rn(void 0);try{return l()}finally{pn(u),Rn(d)}}get(l,u=zn,d=Ut.Default){this.assertNotDestroyed(),d=Nr(d);const f=pn(this),g=Rn(void 0);try{if(!(d&Ut.SkipSelf)){let E=this.records.get(l);if(void 0===E){const T=function vv(o){return"function"==typeof o||"object"==typeof o&&o instanceof Hn}(l)&&ht(l);E=T&&this.injectableDefInScope(T)?Eh(mv(l),_m):null,this.records.set(l,E)}if(null!=E)return this.hydrate(l,E)}return(d&Ut.Self?ym():this.parent).get(l,u=d&Ut.Optional&&u===zn?null:u)}catch(v){if("NullInjectorError"===v.name){if((v[kn]=v[kn]||[]).unshift(ye(l)),f)throw v;return function pr(o,l,u,d){const f=o[kn];throw l[Cn]&&f.unshift(l[Cn]),o.message=function re(o,l,u,d=null){o=o&&"\n"===o.charAt(0)&&o.charAt(1)==mr?o.slice(2):o;let f=ye(l);if(Array.isArray(l))f=l.map(ye).join(" -> ");else if("object"==typeof l){let g=[];for(let v in l)if(l.hasOwnProperty(v)){let E=l[v];g.push(v+":"+("string"==typeof E?JSON.stringify(E):ye(E)))}f=`{${g.join(", ")}}`}return`${u}${d?"("+d+")":""}[${f}]: ${o.replace(nr,"\n  ")}`}("\n"+o.message,f,u,d),o[kr]=f,o[kn]=null,o}(v,l,"R3InjectorError",this.source)}throw v}finally{Rn(g),pn(f)}}resolveInjectorInitializers(){const l=pn(this),u=Rn(void 0);try{const d=this.get(dv.multi,me,Ut.Self);for(const f of d)f()}finally{pn(l),Rn(u)}}toString(){const l=[],u=this.records;for(const d of u.keys())l.push(ye(d));return`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new J(205,!1)}processProvider(l){let u=kl(l=Z(l))?l:Z(l&&l.provide);const d=function oA(o){return pv(o)?Eh(void 0,o.useValue):Eh(_v(o),_m)}(l);if(kl(l)||!0!==l.multi)this.records.get(u);else{let f=this.records.get(u);f||(f=Eh(void 0,_m,!0),f.factory=()=>lr(f.multi),this.records.set(u,f)),u=l,f.multi.push(l)}this.records.set(u,d)}hydrate(l,u){return u.value===_m&&(u.value=rA,u.value=u.factory()),"object"==typeof u.value&&u.value&&function mE(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(l){if(!l.providedIn)return!1;const u=Z(l.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}}function mv(o){const l=ht(o),u=null!==l?l.factory:Qo(o);if(null!==u)return u;if(o instanceof Hn)throw new J(204,!1);if(o instanceof Function)return function iA(o){const l=o.length;if(l>0)throw ka(l,"?"),new J(204,!1);const u=function $t(o){return o&&(o[un]||o[ar])||null}(o);return null!==u?()=>u.factory(o):()=>new o}(o);throw new J(204,!1)}function _v(o,l,u){let d;if(kl(o)){const f=Z(o);return Qo(f)||mv(f)}if(pv(o))d=()=>Z(o.useValue);else if(function pE(o){return!(!o||!o.useFactory)}(o))d=()=>o.useFactory(...lr(o.deps||[]));else if(function nA(o){return!(!o||!o.useExisting)}(o))d=()=>gn(Z(o.useExisting));else{const f=Z(o&&(o.useClass||o.provide));if(!function yv(o){return!!o.deps}(o))return Qo(f)||mv(f);d=()=>new f(...lr(o.deps))}return d}function Eh(o,l,u=!1){return{factory:o,value:l,multi:u?[]:void 0}}function Ih(o,l){for(const u of o)Array.isArray(u)?Ih(u,l):u&&ue(u)?Ih(u.\u0275providers,l):l(u)}class sA{}class _E{}class vE{resolveComponentFactory(l){throw function aA(o){const l=Error(`No component factory found for ${ye(o)}. Did you add it to @NgModule.entryComponents?`);return l.ngComponent=o,l}(l)}}let bh=(()=>{class o{}return o.NULL=new vE,o})();function vm(){return Nl(Lr(),nt())}function Nl(o,l){return new Dh(mi(o,l))}let Dh=(()=>{class o{constructor(u){this.nativeElement=u}}return o.__NG_ELEMENT_ID__=vm,o})();function _p(o){return o instanceof Dh?o.nativeElement:o}class Cv{}let lA=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function cA(){const o=nt(),u=oi(Lr().index,o);return(Ri(u)?u:o)[te]}(),o})(),uA=(()=>{class o{}return o.\u0275prov=$e({token:o,providedIn:"root",factory:()=>null}),o})();class wE{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const CE=new wE("15.2.8"),wm={},Ev="ngOriginalError";function Iv(o){return o[Ev]}class yp{constructor(){this._console=console}handleError(l){const u=this._findOriginalError(l);this._console.error("ERROR",l),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(l){let u=l&&Iv(l);for(;u&&Iv(u);)u=Iv(u);return u||null}}function qa(o){return o instanceof Function?o():o}function SE(o,l,u){let d=o.length;for(;;){const f=o.indexOf(l,u);if(-1===f)return f;if(0===f||o.charCodeAt(f-1)<=32){const g=l.length;if(f+g===d||o.charCodeAt(f+g)<=32)return f}u=f+1}}const bv="ng-template";function Dv(o,l,u){let d=0,f=!0;for(;d<o.length;){let g=o[d++];if("string"==typeof g&&f){const v=o[d++];if(u&&"class"===g&&-1!==SE(v.toLowerCase(),l,0))return!0}else{if(1===g){for(;d<o.length&&"string"==typeof(g=o[d++]);)if(g.toLowerCase()===l)return!0;return!1}"number"==typeof g&&(f=!1)}}return!1}function Tv(o){return 4===o.type&&o.value!==bv}function Th(o,l,u){return l===(4!==o.type||u?o.value:bv)}function Sv(o,l,u){let d=4;const f=o.attrs||[],g=function xE(o){for(let l=0;l<o.length;l++)if(Wd(o[l]))return l;return o.length}(f);let v=!1;for(let E=0;E<l.length;E++){const T=l[E];if("number"!=typeof T){if(!v)if(4&d){if(d=2|1&d,""!==T&&!Th(o,T,u)||""===T&&1===l.length){if(la(d))return!1;v=!0}}else{const A=8&d?T:l[++E];if(8&d&&null!==o.attrs){if(!Dv(o.attrs,A,u)){if(la(d))return!1;v=!0}continue}const G=AE(8&d?"class":T,f,Tv(o),u);if(-1===G){if(la(d))return!1;v=!0;continue}if(""!==A){let de;de=G>g?"":f[G+1].toLowerCase();const Pe=8&d?de:null;if(Pe&&-1!==SE(Pe,A,0)||2&d&&A!==de){if(la(d))return!1;v=!0}}}}else{if(!v&&!la(d)&&!la(T))return!1;if(v&&la(T))continue;v=!1,d=T|1&d}}return la(d)||v}function la(o){return 0==(1&o)}function AE(o,l,u,d){if(null===l)return-1;let f=0;if(d||!u){let g=!1;for(;f<l.length;){const v=l[f];if(v===o)return f;if(3===v||6===v)g=!0;else{if(1===v||2===v){let E=l[++f];for(;"string"==typeof E;)E=l[++f];continue}if(4===v)break;if(0===v){f+=4;continue}}f+=g?1:2}return-1}return function ME(o,l){let u=o.indexOf(4);if(u>-1)for(u++;u<o.length;){const d=o[u];if("number"==typeof d)return-1;if(d===l)return u;u++}return-1}(l,o)}function wp(o,l,u=!1){for(let d=0;d<l.length;d++)if(Sv(o,l[d],u))return!0;return!1}function _A(o,l){e:for(let u=0;u<l.length;u++){const d=l[u];if(o.length===d.length){for(let f=0;f<o.length;f++)if(o[f]!==d[f])continue e;return!0}}return!1}function Av(o,l){return o?":not("+l.trim()+")":l}function yA(o){let l=o[0],u=1,d=2,f="",g=!1;for(;u<o.length;){let v=o[u];if("string"==typeof v)if(2&d){const E=o[++u];f+="["+v+(E.length>0?'="'+E+'"':"")+"]"}else 8&d?f+="."+v:4&d&&(f+=" "+v);else""!==f&&!la(v)&&(l+=Av(g,f),f=""),d=v,g=g||!la(d);u++}return""!==f&&(l+=Av(g,f)),l}const Tn={};function PE(o){RE(bn(),nt(),bi()+o,!1)}function RE(o,l,u,d){if(!d)if(3==(3&l[an])){const g=o.preOrderCheckHooks;null!==g&&du(l,g,u)}else{const g=o.preOrderHooks;null!==g&&Gd(l,g,0,u)}Lo(u)}function kE(o,l=null,u=null,d){const f=xv(o,l,u,d);return f.resolveInjectorInitializers(),f}function xv(o,l=null,u=null,d,f=new Set){const g=[u||me,mp(o)];return d=d||("object"==typeof o?void 0:ye(o)),new gE(g,l||ym(),d||null,f)}let Bu=(()=>{class o{static create(u,d){if(Array.isArray(u))return kE({name:""},d,u,"");{var f;const g=null!==(f=u.name)&&void 0!==f?f:"";return kE({name:g},u.parent,u.providers,g)}}}return o.THROW_IF_NOT_FOUND=zn,o.NULL=new hE,o.\u0275prov=$e({token:o,providedIn:"any",factory:()=>gn(Lu)}),o.__NG_ELEMENT_ID__=-1,o})();function Mh(o,l=Ut.Default){const u=nt();return null===u?gn(o,l):Qd(Lr(),u,Z(o),l)}function BE(){throw new Error("invalid")}function $E(o,l){const u=o.contentQueries;if(null!==u)for(let d=0;d<u.length;d+=2){const g=u[d+1];if(-1!==g){const v=o.data[g];Ud(u[d]),v.contentQueries(2,l[g],g)}}}function bm(o,l,u,d,f,g,v,E,T,A,F){const G=l.blueprint.slice();return G[Ar]=f,G[an]=76|d,(null!==F||o&&1024&o[an])&&(G[an]|=1024),dl(G),G[Jn]=G[Ye]=o,G[ir]=u,G[H]=v||o&&o[H],G[te]=E||o&&o[te],G[$]=T||o&&o[$]||null,G[k]=A||o&&o[k]||null,G[yr]=g,G[Yt]=function lh(){return bo++}(),G[qt]=F,G[Qe]=2==l.type?o[Qe]:G,G}function bp(o,l,u,d,f){let g=o.data[l];if(null===g)g=function ze(o,l,u,d,f){const g=Od(),v=rc(),T=o.data[l]=function HE(o,l,u,d,f,g){return{type:u,index:d,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,u,l,d,f);return null===o.firstChild&&(o.firstChild=T),null!==g&&(v?null==g.child&&null!==T.parent&&(g.child=T):null===g.next&&(g.next=T,T.prev=g)),T}(o,l,u,d,f),function Fd(){return mn.lFrame.inI18n}()&&(g.flags|=32);else if(64&g.type){g.type=u,g.value=d,g.attrs=f;const v=function Ia(){const o=mn.lFrame,l=o.currentTNode;return o.isParent?l:l.parent}();g.injectorIndex=null===v?-1:v.injectorIndex}return so(g,!0),g}function Dp(o,l,u,d){if(0===u)return-1;const f=l.length;for(let g=0;g<u;g++)l.push(d),o.blueprint.push(d),o.data.push(null);return f}function Dm(o,l,u){Da(l);try{const d=o.viewQuery;null!==d&&Vu(1,d,u);const f=o.template;null!==f&&ho(o,l,f,1,u),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&$E(o,l),o.staticViewQueries&&Vu(2,o.viewQuery,u);const g=o.components;null!==g&&function VE(o,l){for(let u=0;u<l.length;u++)To(o,l[u])}(l,g)}catch(d){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),d}finally{l[an]&=-5,$d()}}function Wa(o,l,u,d){const f=l[an];if(128!=(128&f)){Da(l);try{dl(l),function Es(o){return mn.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==u&&ho(o,l,u,2,d);const v=3==(3&f);if(v){const A=o.preOrderCheckHooks;null!==A&&du(l,A,null)}else{const A=o.preOrderHooks;null!==A&&Gd(l,A,0,null),zd(l,0)}if(function tI(o){for(let l=Rl(o);null!==l;l=Ol(l)){if(!l[oo])continue;const u=l[Ko];for(let d=0;d<u.length;d++){const f=u[d];512&f[an]||Ea(f[Jn],1),f[an]|=512}}}(l),function Rm(o){for(let l=Rl(o);null!==l;l=Ol(l))for(let u=xr;u<l.length;u++){const d=l[u],f=d[wt];ws(d)&&Wa(f,d,f.template,d[ir])}}(l),null!==o.contentQueries&&$E(o,l),v){const A=o.contentCheckHooks;null!==A&&du(l,A)}else{const A=o.contentHooks;null!==A&&Gd(l,A,1),zd(l,1)}!function FA(o,l){const u=o.hostBindingOpCodes;if(null!==u)try{for(let d=0;d<u.length;d++){const f=u[d];if(f<0)Lo(~f);else{const g=f,v=u[++d],E=u[++d];Ld(v,g),E(2,l[g])}}}finally{Lo(-1)}}(o,l);const E=o.components;null!==E&&function LA(o,l){for(let u=0;u<l.length;u++)nI(o,l[u])}(l,E);const T=o.viewQuery;if(null!==T&&Vu(2,T,d),v){const A=o.viewCheckHooks;null!==A&&du(l,A)}else{const A=o.viewHooks;null!==A&&Gd(l,A,2),zd(l,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),l[an]&=-41,512&l[an]&&(l[an]&=-513,Ea(l[Jn],-1))}finally{$d()}}}function ho(o,l,u,d,f){const g=bi(),v=2&d;try{Lo(-1),v&&l.length>cn&&RE(o,l,cn,!1),Ir(v?2:0,f),u(d,f)}finally{Lo(g),Ir(v?3:1,f)}}function kv(o,l,u){if(js(l)){const f=l.directiveEnd;for(let g=l.directiveStart;g<f;g++){const v=o.data[g];v.contentQueries&&v.contentQueries(1,u[g],g)}}}function Tm(o,l,u){Pd()&&(function Am(o,l,u,d){const f=u.directiveStart,g=u.directiveEnd;Ql(u)&&function XE(o,l,u){const d=mi(l,o),f=jE(u),g=o[H],v=Tp(o,bm(o,f,null,u.onPush?32:16,d,l,g,g.createRenderer(d,u),null,null,null));o[l.index]=v}(l,u,o.data[f+u.componentOffset]),o.firstCreatePass||mu(u,l),Ve(d,l);const v=u.initialInputs;for(let E=f;E<g;E++){const T=o.data[E],A=br(l,o,E,u);Ve(A,l),null!==v&&JE(0,E-f,A,T,0,v),ji(T)&&(oi(u.index,l)[ir]=br(l,o,E,u))}}(o,l,u,mi(u,l)),64==(64&u.flags)&&Bv(o,l,u))}function Nv(o,l,u=mi){const d=l.localNames;if(null!==d){let f=l.index+1;for(let g=0;g<d.length;g+=2){const v=d[g+1],E=-1===v?u(l,o):o[v];o[f++]=E}}}function jE(o){const l=o.tView;return null===l||l.incompleteFirstPass?o.tView=Fv(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):l}function Fv(o,l,u,d,f,g,v,E,T,A){const F=cn+d,G=F+f,de=function Lv(o,l){const u=[];for(let d=0;d<l;d++)u.push(d<o?null:Tn);return u}(F,G),Pe="function"==typeof A?A():A;return de[wt]={type:o,blueprint:de,template:u,queries:null,viewQuery:E,declTNode:l,data:de.slice().fill(null,F),bindingStartIndex:F,expandoStartIndex:G,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:T,consts:Pe,incompleteFirstPass:!1}}function Fl(o,l,u,d){const f=Ap(l);null===u?f.push(d):(f.push(u),o.firstCreatePass&&iI(o).push(d,f.length-1))}function eo(o,l,u,d){for(let f in o)if(o.hasOwnProperty(f)){u=null===u?{}:u;const g=o[f];null===d?Ll(u,l,f,g):d.hasOwnProperty(f)&&Ll(u,l,d[f],g)}return u}function Ll(o,l,u,d){o.hasOwnProperty(u)?o[u].push(l,d):o[u]=[l,d]}function Ho(o,l,u,d,f,g,v,E){const T=mi(l,u);let F,A=l.inputs;!E&&null!=A&&(F=A[d])?(sI(o,u,F,d,f),Ql(l)&&function GE(o,l){const u=oi(l,o);16&u[an]||(u[an]|=32)}(u,l.index)):3&l.type&&(d=function Ph(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(d),f=null!=v?v(f,l.value||"",d):f,g.setProperty(T,d,f))}function Sm(o,l,u,d){if(Pd()){const f=null===d?null:{"":-1},g=function YE(o,l){const u=o.directiveRegistry;let d=null,f=null;if(u)for(let v=0;v<u.length;v++){const E=u[v];if(wp(l,E.selectors,!1))if(d||(d=[]),ji(E))if(null!==E.findHostDirectiveDefs){const T=[];f=f||new Map,E.findHostDirectiveDefs(E,T,f),d.unshift(...T,E),xm(o,l,T.length)}else d.unshift(E),xm(o,l,0);else{var g;f=f||new Map,null===(g=E.findHostDirectiveDefs)||void 0===g||g.call(E,E,d,f),d.push(E)}}return null===d?null:[d,f]}(o,u);let v,E;null===g?v=E=null:[v,E]=g,null!==v&&Uv(o,l,u,v,f,E),f&&function VA(o,l,u){if(l){const d=o.localNames=[];for(let f=0;f<l.length;f+=2){const g=u[l[f+1]];if(null==g)throw new J(-301,!1);d.push(l[f],g)}}}(u,d,f)}u.mergedAttrs=Ys(u.mergedAttrs,u.attrs)}function Uv(o,l,u,d,f,g){for(let G=0;G<d.length;G++)bs(mu(u,l),o,d[G].type);!function QE(o,l,u){o.flags|=1,o.directiveStart=l,o.directiveEnd=l+u,o.providerIndexes=l}(u,o.data.length,d.length);for(let G=0;G<d.length;G++){const de=d[G];de.providersResolver&&de.providersResolver(de)}let v=!1,E=!1,T=Dp(o,l,d.length,null);for(let G=0;G<d.length;G++){const de=d[G];u.mergedAttrs=Ys(u.mergedAttrs,de.hostAttrs),$v(o,u,l,T,de),KE(T,de,f),null!==de.contentQueries&&(u.flags|=4),(null!==de.hostBindings||null!==de.hostAttrs||0!==de.hostVars)&&(u.flags|=64);const Pe=de.type.prototype;var A,F;!v&&(Pe.ngOnChanges||Pe.ngOnInit||Pe.ngDoCheck)&&((null!==(A=o.preOrderHooks)&&void 0!==A?A:o.preOrderHooks=[]).push(u.index),v=!0),E||!Pe.ngOnChanges&&!Pe.ngDoCheck||((null!==(F=o.preOrderCheckHooks)&&void 0!==F?F:o.preOrderCheckHooks=[]).push(u.index),E=!0),T++}!function BA(o,l,u){const f=l.directiveEnd,g=o.data,v=l.attrs,E=[];let T=null,A=null;for(let F=l.directiveStart;F<f;F++){const G=g[F],de=u?u.get(G):null,ot=de?de.outputs:null;T=eo(G.inputs,F,T,de?de.inputs:null),A=eo(G.outputs,F,A,ot);const ft=null===T||null===v||Tv(l)?null:eI(T,F,v);E.push(ft)}null!==T&&(T.hasOwnProperty("class")&&(l.flags|=8),T.hasOwnProperty("style")&&(l.flags|=16)),l.initialInputs=E,l.inputs=T,l.outputs=A}(o,u,g)}function Bv(o,l,u){const d=u.directiveStart,f=u.directiveEnd,g=u.index,v=function im(){return mn.lFrame.currentDirectiveIndex}();try{Lo(g);for(let E=d;E<f;E++){const T=o.data[E],A=l[E];Ur(E),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&ZE(T,A)}}finally{Lo(-1),Ur(v)}}function ZE(o,l){null!==o.hostBindings&&o.hostBindings(1,l)}function xm(o,l,u){var d;l.componentOffset=u,(null!==(d=o.components)&&void 0!==d?d:o.components=[]).push(l.index)}function KE(o,l,u){if(u){if(l.exportAs)for(let d=0;d<l.exportAs.length;d++)u[l.exportAs[d]]=o;ji(l)&&(u[""]=o)}}function $v(o,l,u,d,f){o.data[d]=f;const g=f.factory||(f.factory=Qo(f.type)),v=new es(g,ji(f),Mh);o.blueprint[d]=v,u[d]=v,function qE(o,l,u,d,f){const g=f.hostBindings;if(g){let v=o.hostBindingOpCodes;null===v&&(v=o.hostBindingOpCodes=[]);const E=~l.index;(function WE(o){let l=o.length;for(;l>0;){const u=o[--l];if("number"==typeof u&&u<0)return u}return 0})(v)!=E&&v.push(E),v.push(u,d,g)}}(o,l,d,Dp(o,u,f.hostVars,Tn),f)}function Rs(o,l,u,d,f,g){const v=mi(o,l);!function Mm(o,l,u,d,f,g,v){if(null==g)o.removeAttribute(l,f,u);else{const E=null==v?fe(g):v(g,d||"",f);o.setAttribute(l,f,E,u)}}(l[te],v,g,o.value,u,d,f)}function JE(o,l,u,d,f,g){const v=g[l];if(null!==v){const E=d.setInput;for(let T=0;T<v.length;){const A=v[T++],F=v[T++],G=v[T++];null!==E?d.setInput(u,G,A,F):u[F]=G}}}function eI(o,l,u){let d=null,f=0;for(;f<u.length;){const g=u[f];if(0!==g)if(5!==g){if("number"==typeof g)break;if(o.hasOwnProperty(g)){null===d&&(d=[]);const v=o[g];for(let E=0;E<v.length;E+=2)if(v[E]===l){d.push(g,v[E+1],u[f+1]);break}}f+=2}else f+=2;else f+=4}return d}function Pm(o,l,u,d){return[o,!0,!1,l,null,0,d,u,null,null]}function nI(o,l){const u=oi(l,o);if(ws(u)){const d=u[wt];48&u[an]?Wa(d,u,d.template,u[ir]):u[$i]>0&&Om(u)}}function Om(o){for(let d=Rl(o);null!==d;d=Ol(d))for(let f=xr;f<d.length;f++){const g=d[f];if(ws(g))if(512&g[an]){const v=g[wt];Wa(v,g,v.template,g[ir])}else g[$i]>0&&Om(g)}const u=o[wt].components;if(null!==u)for(let d=0;d<u.length;d++){const f=oi(u[d],o);ws(f)&&f[$i]>0&&Om(f)}}function To(o,l){const u=oi(l,o),d=u[wt];(function Ul(o,l){for(let u=l.length;u<o.blueprint.length;u++)l.push(o.blueprint[u])})(d,u),Dm(d,u,u[ir])}function Tp(o,l){return o[se]?o[ce][$n]=l:o[se]=l,o[ce]=l,l}function Vv(o){for(;o;){o[an]|=32;const l=dh(o);if(_s(o)&&!l)return o;o=l}return null}function jv(o,l,u,d=!0){const f=l[H];f.begin&&f.begin();try{Wa(o,l,o.template,u)}catch(v){throw d&&oI(l,v),v}finally{f.end&&f.end()}}function Vu(o,l,u){Ud(0),l(o,u)}function Ap(o){return o[Vi]||(o[Vi]=[])}function iI(o){return o.cleanup||(o.cleanup=[])}function oI(o,l){const u=o[k],d=u?u.get(yp,null):null;d&&d.handleError(l)}function sI(o,l,u,d,f){for(let g=0;g<u.length;){const v=u[g++],E=u[g++],T=l[v],A=o.data[v];null!==A.setInput?A.setInput(T,f,d,E):T[E]=f}}function Hv(o,l,u){let d=u?o.styles:null,f=u?o.classes:null,g=0;if(null!==l)for(let v=0;v<l.length;v++){const E=l[v];"number"==typeof E?g=E:1==g?f=Ee(f,E):2==g&&(d=Ee(d,E+": "+l[++v]+";"))}u?o.styles=d:o.stylesWithoutHost=d,u?o.classes=f:o.classesWithoutHost=f}function Gv(o,l,u,d,f=!1){for(;null!==u;){const g=l[u.index];if(null!==g&&d.push(Zr(g)),Eo(g))for(let E=xr;E<g.length;E++){const T=g[E],A=T[wt].firstChild;null!==A&&Gv(T[wt],T,A,d)}const v=u.type;if(8&v)Gv(o,l,u.child,d);else if(32&v){const E=Do(u,l);let T;for(;T=E();)d.push(T)}else if(16&v){const E=Sc(l,u);if(Array.isArray(E))d.push(...E);else{const T=dh(l[Qe]);Gv(T[wt],T,E,d,!0)}}u=f?u.projectionNext:u.next}return d}class Nm{get rootNodes(){const l=this._lView,u=l[wt];return Gv(u,l,u.firstChild,[])}constructor(l,u){this._lView=l,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ir]}set context(l){this._lView[ir]=l}get destroyed(){return 128==(128&this._lView[an])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[Jn];if(Eo(l)){const u=l[Ki],d=u?u.indexOf(this):-1;d>-1&&(M(l,d),El(u,d))}this._attachedToViewContainer=!1}U(this._lView[wt],this._lView)}onDestroy(l){Fl(this._lView[wt],this._lView,null,l)}markForCheck(){Vv(this._cdRefInjectingView||this._lView)}detach(){this._lView[an]&=-65}reattach(){this._lView[an]|=64}detectChanges(){jv(this._lView[wt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new J(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ip(o,l){ap(o,l,l[te],2,null,null)}(this._lView[wt],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new J(902,!1);this._appRef=l}}class Vk extends Nm{constructor(l){super(l),this._view=l}detectChanges(){const l=this._view;jv(l[wt],l,l[ir],!1)}checkNoChanges(){}get context(){return null}}class jA extends bh{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const u=Lt(l);return new xp(u,this.ngModule)}}function aI(o){const l=[];for(let u in o)o.hasOwnProperty(u)&&l.push({propName:o[u],templateName:u});return l}class HA{constructor(l,u){this.injector=l,this.parentInjector=u}get(l,u,d){d=Nr(d);const f=this.injector.get(l,wm,d);return f!==wm||u===wm?f:this.parentInjector.get(l,u,d)}}class xp extends _E{get inputs(){return aI(this.componentDef.inputs)}get outputs(){return aI(this.componentDef.outputs)}constructor(l,u){super(),this.componentDef=l,this.ngModule=u,this.componentType=l.type,this.selector=function vA(o){return o.map(yA).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!u}create(l,u,d,f){var g;let v=(f=f||this.ngModule)instanceof Uu?f:null===(g=f)||void 0===g?void 0:g.injector;v&&null!==this.componentDef.getStandaloneInjector&&(v=this.componentDef.getStandaloneInjector(v)||v);const E=v?new HA(l,v):l,T=E.get(Cv,null);if(null===T)throw new J(407,!1);const A=E.get(uA,null),F=T.createRenderer(null,this.componentDef),G=this.componentDef.selectors[0][0]||"div",de=d?function UA(o,l,u){return o.selectRootElement(l,u===B.ShadowDom)}(F,d,this.componentDef.encapsulation):rp(F,G,function lI(o){const l=o.toLowerCase();return"svg"===l?"svg":"math"===l?"math":null}(G)),Pe=this.componentDef.onPush?288:272,ot=Fv(0,null,null,1,0,null,null,null,null,null),ft=bm(null,ot,null,Pe,null,null,T,F,A,E,null);let It,Wt;Da(ft);try{const ln=this.componentDef;let lt,Dn=null;ln.findHostDirectiveDefs?(lt=[],Dn=new Map,ln.findHostDirectiveDefs(ln,lt,Dn),lt.push(ln)):lt=[ln];const wr=function Mp(o,l){const u=o[wt],d=cn;return o[d]=l,bp(u,d,2,"#host",null)}(ft,de),$r=function Fm(o,l,u,d,f,g,v,E){const T=f[wt];!function Rh(o,l,u,d){for(const f of o)l.mergedAttrs=Ys(l.mergedAttrs,f.hostAttrs);null!==l.mergedAttrs&&(Hv(l,l.mergedAttrs,!0),null!==u&&cp(d,u,l))}(d,o,l,v);const A=g.createRenderer(l,u),F=bm(f,jE(u),null,u.onPush?32:16,f[o.index],o,g,A,E||null,null,null);return T.firstCreatePass&&xm(T,o,d.length-1),Tp(f,F),f[o.index]=F}(wr,de,ln,lt,ft,T,F);Wt=tc(ot,cn),de&&function zv(o,l,u,d){if(d)Aa(o,u,["ng-version",CE.full]);else{const{attrs:f,classes:g}=function wA(o){const l=[],u=[];let d=1,f=2;for(;d<o.length;){let g=o[d];if("string"==typeof g)2===f?""!==g&&l.push(g,o[++d]):8===f&&u.push(g);else{if(!la(f))break;f=g}d++}return{attrs:l,classes:u}}(l.selectors[0]);f&&Aa(o,u,f),g&&g.length>0&&Ac(o,u,g.join(" "))}}(F,ln,de,d),void 0!==u&&function zA(o,l,u){const d=o.projection=[];for(let f=0;f<l.length;f++){const g=u[f];d.push(null!=g?Array.from(g):null)}}(Wt,this.ngContentSelectors,u),It=function Pp(o,l,u,d,f,g){const v=Lr(),E=f[wt],T=mi(v,f);Uv(E,f,v,u,null,d);for(let F=0;F<u.length;F++)Ve(br(f,E,v.directiveStart+F,v),f);Bv(E,f,v),T&&Ve(T,f);const A=br(f,E,v.directiveStart+v.componentOffset,v);if(o[ir]=f[ir]=A,null!==g)for(const F of g)F(A,l);return kv(E,v,o),A}($r,ln,lt,Dn,ft,[qv]),Dm(ot,ft,null)}finally{$d()}return new GA(this.componentType,It,Nl(Wt,ft),ft,Wt)}}class GA extends sA{constructor(l,u,d,f,g){super(),this.location=d,this._rootLView=f,this._tNode=g,this.instance=u,this.hostView=this.changeDetectorRef=new Vk(f),this.componentType=l}setInput(l,u){const d=this._tNode.inputs;let f;if(null!==d&&(f=d[l])){const g=this._rootLView;sI(g[wt],g,f,l,u),Vv(oi(this._tNode.index,g))}}get injector(){return new Ra(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}function qv(){const o=Lr();ac(nt()[wt],o)}function Oh(o){let l=function uI(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),u=!0;const d=[o];for(;l;){let f;if(ji(o))f=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new J(903,!1);f=l.\u0275dir}if(f){if(u){d.push(f);const v=o;v.inputs=Lm(o.inputs),v.declaredInputs=Lm(o.declaredInputs),v.outputs=Lm(o.outputs);const E=f.hostBindings;E&&jk(o,E);const T=f.viewQuery,A=f.contentQueries;if(T&&hI(o,T),A&&Pc(o,A),ee(o.inputs,f.inputs),ee(o.declaredInputs,f.declaredInputs),ee(o.outputs,f.outputs),ji(f)&&f.data.animation){const F=o.data;F.animation=(F.animation||[]).concat(f.data.animation)}}const g=f.features;if(g)for(let v=0;v<g.length;v++){const E=g[v];E&&E.ngInherit&&E(o),E===Oh&&(u=!1)}}l=Object.getPrototypeOf(l)}!function dI(o){let l=0,u=null;for(let d=o.length-1;d>=0;d--){const f=o[d];f.hostVars=l+=f.hostVars,f.hostAttrs=Ys(f.hostAttrs,u=Ys(u,f.hostAttrs))}}(d)}function Lm(o){return o===N?{}:o===me?[]:o}function hI(o,l){const u=o.viewQuery;o.viewQuery=u?(d,f)=>{l(d,f),u(d,f)}:l}function Pc(o,l){const u=o.contentQueries;o.contentQueries=u?(d,f,g)=>{l(d,f,g),u(d,f,g)}:l}function jk(o,l){const u=o.hostBindings;o.hostBindings=u?(d,f)=>{l(d,f),u(d,f)}:l}function Nh(o){return!!Zv(o)&&(Array.isArray(o)||!(o instanceof Map)&&Symbol.iterator in o)}function Zv(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function fo(o,l,u){return!Object.is(o[l],u)&&(o[l]=u,!0)}function pI(o,l,u,d){const f=nt();return fo(f,Jo(),l)&&(bn(),Rs(vr(),f,o,l,u,d)),pI}function Rc(o,l,u,d){return fo(o,Jo(),u)?l+fe(u)+d:Tn}function mI(o,l,u,d,f,g,v,E){const T=nt(),A=bn(),F=o+cn,G=A.firstCreatePass?function Wk(o,l,u,d,f,g,v,E,T){const A=l.consts,F=bp(l,o,4,v||null,Xo(A,E));Sm(l,u,F,Xo(A,T)),ac(l,F);const G=F.tView=Fv(2,F,d,f,g,l.directiveRegistry,l.pipeRegistry,null,l.schemas,A);return null!==l.queries&&(l.queries.template(l,F),G.queries=l.queries.embeddedTView(F)),F}(F,A,T,l,u,d,f,g,v):A.data[F];so(G,!1);const de=T[te].createComment("");Tc(A,T,de,G),Ve(de,T),Tp(T,T[F]=Pm(de,T,de,G)),al(G)&&Tm(A,T,G),null!=v&&Nv(T,G,E)}function yI(o){return function Oi(o,l){return o[l]}(function Nd(){return mn.lFrame.contextLView}(),cn+o)}function Vm(o,l,u){const d=nt();return fo(d,Jo(),l)&&Ho(bn(),vr(),d,o,l,d[te],u,!1),Vm}function Lp(o,l,u,d,f){const v=f?"class":"style";sI(o,u,l.inputs[v],v,d)}function jm(o,l,u,d){const f=nt(),g=bn(),v=cn+o,E=f[te],T=g.firstCreatePass?function Up(o,l,u,d,f,g){const v=l.consts,T=bp(l,o,2,d,Xo(v,f));return Sm(l,u,T,Xo(v,g)),null!==T.attrs&&Hv(T,T.attrs,!1),null!==T.mergedAttrs&&Hv(T,T.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,T),T}(v,g,f,l,u,d):g.data[v],A=f[v]=rp(E,l,function Hd(){return mn.lFrame.currentNamespace}()),F=al(T);return so(T,!0),cp(E,A,T),32!=(32&T.flags)&&Tc(g,f,A,T),0===function ru(){return mn.lFrame.elementDepthCount}()&&Ve(A,f),function iu(){mn.lFrame.elementDepthCount++}(),F&&(Tm(g,f,T),kv(g,T,f)),null!==d&&Nv(f,T),jm}function Bp(){let o=Lr();rc()?kd():(o=o.parent,so(o,!1));const l=o;!function ou(){mn.lFrame.elementDepthCount--}();const u=bn();return u.firstCreatePass&&(ac(u,o),js(o)&&u.queries.elementEnd(o)),null!=l.classesWithoutHost&&function ts(o){return 0!=(8&o.flags)}(l)&&Lp(u,l,nt(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function hu(o){return 0!=(16&o.flags)}(l)&&Lp(u,l,nt(),l.stylesWithoutHost,!1),Bp}function Xv(o,l,u,d){return jm(o,l,u,d),Bp(),Xv}function Hm(o,l,u){const d=nt(),f=bn(),g=o+cn,v=f.firstCreatePass?function Zk(o,l,u,d,f){const g=l.consts,v=Xo(g,d),E=bp(l,o,8,"ng-container",v);return null!==v&&Hv(E,v,!0),Sm(l,u,E,Xo(g,f)),null!==l.queries&&l.queries.elementStart(l,E),E}(g,f,d,l,u):f.data[g];so(v,!0);const E=d[g]=d[te].createComment("");return Tc(f,d,E,v),Ve(E,d),al(v)&&(Tm(f,d,v),kv(f,v,d)),null!=u&&Nv(d,v),Hm}function Jv(){let o=Lr();const l=bn();return rc()?kd():(o=o.parent,so(o,!1)),l.firstCreatePass&&(ac(l,o),js(o)&&l.queries.elementEnd(o)),Jv}function Gm(o,l,u){return Hm(o,l,u),Jv(),Gm}function vI(){return nt()}function zm(o){return!!o&&"function"==typeof o.then}function qm(o){return!!o&&"function"==typeof o.subscribe}const wI=qm;function Wm(o,l,u,d){const f=nt(),g=bn(),v=Lr();return function EI(o,l,u,d,f,g,v){const E=al(d),A=o.firstCreatePass&&iI(o),F=l[ir],G=Ap(l);let de=!0;if(3&d.type||v){const ft=mi(d,l),It=v?v(ft):ft,Wt=G.length,ln=v?Dn=>v(Zr(Dn[d.index])):d.index;let lt=null;if(!v&&E&&(lt=function Gu(o,l,u,d){const f=o.cleanup;if(null!=f)for(let g=0;g<f.length-1;g+=2){const v=f[g];if(v===u&&f[g+1]===d){const E=l[Vi],T=f[g+2];return E.length>T?E[T]:null}"string"==typeof v&&(g+=2)}return null}(o,l,f,d.index)),null!==lt)(lt.__ngLastListenerFn__||lt).__ngNextListenerFn__=g,lt.__ngLastListenerFn__=g,de=!1;else{g=II(d,l,F,g,!1);const Dn=u.listen(It,f,g);G.push(g,Dn),A&&A.push(f,ln,Wt,Wt+1)}}else g=II(d,l,F,g,!1);const Pe=d.outputs;let ot;if(de&&null!==Pe&&(ot=Pe[f])){const ft=ot.length;if(ft)for(let It=0;It<ft;It+=2){const wr=l[ot[It]][ot[It+1]].subscribe(g),$r=G.length;G.push(g,wr),A&&A.push(f,d.index,$r,-($r+1))}}}(g,f,f[te],v,o,l,d),Wm}function Zm(o,l,u,d){try{return Ir(6,l,u),!1!==u(d)}catch(f){return oI(o,f),!1}finally{Ir(7,l,u)}}function II(o,l,u,d,f){return function g(v){if(v===Function)return d;Vv(o.componentOffset>-1?oi(o.index,l):l);let T=Zm(l,u,d,v),A=g.__ngNextListenerFn__;for(;A;)T=Zm(l,u,A,v)&&T,A=A.__ngNextListenerFn__;return f&&!1===T&&(v.preventDefault(),v.returnValue=!1),T}}function Ym(o=1){return function cu(o){return(mn.lFrame.contextLView=function Vd(o,l){for(;o>0;)l=l[Ye],o--;return l}(o,mn.lFrame.contextLView))[ir]}(o)}function bI(o,l){let u=null;const d=function Cm(o){const l=o.attrs;if(null!=l){const u=l.indexOf(5);if(!(1&u))return l[u+1]}return null}(o);for(let f=0;f<l.length;f++){const g=l[f];if("*"!==g){if(null===d?wp(o,g,!0):_A(d,g))return f}else u=f}return u}function DI(o){const l=nt()[Qe][yr];if(!l.projection){const d=l.projection=ka(o?o.length:1,null),f=d.slice();let g=l.child;for(;null!==g;){const v=o?bI(g,o):0;null!==v&&(f[v]?f[v].projectionNext=g:d[v]=g,f[v]=g),g=g.next}}}function zu(o,l=0,u){const d=nt(),f=bn(),g=bp(f,cn+o,16,null,u||null);null===g.projection&&(g.projection=l),kd(),32!=(32&g.flags)&&function KC(o,l,u){ev(l[te],0,l,u,Dt(o,u,l),hh(u.parent||l[yr],u,l))}(f,d,g)}function e0(o,l,u){return $p(o,"",l,"",u),e0}function $p(o,l,u,d,f){const g=nt(),v=Rc(g,l,u,d);return v!==Tn&&Ho(bn(),vr(),g,o,v,g[te],f,!1),$p}function Xm(o,l){return o<<17|l<<2}function Bl(o){return o>>17&32767}function n0(o){return 2|o}function kc(o){return(131068&o)>>2}function r0(o,l){return-131069&o|l<<2}function o0(o){return 1|o}function s0(o,l,u,d,f){const g=o[u+1],v=null===l;let E=d?Bl(g):kc(g),T=!1;for(;0!==E&&(!1===T||v);){const F=o[E+1];JA(o[E],l)&&(T=!0,o[E+1]=d?o0(F):n0(F)),E=d?Bl(F):kc(F)}T&&(o[u+1]=d?n0(g):o0(g))}function JA(o,l){return null===o||null==l||(Array.isArray(o)?o[1]:o)===l||!(!Array.isArray(o)||"string"!=typeof l)&&lo(o,l)>=0}const Ti={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function OI(o){return o.substring(Ti.key,Ti.keyEnd)}function a0(o,l){const u=Ti.textEnd;return u===l?-1:(l=Ti.keyEnd=function rx(o,l,u){for(;l<u&&o.charCodeAt(l)>32;)l++;return l}(o,Ti.key=l,u),Wu(o,l,u))}function Wu(o,l,u){for(;l<u&&o.charCodeAt(l)<=32;)l++;return l}function NI(o,l){return function ca(o,l,u,d){const f=nt(),g=bn(),v=Fo(2);g.firstUpdatePass&&Jm(g,o,v,d),l!==Tn&&fo(f,v,l)&&BI(g,g.data[bi()],f,f[te],o,f[v+1]=function $I(o,l){return null==o||""===o||("string"==typeof l?o+=l:"object"==typeof o&&(o=ye(Ga(o)))),o}(l,u),d,v)}(o,l,null,!0),NI}function Qa(o,l){for(let u=function ex(o){return function nx(o){Ti.key=0,Ti.keyEnd=0,Ti.value=0,Ti.valueEnd=0,Ti.textEnd=o.length}(o),a0(o,Wu(o,0,Ti.textEnd))}(l);u>=0;u=a0(l,u))ao(o,OI(l),!0)}function FI(o,l){return l>=o.expandoStartIndex}function Jm(o,l,u,d){const f=o.data;if(null===f[u+1]){const g=f[bi()],v=FI(o,u);fx(g,d)&&null===l&&!v&&(l=!1),l=function LI(o,l,u,d){const f=function ic(o){const l=mn.lFrame.currentDirectiveIndex;return-1===l?null:o[l]}(o);let g=d?l.residualClasses:l.residualStyles;if(null===f)0===(d?l.classBindings:l.styleBindings)&&(u=e_(u=UI(null,o,l,u,d),l.attrs,d),g=null);else{const v=l.directiveStylingLast;if(-1===v||o[v]!==f)if(u=UI(f,o,l,u,d),null===g){let T=function lx(o,l,u){const d=u?l.classBindings:l.styleBindings;if(0!==kc(d))return o[Bl(d)]}(o,l,d);void 0!==T&&Array.isArray(T)&&(T=UI(null,o,l,T[1],d),T=e_(T,l.attrs,d),function cx(o,l,u,d){o[Bl(u?l.classBindings:l.styleBindings)]=d}(o,l,d,T))}else g=function ux(o,l,u){let d;const f=l.directiveEnd;for(let g=1+l.directiveStylingLast;g<f;g++)d=e_(d,o[g].hostAttrs,u);return e_(d,l.attrs,u)}(o,l,d)}return void 0!==g&&(d?l.residualClasses=g:l.residualStyles=g),u}(f,g,l,d),function RI(o,l,u,d,f,g){let v=g?l.classBindings:l.styleBindings,E=Bl(v),T=kc(v);o[d]=u;let F,A=!1;if(Array.isArray(u)?(F=u[1],(null===F||lo(u,F)>0)&&(A=!0)):F=u,f)if(0!==T){const de=Bl(o[E+1]);o[d+1]=Xm(de,E),0!==de&&(o[de+1]=r0(o[de+1],d)),o[E+1]=function qu(o,l){return 131071&o|l<<17}(o[E+1],d)}else o[d+1]=Xm(E,0),0!==E&&(o[E+1]=r0(o[E+1],d)),E=d;else o[d+1]=Xm(T,0),0===E?E=d:o[T+1]=r0(o[T+1],d),T=d;A&&(o[d+1]=n0(o[d+1])),s0(o,F,d,!0),s0(o,F,d,!1),function XA(o,l,u,d,f){const g=f?o.residualClasses:o.residualStyles;null!=g&&"string"==typeof l&&lo(g,l)>=0&&(u[d+1]=o0(u[d+1]))}(l,F,o,d,g),v=Xm(E,T),g?l.classBindings=v:l.styleBindings=v}(f,g,l,u,v,d)}}function UI(o,l,u,d,f){let g=null;const v=u.directiveEnd;let E=u.directiveStylingLast;for(-1===E?E=u.directiveStart:E++;E<v&&(g=l[E],d=e_(d,g.hostAttrs,f),g!==o);)E++;return null!==o&&(u.directiveStylingLast=E),d}function e_(o,l,u){const d=u?1:2;let f=-1;if(null!==l)for(let g=0;g<l.length;g++){const v=l[g];"number"==typeof v?f=v:f===d&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),ao(o,v,!!u||l[++g]))}return void 0===o?null:o}function BI(o,l,u,d,f,g,v,E){if(!(3&l.type))return;const T=o.data,A=T[E+1],F=function PI(o){return 1==(1&o)}(A)?Vh(T,l,u,f,kc(A),v):void 0;os(F)||(os(g)||function MI(o){return 2==(2&o)}(A)&&(g=Vh(T,null,u,f,E,v)),function Ha(o,l,u,d,f){if(l)f?o.addClass(u,d):o.removeClass(u,d);else{let g=-1===d.indexOf("-")?void 0:nn.DashCase;null==f?o.removeStyle(u,d,g):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),g|=nn.Important),o.setStyle(u,d,f,g))}}(d,v,Ws(bi(),u),f,g))}function Vh(o,l,u,d,f,g){const v=null===l;let E;for(;f>0;){const T=o[f],A=Array.isArray(T),F=A?T[1]:T,G=null===F;let de=u[f+1];de===Tn&&(de=G?me:void 0);let Pe=G?Vn(de,d):F===d?de:void 0;if(A&&!os(Pe)&&(Pe=Vn(T,d)),os(Pe)&&(E=Pe,v))return E;const ot=o[f+1];f=v?Bl(ot):kc(ot)}if(null!==l){let T=g?l.residualClasses:l.residualStyles;null!=T&&(E=Vn(T,d))}return E}function os(o){return void 0!==o}function fx(o,l){return 0!=(o.flags&(l?8:16))}function px(o,l=""){const u=nt(),d=bn(),f=o+cn,g=d.firstCreatePass?bp(d,f,1,l,null):d.data[f],v=u[f]=function Dc(o,l){return o.createText(l)}(u[te],l);Tc(d,u,v,g),so(g,!1)}function t_(o){return c0("",o,""),t_}function c0(o,l,u){const d=nt(),f=Rc(d,o,l,u);return f!==Tn&&function Mc(o,l,u){const d=Ws(l,o);!function np(o,l,u){o.setValue(l,u)}(o[te],d,u)}(d,bi(),f),c0}function WI(o,l,u){!function ua(o,l,u,d){const f=bn(),g=Fo(2);f.firstUpdatePass&&Jm(f,null,g,d);const v=nt();if(u!==Tn&&fo(v,g,u)){const E=f.data[bi()];if(fx(E,d)&&!FI(f,g)){let T=d?E.classesWithoutHost:E.stylesWithoutHost;null!==T&&(u=Ee(T,u||"")),Lp(f,E,v,u,d)}else!function hx(o,l,u,d,f,g,v,E){f===Tn&&(f=me);let T=0,A=0,F=0<f.length?f[0]:null,G=0<g.length?g[0]:null;for(;null!==F||null!==G;){const de=T<f.length?f[T+1]:void 0,Pe=A<g.length?g[A+1]:void 0;let ft,ot=null;F===G?(T+=2,A+=2,de!==Pe&&(ot=G,ft=Pe)):null===G||null!==F&&F<G?(T+=2,ot=F):(A+=2,ot=G,ft=Pe),null!==ot&&BI(o,l,u,d,ot,ft,v,E),F=T<f.length?f[T]:null,G=A<g.length?g[A]:null}}(f,E,v,v[te],v[g+1],v[g+1]=function Jk(o,l,u){if(null==u||""===u)return me;const d=[],f=Ga(u);if(Array.isArray(f))for(let g=0;g<f.length;g++)o(d,f[g],!0);else if("object"==typeof f)for(const g in f)f.hasOwnProperty(g)&&o(d,g,f[g]);else"string"==typeof f&&l(d,f);return d}(o,l,u),d,g)}}(ao,Qa,Rc(nt(),o,l,u),!0)}const Zu=void 0;var $l=["en",[["a","p"],["AM","PM"],Zu],[["AM","PM"],Zu,Zu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Zu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Zu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Zu,"{1} 'at' {0}",Zu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Tx(o){const u=Math.floor(Math.abs(o)),d=o.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===d?1:5}];let Os={};function i_(o){const l=function ib(o){return o.toLowerCase().replace(/_/g,"-")}(o);let u=rb(l);if(u)return u;const d=l.split("-")[0];if(u=rb(d),u)return u;if("en"===d)return $l;throw new J(701,!1)}function nb(o){return i_(o)[fn.PluralCase]}function rb(o){return o in Os||(Os[o]=On.ng&&On.ng.common&&On.ng.common.locales&&On.ng.common.locales[o]),Os[o]}var fn=(()=>((fn=fn||{})[fn.LocaleId=0]="LocaleId",fn[fn.DayPeriodsFormat=1]="DayPeriodsFormat",fn[fn.DayPeriodsStandalone=2]="DayPeriodsStandalone",fn[fn.DaysFormat=3]="DaysFormat",fn[fn.DaysStandalone=4]="DaysStandalone",fn[fn.MonthsFormat=5]="MonthsFormat",fn[fn.MonthsStandalone=6]="MonthsStandalone",fn[fn.Eras=7]="Eras",fn[fn.FirstDayOfWeek=8]="FirstDayOfWeek",fn[fn.WeekendRange=9]="WeekendRange",fn[fn.DateFormat=10]="DateFormat",fn[fn.TimeFormat=11]="TimeFormat",fn[fn.DateTimeFormat=12]="DateTimeFormat",fn[fn.NumberSymbols=13]="NumberSymbols",fn[fn.NumberFormats=14]="NumberFormats",fn[fn.CurrencyCode=15]="CurrencyCode",fn[fn.CurrencySymbol=16]="CurrencySymbol",fn[fn.CurrencyName=17]="CurrencyName",fn[fn.Currencies=18]="Currencies",fn[fn.Directionality=19]="Directionality",fn[fn.PluralCase=20]="PluralCase",fn[fn.ExtraData=21]="ExtraData",fn))();const Gh="en-US";let Nc=Gh;function Kp(o,l,u,d,f){if(o=Z(o),Array.isArray(o))for(let g=0;g<o.length;g++)Kp(o[g],l,u,d,f);else{const g=bn(),v=nt();let E=kl(o)?o:Z(o.provide),T=_v(o);const A=Lr(),F=1048575&A.providerIndexes,G=A.directiveStart,de=A.providerIndexes>>20;if(kl(o)||!o.multi){const Pe=new es(T,f,Mh),ot=D0(E,l,f?F:F+de,G);-1===ot?(bs(mu(A,v),g,E),I0(g,o,l.length),l.push(E),A.directiveStart++,A.directiveEnd++,f&&(A.providerIndexes+=1048576),u.push(Pe),v.push(Pe)):(u[ot]=Pe,v[ot]=Pe)}else{const Pe=D0(E,l,F+de,G),ot=D0(E,l,F,F+de),It=ot>=0&&u[ot];if(f&&!It||!f&&!(Pe>=0&&u[Pe])){bs(mu(A,v),g,E);const Wt=function iN(o,l,u,d,f){const g=new es(o,u,Mh);return g.multi=[],g.index=l,g.componentProviders=0,b0(g,f,d&&!u),g}(f?aM:T0,u.length,f,d,T);!f&&It&&(u[ot].providerFactory=Wt),I0(g,o,l.length,0),l.push(E),A.directiveStart++,A.directiveEnd++,f&&(A.providerIndexes+=1048576),u.push(Wt),v.push(Wt)}else I0(g,o,Pe>-1?Pe:ot,b0(u[f?ot:Pe],T,!f&&d));!f&&d&&It&&u[ot].componentProviders++}}}function I0(o,l,u,d){const f=kl(l),g=function mm(o){return!!o.useClass}(l);if(f||g){const T=(g?Z(l.useClass):l).prototype.ngOnDestroy;if(T){const A=o.destroyHooks||(o.destroyHooks=[]);if(!f&&l.multi){const F=A.indexOf(u);-1===F?A.push(u,[d,T]):A[F+1].push(d,T)}else A.push(u,T)}}}function b0(o,l,u){return u&&o.componentProviders++,o.multi.push(l)-1}function D0(o,l,u,d){for(let f=u;f<d;f++)if(l[f]===o)return f;return-1}function T0(o,l,u,d){return d_(this.multi,[])}function aM(o,l,u,d){const f=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,E=br(u,u[wt],this.providerFactory.index,d);g=E.slice(0,v),d_(f,g);for(let T=v;T<E.length;T++)g.push(E[T])}else g=[],d_(f,g);return g}function d_(o,l){for(let u=0;u<o.length;u++)l.push((0,o[u])());return l}function lM(o,l=[]){return u=>{u.providersResolver=(d,f)=>function sM(o,l,u){const d=bn();if(d.firstCreatePass){const f=ji(o);Kp(u,d.data,d.blueprint,f,!0),Kp(l,d.data,d.blueprint,f,!1)}}(d,f?f(o):o,l)}}class Qp{}class Db{}function oN(o,l){return new Tb(o,null!=l?l:null)}class Tb extends Qp{constructor(l,u){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new jA(this);const d=sn(l);this._bootstrapComponents=qa(d.bootstrap),this._r3Injector=xv(l,u,[{provide:Qp,useValue:this},{provide:bh,useValue:this.componentFactoryResolver}],ye(l),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(l)}get injector(){return this._r3Injector}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class Sb extends Db{constructor(l){super(),this.moduleType=l}create(l){return new Tb(this.moduleType,l)}}class sN extends Qp{constructor(l,u,d){super(),this.componentFactoryResolver=new jA(this),this.instance=null;const f=new gE([...l,{provide:Qp,useValue:this},{provide:bh,useValue:this.componentFactoryResolver}],u||ym(),d,new Set(["environment"]));this.injector=f,f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(l){this.injector.onDestroy(l)}}function Ab(o,l,u=null){return new sN(o,l,u).injector}let aN=(()=>{class o{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u.id)){const d=Ch(0,u.type),f=d.length>0?Ab([d],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u.id,f)}return this.cachedInjectors.get(u.id)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return o.\u0275prov=$e({token:o,providedIn:"environment",factory:()=>new o(gn(Uu))}),o})();function cM(o){o.getStandaloneInjector=l=>l.get(aN).getOrCreateStandaloneInjector(o)}function pM(o,l,u,d){return function g_(o,l,u,d,f,g){const v=l+u;return fo(o,v,f)?function Za(o,l,u){return o[l]=u}(o,v+1,g?d.call(g,f):d(f)):function ed(o,l){const u=o[l];return u===Tn?void 0:u}(o,v+1)}(nt(),function _i(){const o=mn.lFrame;let l=o.bindingRootIndex;return-1===l&&(l=o.bindingRootIndex=o.tView.bindingStartIndex),l}(),o,l,u,d)}function Ub(o){return l=>{setTimeout(o,void 0,l)}}const jl=class dN extends a.x{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,u,d){let f=l,g=u||(()=>null),v=d;if(l&&"object"==typeof l){var E,T,A;const G=l;f=null===(E=G.next)||void 0===E?void 0:E.bind(G),g=null===(T=G.error)||void 0===T?void 0:T.bind(G),v=null===(A=G.complete)||void 0===A?void 0:A.bind(G)}this.__isAsync&&(g=Ub(g),f&&(f=Ub(f)),v&&(v=Ub(v)));const F=super.subscribe({next:f,error:g,complete:v});return l instanceof W.w0&&l.add(F),F}};function hN(){return this._results[Symbol.iterator]()}class P0{get changes(){return this._changes||(this._changes=new jl)}constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=P0.prototype;u[Symbol.iterator]||(u[Symbol.iterator]=hN)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,u){return this._results.reduce(l,u)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,u){const d=this;d.dirty=!1;const f=function Qi(o){return o.flat(Number.POSITIVE_INFINITY)}(l);(this._changesDetected=!function Iu(o,l,u){if(o.length!==l.length)return!1;for(let d=0;d<o.length;d++){let f=o[d],g=l[d];if(u&&(f=u(f),g=u(g)),g!==f)return!1}return!0}(d._results,f,u))&&(d._results=f,d.length=f.length,d.last=f[this.length-1],d.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let ng=(()=>{class o{}return o.__NG_ELEMENT_ID__=fN,o})();const Bb=ng,CM=class extends Bb{constructor(l,u,d){super(),this._declarationLView=l,this._declarationTContainer=u,this.elementRef=d}createEmbeddedView(l,u){const d=this._declarationTContainer.tView,f=bm(this._declarationLView,d,l,16,null,d.declTNode,null,null,null,null,u||null);f[rt]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[bt];return null!==v&&(f[bt]=v.createEmbeddedView(d)),Dm(d,f,l),new Nm(f)}};function fN(){return y_(Lr(),nt())}function y_(o,l){return 4&o.type?new CM(l,o,Nl(o,l)):null}let v_=(()=>{class o{}return o.__NG_ELEMENT_ID__=$b,o})();function $b(){return N0(Lr(),nt())}const R0=v_,Vb=class extends R0{constructor(l,u,d){super(),this._lContainer=l,this._hostTNode=u,this._hostLView=d}get element(){return Nl(this._hostTNode,this._hostLView)}get injector(){return new Ra(this._hostTNode,this._hostLView)}get parentInjector(){const l=Br(this._hostTNode,this._hostLView);if(Ks(l)){const u=yl(l,this._hostLView),d=Ma(l);return new Ra(u[wt].data[d+8],u)}return new Ra(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const u=O0(this._lContainer);return null!==u&&u[l]||null}get length(){return this._lContainer.length-xr}createEmbeddedView(l,u,d){let f,g;"number"==typeof d?f=d:null!=d&&(f=d.index,g=d.injector);const v=l.createEmbeddedView(u||{},g);return this.insert(v,f),v}createComponent(l,u,d,f,g){const v=l&&!function _c(o){return"function"==typeof o}(l);let E;if(v)E=u;else{const G=u||{};E=G.index,d=G.injector,f=G.projectableNodes,g=G.environmentInjector||G.ngModuleRef}const T=v?l:new xp(Lt(l)),A=d||this.parentInjector;if(!g&&null==T.ngModule){const de=(v?A:this.parentInjector).get(Uu,null);de&&(g=de)}const F=T.create(A,f,void 0,g);return this.insert(F.hostView,E),F}insert(l,u){const d=l._lView,f=d[wt];if(function Md(o){return Eo(o[Jn])}(d)){const F=this.indexOf(l);if(-1!==F)this.detach(F);else{const G=d[Jn],de=new Vb(G,G[yr],G[Jn]);de.detach(de.indexOf(l))}}const g=this._adjustIndex(u),v=this._lContainer;!function p(o,l,u,d){const f=xr+d,g=u.length;d>0&&(u[f-1][$n]=l),d<g-xr?(l[$n]=u[f],bu(u,xr+d,l)):(u.push(l),l[$n]=null),l[Jn]=u;const v=l[rt];null!==v&&u!==v&&function _(o,l){const u=o[Ko];l[Qe]!==l[Jn][Jn][Qe]&&(o[oo]=!0),null===u?o[Ko]=[l]:u.push(l)}(v,l);const E=l[bt];null!==E&&E.insertView(o),l[an]|=64}(f,d,v,g);const E=ja(g,v),T=d[te],A=rs(T,v[gi]);return null!==A&&function Xy(o,l,u,d,f,g){d[Ar]=f,d[yr]=l,ap(o,d,u,1,f,g)}(f,v[yr],T,d,A,E),l.attachToViewContainerRef(),bu(k0(v),g,l),l}move(l,u){return this.insert(l,u)}indexOf(l){const u=O0(this._lContainer);return null!==u?u.indexOf(l):-1}remove(l){const u=this._adjustIndex(l,-1),d=M(this._lContainer,u);d&&(El(k0(this._lContainer),u),U(d[wt],d))}detach(l){const u=this._adjustIndex(l,-1),d=M(this._lContainer,u);return d&&null!=El(k0(this._lContainer),u)?new Nm(d):null}_adjustIndex(l,u=0){return null==l?this.length+u:l}};function O0(o){return o[Ki]}function k0(o){return o[Ki]||(o[Ki]=[])}function N0(o,l){let u;const d=l[o.index];if(Eo(d))u=d;else{let f;if(8&o.type)f=Zr(d);else{const g=l[te];f=g.createComment("");const v=mi(o,l);xn(g,rs(g,v),f,function op(o,l){return o.nextSibling(l)}(g,v),!1)}l[o.index]=u=Pm(d,l,f,o),Tp(l,u)}return new Vb(u,o,l)}class w_{constructor(l){this.queryList=l,this.matches=null}clone(){return new w_(this.queryList)}setDirty(){this.queryList.setDirty()}}class F0{constructor(l=[]){this.queries=l}createEmbeddedView(l){const u=l.queries;if(null!==u){const d=null!==l.contentQueries?l.contentQueries[0]:u.length,f=[];for(let g=0;g<d;g++){const v=u.getByIndex(g);f.push(this.queries[v.indexInDeclarationView].clone())}return new F0(f)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let u=0;u<this.queries.length;u++)null!==L0(l,u).matches&&this.queries[u].setDirty()}}class jb{constructor(l,u,d=null){this.predicate=l,this.flags=u,this.read=d}}class Hb{constructor(l=[]){this.queries=l}elementStart(l,u){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(l,u)}elementEnd(l){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(l)}embeddedTView(l){let u=null;for(let d=0;d<this.length;d++){const f=null!==u?u.length:0,g=this.getByIndex(d).embeddedTView(l,f);g&&(g.indexInDeclarationView=d,null!==u?u.push(g):u=[g])}return null!==u?new Hb(u):null}template(l,u){for(let d=0;d<this.queries.length;d++)this.queries[d].template(l,u)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class Xr{constructor(l,u=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(l,u){this.isApplyingToNode(u)&&this.matchTNode(l,u)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,u){this.elementStart(l,u)}embeddedTView(l,u){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,u),new Xr(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let d=l.parent;for(;null!==d&&8&d.type&&d.index!==u;)d=d.parent;return u===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(l,u){const d=this.metadata.predicate;if(Array.isArray(d))for(let f=0;f<d.length;f++){const g=d[f];this.matchTNodeWithReadOption(l,u,Yh(u,g)),this.matchTNodeWithReadOption(l,u,Pa(u,l,g,!1,!1))}else d===ng?4&u.type&&this.matchTNodeWithReadOption(l,u,-1):this.matchTNodeWithReadOption(l,u,Pa(u,l,d,!1,!1))}matchTNodeWithReadOption(l,u,d){if(null!==d){const f=this.metadata.read;if(null!==f)if(f===Dh||f===v_||f===ng&&4&u.type)this.addMatch(u.index,-2);else{const g=Pa(u,l,f,!1,!1);null!==g&&this.addMatch(u.index,g)}else this.addMatch(u.index,d)}}addMatch(l,u){null===this.matches?this.matches=[l,u]:this.matches.push(l,u)}}function Yh(o,l){const u=o.localNames;if(null!==u)for(let d=0;d<u.length;d+=2)if(u[d]===l)return u[d+1];return null}function pN(o,l,u,d){return-1===u?function EM(o,l){return 11&o.type?Nl(o,l):4&o.type?y_(o,l):null}(l,o):-2===u?function Gb(o,l,u){return u===Dh?Nl(l,o):u===ng?y_(l,o):u===v_?N0(l,o):void 0}(o,l,d):br(o,o[wt],u,l)}function zb(o,l,u,d){const f=l[bt].queries[d];if(null===f.matches){const g=o.data,v=u.matches,E=[];for(let T=0;T<v.length;T+=2){const A=v[T];E.push(A<0?null:pN(l,g[A],v[T+1],u.metadata.read))}f.matches=E}return f.matches}function qb(o,l,u,d){const f=o.queries.getByIndex(u),g=f.matches;if(null!==g){const v=zb(o,l,f,u);for(let E=0;E<g.length;E+=2){const T=g[E];if(T>0)d.push(v[E/2]);else{const A=g[E+1],F=l[-T];for(let G=xr;G<F.length;G++){const de=F[G];de[rt]===de[Jn]&&qb(de[wt],de,A,d)}if(null!==F[Ko]){const G=F[Ko];for(let de=0;de<G.length;de++){const Pe=G[de];qb(Pe[wt],Pe,A,d)}}}}}return d}function IM(o){const l=nt(),u=bn(),d=fl();Ud(d+1);const f=L0(u,d);if(o.dirty&&function ul(o){return 4==(4&o[an])}(l)===(2==(2&f.metadata.flags))){if(null===f.matches)o.reset([]);else{const g=f.crossesNgTemplate?qb(u,l,d,[]):zb(u,l,f,d);o.reset(g,_p),o.notifyOnChanges()}return!0}return!1}function bM(o,l,u){const d=bn();d.firstCreatePass&&(xM(d,new jb(o,l,u),-1),2==(2&l)&&(d.staticViewQueries=!0)),AM(d,nt(),l)}function DM(o,l,u,d){const f=bn();if(f.firstCreatePass){const g=Lr();xM(f,new jb(l,u,d),g.index),function td(o,l){const u=o.contentQueries||(o.contentQueries=[]);l!==(u.length?u[u.length-1]:-1)&&u.push(o.queries.length-1,l)}(f,o),2==(2&u)&&(f.staticContentQueries=!0)}AM(f,nt(),u)}function TM(){return function SM(o,l){return o[bt].queries[l].queryList}(nt(),fl())}function AM(o,l,u){const d=new P0(4==(4&u));Fl(o,l,d,d.destroy),null===l[bt]&&(l[bt]=new F0),l[bt].queries.push(new w_(d))}function xM(o,l,u){null===o.queries&&(o.queries=new Hb),o.queries.track(new Xr(l,u))}function L0(o,l){return o.queries.getByIndex(l)}function Zb(o){return!!sn(o)}function id(...o){}const W0=new Hn("Application Initializer");let sg=(()=>{class o{constructor(u){this.appInits=u,this.resolve=id,this.reject=id,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,f)=>{this.resolve=d,this.reject=f})}runInitializers(){if(this.initialized)return;const u=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const g=this.appInits[f]();if(zm(g))u.push(g);else if(wI(g)){const v=new Promise((E,T)=>{g.subscribe({complete:E,error:T})});u.push(v)}}Promise.all(u).then(()=>{d()}).catch(f=>{this.reject(f)}),0===u.length&&d(),this.initialized=!0}}return o.\u0275fac=function(u){return new(u||o)(gn(W0,8))},o.\u0275prov=$e({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const Z0=new Hn("AppId",{providedIn:"root",factory:function ag(){return`${lg()}${lg()}${lg()}`}});function lg(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const R_=new Hn("Platform Initializer"),Y0=new Hn("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let FM=(()=>{class o{log(u){console.log(u)}warn(u){console.warn(u)}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=$e({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const cg=new Hn("LocaleId",{providedIn:"root",factory:()=>rr(cg,Ut.Optional|Ut.SkipSelf)||function oD(){return typeof $localize<"u"&&$localize.locale||Gh}()}),K0=new Hn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Q0{constructor(l,u){this.ngModuleFactory=l,this.componentFactories=u}}let X0=(()=>{class o{compileModuleSync(u){return new Sb(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const d=this.compileModuleSync(u),g=qa(sn(u).declarations).reduce((v,E)=>{const T=Lt(E);return T&&v.push(new xp(T)),v},[]);return new Q0(d,g)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=$e({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const UM=(()=>Promise.resolve(0))();function J0(o){typeof Zone>"u"?UM.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class Fs{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new jl(!1),this.onMicrotaskEmpty=new jl(!1),this.onStable=new jl(!1),this.onError=new jl(!1),typeof Zone>"u")throw new J(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!d&&u,f.shouldCoalesceRunChangeDetection=d,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function lD(){let o=On.requestAnimationFrame,l=On.cancelAnimationFrame;if(typeof Zone<"u"&&o&&l){const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u);const d=l[Zone.__symbol__("OriginalDelegate")];d&&(l=d)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function F_(o){const l=()=>{!function BM(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(On,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,ug(o),o.isCheckStableRunning=!0,N_(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),ug(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,d,f,g,v,E)=>{try{return L_(o),u.invokeTask(f,g,v,E)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||o.shouldCoalesceRunChangeDetection)&&l(),tw(o)}},onInvoke:(u,d,f,g,v,E,T)=>{try{return L_(o),u.invoke(f,g,v,E,T)}finally{o.shouldCoalesceRunChangeDetection&&l(),tw(o)}},onHasTask:(u,d,f,g)=>{u.hasTask(f,g),d===f&&("microTask"==g.change?(o._hasPendingMicrotasks=g.microTask,ug(o),N_(o)):"macroTask"==g.change&&(o.hasPendingMacrotasks=g.macroTask))},onHandleError:(u,d,f,g)=>(u.handleError(f,g),o.runOutsideAngular(()=>o.onError.emit(g)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Fs.isInAngularZone())throw new J(909,!1)}static assertNotInAngularZone(){if(Fs.isInAngularZone())throw new J(909,!1)}run(l,u,d){return this._inner.run(l,u,d)}runTask(l,u,d,f){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+f,l,ew,id,id);try{return g.runTask(v,u,d)}finally{g.cancelTask(v)}}runGuarded(l,u,d){return this._inner.runGuarded(l,u,d)}runOutsideAngular(l){return this._outer.run(l)}}const ew={};function N_(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function ug(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function L_(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function tw(o){o._nesting--,N_(o)}class $M{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new jl,this.onMicrotaskEmpty=new jl,this.onStable=new jl,this.onError=new jl}run(l,u,d){return l.apply(u,d)}runGuarded(l,u,d){return l.apply(u,d)}runOutsideAngular(l){return l()}runTask(l,u,d,f){return l.apply(u,d)}}const Qh=new Hn(""),nw=new Hn("");let iw,uD=(()=>{class o{constructor(u,d,f){this._ngZone=u,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,iw||(function U_(o){iw=o}(f),f.addToWindow(d)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Fs.assertNotInAngularZone(),J0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())J0(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(u)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,d,f){let g=-1;d&&d>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),u(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:u,timeoutId:g,updateCb:f})}whenStable(u,d,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,d,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,d,f){return[]}}return o.\u0275fac=function(u){return new(u||o)(gn(Fs),gn(rw),gn(nw))},o.\u0275prov=$e({token:o,factory:o.\u0275fac}),o})(),rw=(()=>{class o{constructor(){this._applications=new Map}registerApplication(u,d){this._applications.set(u,d)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,d=!0){var f,g;return null!==(f=null===(g=iw)||void 0===g?void 0:g.findTestabilityInTree(this,u,d))&&void 0!==f?f:null}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=$e({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const Hl=!1;let ls=null;const dD=new Hn("AllowMultipleToken"),ow=new Hn("PlatformDestroyListeners"),Uc=new Hn("appBootstrapListener");class dg{constructor(l,u){this.name=l,this.token=u}}function hg(o,l,u=[]){const d=`Platform: ${l}`,f=new Hn(d);return(g=[])=>{let v=V_();if(!v||v.injector.get(dD,!1)){const E=[...u,...g,{provide:f,useValue:!0}];o?o(E):function pD(o){if(ls&&!ls.get(dD,!1))throw new J(400,!1);ls=o;const l=o.get(Xh);(function aw(o){const l=o.get(R_,null);l&&l.forEach(u=>u())})(o)}(function $_(o=[],l){return Bu.create({name:l,providers:[{provide:xc,useValue:"platform"},{provide:ow,useValue:new Set([()=>ls=null])},...o]})}(E,d))}return function gD(o){const l=V_();if(!l)throw new J(401,!1);return l}()}}function V_(){var o,l;return null!==(o=null===(l=ls)||void 0===l?void 0:l.get(Xh))&&void 0!==o?o:null}let Xh=(()=>{class o{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,d){const f=function H_(o,l){let u;return u="noop"===o?new $M:("zone.js"===o?void 0:o)||new Fs(l),u}(null==d?void 0:d.ngZone,function j_(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!o||!o.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!o||!o.ngZoneRunCoalescing)||!1}}(d)),g=[{provide:Fs,useValue:f}];return f.run(()=>{const v=Bu.create({providers:g,parent:this.injector,name:u.moduleType.name}),E=u.create(v),T=E.injector.get(yp,null);if(!T)throw new J(402,!1);return f.runOutsideAngular(()=>{const A=f.onError.subscribe({next:F=>{T.handleError(F)}});E.onDestroy(()=>{pg(this._modules,E),A.unsubscribe()})}),function G_(o,l,u){try{const d=u();return zm(d)?d.catch(f=>{throw l.runOutsideAngular(()=>o.handleError(f)),f}):d}catch(d){throw l.runOutsideAngular(()=>o.handleError(d)),d}}(T,f,()=>{const A=E.injector.get(sg);return A.runInitializers(),A.donePromise.then(()=>(function Vl(o){Le(o,"Expected localeId to be defined"),"string"==typeof o&&(Nc=o.toLowerCase().replace(/_/g,"-"))}(E.injector.get(cg,Gh)||Gh),this._moduleDoBootstrap(E),E))})})}bootstrapModule(u,d=[]){const f=fg({},d);return function hD(o,l,u){const d=new Sb(u);return Promise.resolve(d)}(0,0,u).then(g=>this.bootstrapModuleFactory(g,f))}_moduleDoBootstrap(u){const d=u.injector.get(Bc);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(f=>d.bootstrap(f));else{if(!u.instance.ngDoBootstrap)throw new J(-403,!1);u.instance.ngDoBootstrap(d)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new J(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const u=this._injector.get(ow,null);u&&(u.forEach(d=>d()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(u){return new(u||o)(gn(Bu))},o.\u0275prov=$e({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function fg(o,l){return Array.isArray(l)?l.reduce(fg,o):{...o,...l}}let Bc=(()=>{class o{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(u,d,f){this._zone=u,this._injector=d,this._exceptionHandler=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new O.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),v=new O.y(E=>{let T;this._zone.runOutsideAngular(()=>{T=this._zone.onStable.subscribe(()=>{Fs.assertNotInAngularZone(),J0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const A=this._zone.onUnstable.subscribe(()=>{Fs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{T.unsubscribe(),A.unsubscribe()}});this.isStable=(0,ve.T)(g,v.pipe((0,we.B)()))}bootstrap(u,d){const f=u instanceof _E;if(!this._injector.get(sg).done){!f&&hn(u);throw new J(405,Hl)}let v;v=f?u:this._injector.get(bh).resolveComponentFactory(u),this.componentTypes.push(v.componentType);const E=function fD(o){return o.isBoundToModule}(v)?void 0:this._injector.get(Qp),A=v.create(Bu.NULL,[],d||v.selector,E),F=A.location.nativeElement,G=A.injector.get(Qh,null);return null==G||G.registerApplication(F),A.onDestroy(()=>{this.detachView(A.hostView),pg(this.components,A),null==G||G.unregisterApplication(F)}),this._loadComponent(A),A}tick(){if(this._runningTick)throw new J(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const d=u;this._views.push(d),d.attachToAppRef(this)}detachView(u){const d=u;pg(this._views,d),d.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u);const d=this._injector.get(Uc,[]);d.push(...this._bootstrapListeners),d.forEach(f=>f(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>pg(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new J(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return o.\u0275fac=function(u){return new(u||o)(gn(Fs),gn(Uu),gn(yp))},o.\u0275prov=$e({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function pg(o,l){const u=o.indexOf(l);u>-1&&o.splice(u,1)}function z_(){return!1}function cw(){}let GM=(()=>{class o{}return o.__NG_ELEMENT_ID__=gg,o})();function gg(o){return function _D(o,l,u){if(Ql(o)&&!u){const d=oi(o.index,l);return new Nm(d,d)}return 47&o.type?new Nm(l[Qe],l):null}(Lr(),nt(),16==(16&o))}class wD{constructor(){}supports(l){return Nh(l)}create(l){return new yg(l)}}const ZM=(o,l)=>l;class yg{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||ZM}forEachItem(l){let u;for(u=this._itHead;null!==u;u=u._next)l(u)}forEachOperation(l){let u=this._itHead,d=this._removalsHead,f=0,g=null;for(;u||d;){const v=!d||u&&u.currentIndex<fw(d,f,g)?u:d,E=fw(v,f,g),T=v.currentIndex;if(v===d)f--,d=d._nextRemoved;else if(u=u._next,null==v.previousIndex)f++;else{g||(g=[]);const A=E-f,F=T-f;if(A!=F){for(let de=0;de<A;de++){const Pe=de<g.length?g[de]:g[de]=0,ot=Pe+de;F<=ot&&ot<A&&(g[de]=Pe+1)}g[v.previousIndex]=F-A}}E!==T&&l(v,E,T)}}forEachPreviousItem(l){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachMovedItem(l){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}forEachIdentityChange(l){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)l(u)}diff(l){if(null==l&&(l=[]),!Nh(l))throw new J(900,!1);return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let f,g,v,u=this._itHead,d=!1;if(Array.isArray(l)){this.length=l.length;for(let E=0;E<this.length;E++)g=l[E],v=this._trackByFn(E,g),null!==u&&Object.is(u.trackById,v)?(d&&(u=this._verifyReinsertion(u,g,v,E)),Object.is(u.item,g)||this._addIdentityChange(u,g)):(u=this._mismatch(u,g,v,E),d=!0),u=u._next}else f=0,function WA(o,l){if(Array.isArray(o))for(let u=0;u<o.length;u++)l(o[u]);else{const u=o[Symbol.iterator]();let d;for(;!(d=u.next()).done;)l(d.value)}}(l,E=>{v=this._trackByFn(f,E),null!==u&&Object.is(u.trackById,v)?(d&&(u=this._verifyReinsertion(u,E,v,f)),Object.is(u.item,E)||this._addIdentityChange(u,E)):(u=this._mismatch(u,E,v,f),d=!0),u=u._next,f++}),this.length=f;return this._truncate(u),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,u,d,f){let g;return null===l?g=this._itTail:(g=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._reinsertAfter(l,g,f)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(d,f))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._moveAfter(l,g,f)):l=this._addAfter(new jc(u,d),g,f),l}_verifyReinsertion(l,u,d,f){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==g?l=this._reinsertAfter(g,l._prev,f):l.currentIndex!=f&&(l.currentIndex=f,this._addToMoves(l,f)),l}_truncate(l){for(;null!==l;){const u=l._next;this._addToRemovals(this._unlink(l)),l=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,u,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const f=l._prevRemoved,g=l._nextRemoved;return null===f?this._removalsHead=g:f._nextRemoved=g,null===g?this._removalsTail=f:g._prevRemoved=f,this._insertAfter(l,u,d),this._addToMoves(l,d),l}_moveAfter(l,u,d){return this._unlink(l),this._insertAfter(l,u,d),this._addToMoves(l,d),l}_addAfter(l,u,d){return this._insertAfter(l,u,d),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,u,d){const f=null===u?this._itHead:u._next;return l._next=f,l._prev=u,null===f?this._itTail=l:f._prev=l,null===u?this._itHead=l:u._next=l,null===this._linkedRecords&&(this._linkedRecords=new hw),this._linkedRecords.put(l),l.currentIndex=d,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const u=l._prev,d=l._next;return null===u?this._itHead=d:u._next=d,null===d?this._itTail=u:d._prev=u,l}_addToMoves(l,u){return l.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new hw),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,u){return l.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class jc{constructor(l,u){this.item=l,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class CD{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,u){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===u||u<=d.currentIndex)&&Object.is(d.trackById,l))return d;return null}remove(l){const u=l._prevDup,d=l._nextDup;return null===u?this._head=d:u._nextDup=d,null===d?this._tail=u:d._prevDup=u,null===this._head}}class hw{constructor(){this.map=new Map}put(l){const u=l.trackById;let d=this.map.get(u);d||(d=new CD,this.map.set(u,d)),d.add(l)}get(l,u){const f=this.map.get(l);return f?f.get(l,u):null}remove(l){const u=l.trackById;return this.map.get(u).remove(l)&&this.map.delete(u),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function fw(o,l,u){const d=o.previousIndex;if(null===d)return d;let f=0;return u&&d<u.length&&(f=u[d]),d+l+f}class sd{constructor(){}supports(l){return l instanceof Map||Zv(l)}create(){return new YM}}class YM{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let u;for(u=this._mapHead;null!==u;u=u._next)l(u)}forEachPreviousItem(l){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)l(u)}forEachChangedItem(l){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}diff(l){if(l){if(!(l instanceof Map||Zv(l)))throw new J(900,!1)}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(l,(d,f)=>{if(u&&u.key===f)this._maybeAddToChanges(u,d),this._appendAfter=u,u=u._next;else{const g=this._getOrCreateRecordForKey(f,d);u=this._insertBeforeOrAppend(u,g)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let d=u;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,u){if(l){const d=l._prev;return u._next=l,u._prev=d,l._prev=u,d&&(d._next=u),l===this._mapHead&&(this._mapHead=u),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(l,u){if(this._records.has(l)){const f=this._records.get(l);this._maybeAddToChanges(f,u);const g=f._prev,v=f._next;return g&&(g._next=v),v&&(v._prev=g),f._next=null,f._prev=null,f}const d=new KM(l);return this._records.set(l,d),d.currentValue=u,this._addToAdditions(d),d}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,u){Object.is(u,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=u,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,u){l instanceof Map?l.forEach(u):Object.keys(l).forEach(d=>u(l[d],d))}}class KM{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function pw(){return new gw([new wD])}let gw=(()=>{class o{constructor(u){this.factories=u}static create(u,d){if(null!=d){const f=d.factories.slice();u=u.concat(f)}return new o(u)}static extend(u){return{provide:o,useFactory:d=>o.create(u,d||pw()),deps:[[o,new Vt,new ta]]}}find(u){const d=this.factories.find(f=>f.supports(u));if(null!=d)return d;throw new J(901,!1)}}return o.\u0275prov=$e({token:o,providedIn:"root",factory:pw}),o})();function mw(){return new vg([new sd])}let vg=(()=>{class o{constructor(u){this.factories=u}static create(u,d){if(d){const f=d.factories.slice();u=u.concat(f)}return new o(u)}static extend(u){return{provide:o,useFactory:d=>o.create(u,d||mw()),deps:[[o,new Vt,new ta]]}}find(u){const d=this.factories.find(f=>f.supports(u));if(d)return d;throw new J(901,!1)}}return o.\u0275prov=$e({token:o,providedIn:"root",factory:mw}),o})();const JM=hg(null,"core",[]);let e1=(()=>{class o{constructor(u){}}return o.\u0275fac=function(u){return new(u||o)(gn(Bc))},o.\u0275mod=ke({type:o}),o.\u0275inj=Je({}),o})();function t1(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}function TD(o,l){const u=Lt(o),d=l.elementInjector||ym();return new xp(u).create(d,l.projectableNodes,l.hostElement,l.environmentInjector)}},3942:(St,We,R)=>{"use strict";R.d(We,{Z:()=>xe});var a=R(2090),W=R(4859),O=R(6881),ve=R(1877);class we{constructor(J,Y){this._delegate=J,this.firebase=Y,(0,O._addComponent)(J,new W.wA("app-compat",()=>this,"PUBLIC")),this.container=J.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(J){this._delegate.automaticDataCollectionEnabled=J}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(J=>{this._delegate.checkDestroyed(),J()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(J,Y=O._DEFAULT_ENTRY_NAME){var fe;this._delegate.checkDestroyed();const Me=this._delegate.container.getProvider(J);return!Me.isInitialized()&&"EXPLICIT"===(null===(fe=Me.getComponent())||void 0===fe?void 0:fe.instantiationMode)&&Me.initialize(),Me.getImmediate({identifier:Y})}_removeServiceInstance(J,Y=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(J).clearInstance(Y)}_addComponent(J){(0,O._addComponent)(this._delegate,J)}_addOrOverwriteComponent(J){(0,O._addOrOverwriteComponent)(this._delegate,J)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ee=new a.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Q=function Ee(){const He=function ye(He){const J={},Y={__esModule:!0,initializeApp:function De(ae,X={}){const Ue=O.initializeApp(ae,X);if((0,a.r3)(J,Ue.name))return J[Ue.name];const he=new He(Ue,Y);return J[Ue.name]=he,he},app:Me,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function Re(ae){const X=ae.name,Ue=X.replace("-compat","");if(O._registerComponent(ae)&&"PUBLIC"===ae.type){const he=(Te=Me())=>{if("function"!=typeof Te[Ue])throw ee.create("invalid-app-argument",{appName:X});return Te[Ue]()};void 0!==ae.serviceProps&&(0,a.ZB)(he,ae.serviceProps),Y[Ue]=he,He.prototype[Ue]=function(...Te){return this._getService.bind(this,X).apply(this,ae.multipleInstances?Te:[])}}return"PUBLIC"===ae.type?Y[Ue]:null},removeApp:function fe(ae){delete J[ae]},useAsService:function Fe(ae,X){return"serverAuth"===X?null:X},modularAPIs:O}};function Me(ae){if(!(0,a.r3)(J,ae=ae||O._DEFAULT_ENTRY_NAME))throw ee.create("no-app",{appName:ae});return J[ae]}return Y.default=Y,Object.defineProperty(Y,"apps",{get:function be(){return Object.keys(J).map(ae=>J[ae])}}),Me.App=He,Y}(we);return He.INTERNAL=Object.assign(Object.assign({},He.INTERNAL),{createFirebaseNamespace:Ee,extendNamespace:function J(Y){(0,a.ZB)(He,Y)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),He}(),z=new ve.Yd("@firebase/app-compat");if((0,a.jU)()&&void 0!==self.firebase){z.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const He=self.firebase.SDK_VERSION;He&&He.indexOf("LITE")>=0&&z.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const xe=Q;!function ue(He){(0,O.registerVersion)("@firebase/app-compat","0.2.9",He)}()},6881:(St,We,R)=>{"use strict";R.r(We),R.d(We,{FirebaseError:()=>ve.ZR,SDK_VERSION:()=>ri,_DEFAULT_ENTRY_NAME:()=>Rr,_addComponent:()=>Ft,_addOrOverwriteComponent:()=>on,_apps:()=>On,_clearComponents:()=>kr,_components:()=>dn,_getProvider:()=>Sr,_registerComponent:()=>zn,_removeServiceInstance:()=>kn,deleteApp:()=>hr,getApp:()=>ii,getApps:()=>gn,initializeApp:()=>pn,onLog:()=>lr,registerVersion:()=>Nr,setLogLevel:()=>cr});var a=R(5861),W=R(4859),O=R(1877),ve=R(2090);const we=(et,ke)=>ke.some(at=>et instanceof at);let _e,ee;const Q=new WeakMap,z=new WeakMap,Z=new WeakMap,ie=new WeakMap,ue=new WeakMap;let J={get(et,ke,at){if(et instanceof IDBTransaction){if("done"===ke)return z.get(et);if("objectStoreNames"===ke)return et.objectStoreNames||Z.get(et);if("store"===ke)return at.objectStoreNames[1]?void 0:at.objectStore(at.objectStoreNames[0])}return De(et[ke])},set:(et,ke,at)=>(et[ke]=at,!0),has:(et,ke)=>et instanceof IDBTransaction&&("done"===ke||"store"===ke)||ke in et};function Me(et){return"function"==typeof et?function fe(et){return et!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ee(){return ee||(ee=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(et)?function(...ke){return et.apply(be(this),ke),De(Q.get(this))}:function(...ke){return De(et.apply(be(this),ke))}:function(ke,...at){const Ot=et.call(be(this),ke,...at);return Z.set(Ot,ke.sort?ke.sort():[ke]),De(Ot)}}(et):(et instanceof IDBTransaction&&function He(et){if(z.has(et))return;const ke=new Promise((at,Ot)=>{const Jt=()=>{et.removeEventListener("complete",In),et.removeEventListener("error",Lt),et.removeEventListener("abort",Lt)},In=()=>{at(),Jt()},Lt=()=>{Ot(et.error||new DOMException("AbortError","AbortError")),Jt()};et.addEventListener("complete",In),et.addEventListener("error",Lt),et.addEventListener("abort",Lt)});z.set(et,ke)}(et),we(et,function ye(){return _e||(_e=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(et,J):et)}function De(et){if(et instanceof IDBRequest)return function xe(et){const ke=new Promise((at,Ot)=>{const Jt=()=>{et.removeEventListener("success",In),et.removeEventListener("error",Lt)},In=()=>{at(De(et.result)),Jt()},Lt=()=>{Ot(et.error),Jt()};et.addEventListener("success",In),et.addEventListener("error",Lt)});return ke.then(at=>{at instanceof IDBCursor&&Q.set(at,et)}).catch(()=>{}),ue.set(ke,et),ke}(et);if(ie.has(et))return ie.get(et);const ke=Me(et);return ke!==et&&(ie.set(et,ke),ue.set(ke,et)),ke}const be=et=>ue.get(et),ae=["get","getKey","getAll","getAllKeys","count"],X=["put","add","delete","clear"],Ue=new Map;function he(et,ke){if(!(et instanceof IDBDatabase)||ke in et||"string"!=typeof ke)return;if(Ue.get(ke))return Ue.get(ke);const at=ke.replace(/FromIndex$/,""),Ot=ke!==at,Jt=X.includes(at);if(!(at in(Ot?IDBIndex:IDBObjectStore).prototype)||!Jt&&!ae.includes(at))return;const In=function(){var Lt=(0,a.Z)(function*(Fn,...wn){const hn=this.transaction(Fn,Jt?"readwrite":"readonly");let sn=hn.store;return Ot&&(sn=sn.index(wn.shift())),(yield Promise.all([sn[at](...wn),Jt&&hn.done]))[0]});return function(wn){return Lt.apply(this,arguments)}}();return Ue.set(ke,In),In}!function Y(et){J=et(J)}(et=>({...et,get:(ke,at,Ot)=>he(ke,at)||et.get(ke,at,Ot),has:(ke,at)=>!!he(ke,at)||et.has(ke,at)}));class Te{constructor(ke){this.container=ke}getPlatformInfoString(){return this.container.getProviders().map(at=>{if(function Ge(et){const ke=et.getComponent();return"VERSION"===(null==ke?void 0:ke.type)}(at)){const Ot=at.getImmediate();return`${Ot.library}/${Ot.version}`}return null}).filter(at=>at).join(" ")}}const Ze="@firebase/app",Oe=new O.Yd("@firebase/app"),Rr="[DEFAULT]",Or={[Ze]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},On=new Map,dn=new Map;function Ft(et,ke){try{et.container.addComponent(ke)}catch(at){Oe.debug(`Component ${ke.name} failed to register with FirebaseApp ${et.name}`,at)}}function on(et,ke){et.container.addOrOverwriteComponent(ke)}function zn(et){const ke=et.name;if(dn.has(ke))return Oe.debug(`There were multiple attempts to register component ${ke}.`),!1;dn.set(ke,et);for(const at of On.values())Ft(at,et);return!0}function Sr(et,ke){const at=et.container.getProvider("heartbeat").getImmediate({optional:!0});return at&&at.triggerHeartbeat(),et.container.getProvider(ke)}function kn(et,ke,at=Rr){Sr(et,ke).clearInstance(at)}function kr(){dn.clear()}const mr=new ve.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Cn{constructor(ke,at,Ot){this._isDeleted=!1,this._options=Object.assign({},ke),this._config=Object.assign({},at),this._name=at.name,this._automaticDataCollectionEnabled=at.automaticDataCollectionEnabled,this._container=Ot,this.container.addComponent(new W.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ke){this.checkDestroyed(),this._automaticDataCollectionEnabled=ke}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ke){this._isDeleted=ke}checkDestroyed(){if(this.isDeleted)throw mr.create("app-deleted",{appName:this._name})}}const ri="9.21.0";function pn(et,ke={}){let at=et;"object"!=typeof ke&&(ke={name:ke});const Ot=Object.assign({name:Rr,automaticDataCollectionEnabled:!1},ke),Jt=Ot.name;if("string"!=typeof Jt||!Jt)throw mr.create("bad-app-name",{appName:String(Jt)});if(at||(at=(0,ve.aH)()),!at)throw mr.create("no-options");const In=On.get(Jt);if(In){if((0,ve.vZ)(at,In.options)&&(0,ve.vZ)(Ot,In.config))return In;throw mr.create("duplicate-app",{appName:Jt})}const Lt=new W.H0(Jt);for(const wn of dn.values())Lt.addComponent(wn);const Fn=new Cn(at,Ot,Lt);return On.set(Jt,Fn),Fn}function ii(et=Rr){const ke=On.get(et);if(!ke&&et===Rr)return pn();if(!ke)throw mr.create("no-app",{appName:et});return ke}function gn(){return Array.from(On.values())}function hr(et){return rr.apply(this,arguments)}function rr(){return(rr=(0,a.Z)(function*(et){const ke=et.name;On.has(ke)&&(On.delete(ke),yield Promise.all(et.container.getProviders().map(at=>at.delete())),et.isDeleted=!0)})).apply(this,arguments)}function Nr(et,ke,at){var Ot;let Jt=null!==(Ot=Or[et])&&void 0!==Ot?Ot:et;at&&(Jt+=`-${at}`);const In=Jt.match(/\s|\//),Lt=ke.match(/\s|\//);if(In||Lt){const Fn=[`Unable to register library "${Jt}" with version "${ke}":`];return In&&Fn.push(`library name "${Jt}" contains illegal characters (whitespace or "/")`),In&&Lt&&Fn.push("and"),Lt&&Fn.push(`version name "${ke}" contains illegal characters (whitespace or "/")`),void Oe.warn(Fn.join(" "))}zn(new W.wA(`${Jt}-version`,()=>({library:Jt,version:ke}),"VERSION"))}function lr(et,ke){if(null!==et&&"function"!=typeof et)throw mr.create("invalid-log-argument");(0,O.Am)(et,ke)}function cr(et){(0,O.Ub)(et)}const fr="firebase-heartbeat-database",pr=1,re="firebase-heartbeat-store";let K=null;function L(){return K||(K=function Re(et,ke,{blocked:at,upgrade:Ot,blocking:Jt,terminated:In}={}){const Lt=indexedDB.open(et,ke),Fn=De(Lt);return Ot&&Lt.addEventListener("upgradeneeded",wn=>{Ot(De(Lt.result),wn.oldVersion,wn.newVersion,De(Lt.transaction),wn)}),at&&Lt.addEventListener("blocked",wn=>at(wn.oldVersion,wn.newVersion,wn)),Fn.then(wn=>{In&&wn.addEventListener("close",()=>In()),Jt&&wn.addEventListener("versionchange",hn=>Jt(hn.oldVersion,hn.newVersion,hn))}).catch(()=>{}),Fn}(fr,pr,{upgrade:(et,ke)=>{0===ke&&et.createObjectStore(re)}}).catch(et=>{throw mr.create("idb-open",{originalErrorMessage:et.message})})),K}function N(){return(N=(0,a.Z)(function*(et){try{return(yield L()).transaction(re).objectStore(re).get(At(et))}catch(ke){if(ke instanceof ve.ZR)Oe.warn(ke.message);else{const at=mr.create("idb-get",{originalErrorMessage:null==ke?void 0:ke.message});Oe.warn(at.message)}}})).apply(this,arguments)}function me(et,ke){return it.apply(this,arguments)}function it(){return(it=(0,a.Z)(function*(et,ke){try{const Ot=(yield L()).transaction(re,"readwrite");return yield Ot.objectStore(re).put(ke,At(et)),Ot.done}catch(at){if(at instanceof ve.ZR)Oe.warn(at.message);else{const Ot=mr.create("idb-set",{originalErrorMessage:null==at?void 0:at.message});Oe.warn(Ot.message)}}})).apply(this,arguments)}function At(et){return`${et.name}!${et.options.appId}`}class En{constructor(ke){this.container=ke,this._heartbeatsCache=null;const at=this.container.getProvider("app").getImmediate();this._storage=new vn(at),this._heartbeatsCachePromise=this._storage.read().then(Ot=>(this._heartbeatsCache=Ot,Ot))}triggerHeartbeat(){var ke=this;return(0,a.Z)(function*(){const Ot=ke.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Jt=tn();if(null===ke._heartbeatsCache&&(ke._heartbeatsCache=yield ke._heartbeatsCachePromise),ke._heartbeatsCache.lastSentHeartbeatDate!==Jt&&!ke._heartbeatsCache.heartbeats.some(In=>In.date===Jt))return ke._heartbeatsCache.heartbeats.push({date:Jt,agent:Ot}),ke._heartbeatsCache.heartbeats=ke._heartbeatsCache.heartbeats.filter(In=>{const Lt=new Date(In.date).valueOf();return Date.now()-Lt<=2592e6}),ke._storage.overwrite(ke._heartbeatsCache)})()}getHeartbeatsHeader(){var ke=this;return(0,a.Z)(function*(){if(null===ke._heartbeatsCache&&(yield ke._heartbeatsCachePromise),null===ke._heartbeatsCache||0===ke._heartbeatsCache.heartbeats.length)return"";const at=tn(),{heartbeatsToSend:Ot,unsentEntries:Jt}=function Kn(et,ke=1024){const at=[];let Ot=et.slice();for(const Jt of et){const In=at.find(Lt=>Lt.agent===Jt.agent);if(In){if(In.dates.push(Jt.date),_r(at)>ke){In.dates.pop();break}}else if(at.push({agent:Jt.agent,dates:[Jt.date]}),_r(at)>ke){at.pop();break}Ot=Ot.slice(1)}return{heartbeatsToSend:at,unsentEntries:Ot}}(ke._heartbeatsCache.heartbeats),In=(0,ve.L)(JSON.stringify({version:2,heartbeats:Ot}));return ke._heartbeatsCache.lastSentHeartbeatDate=at,Jt.length>0?(ke._heartbeatsCache.heartbeats=Jt,yield ke._storage.overwrite(ke._heartbeatsCache)):(ke._heartbeatsCache.heartbeats=[],ke._storage.overwrite(ke._heartbeatsCache)),In})()}}function tn(){return(new Date).toISOString().substring(0,10)}class vn{constructor(ke){this.app=ke,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,a.Z)(function*(){return!!(0,ve.hl)()&&(0,ve.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ke=this;return(0,a.Z)(function*(){return(yield ke._canUseIndexedDBPromise)&&(yield function B(et){return N.apply(this,arguments)}(ke.app))||{heartbeats:[]}})()}overwrite(ke){var at=this;return(0,a.Z)(function*(){var Ot;if(yield at._canUseIndexedDBPromise){const In=yield at.read();return me(at.app,{lastSentHeartbeatDate:null!==(Ot=ke.lastSentHeartbeatDate)&&void 0!==Ot?Ot:In.lastSentHeartbeatDate,heartbeats:ke.heartbeats})}})()}add(ke){var at=this;return(0,a.Z)(function*(){var Ot;if(yield at._canUseIndexedDBPromise){const In=yield at.read();return me(at.app,{lastSentHeartbeatDate:null!==(Ot=ke.lastSentHeartbeatDate)&&void 0!==Ot?Ot:In.lastSentHeartbeatDate,heartbeats:[...In.heartbeats,...ke.heartbeats]})}})()}}function _r(et){return(0,ve.L)(JSON.stringify({version:2,heartbeats:et})).length}!function Fr(et){zn(new W.wA("platform-logger",ke=>new Te(ke),"PRIVATE")),zn(new W.wA("heartbeat",ke=>new En(ke),"PRIVATE")),Nr(Ze,"0.9.9",et),Nr(Ze,"0.9.9","esm2017"),Nr("fire-js","")}("")},4859:(St,We,R)=>{"use strict";R.d(We,{H0:()=>ye,wA:()=>O,zt:()=>we});var a=R(5861),W=R(2090);class O{constructor(Q,z,Z){this.name=Q,this.instanceFactory=z,this.type=Z,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Q){return this.instantiationMode=Q,this}setMultipleInstances(Q){return this.multipleInstances=Q,this}setServiceProps(Q){return this.serviceProps=Q,this}setInstanceCreatedCallback(Q){return this.onInstanceCreated=Q,this}}const ve="[DEFAULT]";class we{constructor(Q,z){this.name=Q,this.container=z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Q){const z=this.normalizeInstanceIdentifier(Q);if(!this.instancesDeferred.has(z)){const Z=new W.BH;if(this.instancesDeferred.set(z,Z),this.isInitialized(z)||this.shouldAutoInitialize())try{const ie=this.getOrInitializeService({instanceIdentifier:z});ie&&Z.resolve(ie)}catch{}}return this.instancesDeferred.get(z).promise}getImmediate(Q){var z;const Z=this.normalizeInstanceIdentifier(null==Q?void 0:Q.identifier),ie=null!==(z=null==Q?void 0:Q.optional)&&void 0!==z&&z;if(!this.isInitialized(Z)&&!this.shouldAutoInitialize()){if(ie)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Z})}catch(ue){if(ie)return null;throw ue}}getComponent(){return this.component}setComponent(Q){if(Q.name!==this.name)throw Error(`Mismatching Component ${Q.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Q,this.shouldAutoInitialize()){if(function ee(Ee){return"EAGER"===Ee.instantiationMode}(Q))try{this.getOrInitializeService({instanceIdentifier:ve})}catch{}for(const[z,Z]of this.instancesDeferred.entries()){const ie=this.normalizeInstanceIdentifier(z);try{const ue=this.getOrInitializeService({instanceIdentifier:ie});Z.resolve(ue)}catch{}}}}clearInstance(Q=ve){this.instancesDeferred.delete(Q),this.instancesOptions.delete(Q),this.instances.delete(Q)}delete(){var Q=this;return(0,a.Z)(function*(){const z=Array.from(Q.instances.values());yield Promise.all([...z.filter(Z=>"INTERNAL"in Z).map(Z=>Z.INTERNAL.delete()),...z.filter(Z=>"_delete"in Z).map(Z=>Z._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Q=ve){return this.instances.has(Q)}getOptions(Q=ve){return this.instancesOptions.get(Q)||{}}initialize(Q={}){const{options:z={}}=Q,Z=this.normalizeInstanceIdentifier(Q.instanceIdentifier);if(this.isInitialized(Z))throw Error(`${this.name}(${Z}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ie=this.getOrInitializeService({instanceIdentifier:Z,options:z});for(const[ue,xe]of this.instancesDeferred.entries())Z===this.normalizeInstanceIdentifier(ue)&&xe.resolve(ie);return ie}onInit(Q,z){var Z;const ie=this.normalizeInstanceIdentifier(z),ue=null!==(Z=this.onInitCallbacks.get(ie))&&void 0!==Z?Z:new Set;ue.add(Q),this.onInitCallbacks.set(ie,ue);const xe=this.instances.get(ie);return xe&&Q(xe,ie),()=>{ue.delete(Q)}}invokeOnInitCallbacks(Q,z){const Z=this.onInitCallbacks.get(z);if(Z)for(const ie of Z)try{ie(Q,z)}catch{}}getOrInitializeService({instanceIdentifier:Q,options:z={}}){let Z=this.instances.get(Q);if(!Z&&this.component&&(Z=this.component.instanceFactory(this.container,{instanceIdentifier:(Ee=Q,Ee===ve?void 0:Ee),options:z}),this.instances.set(Q,Z),this.instancesOptions.set(Q,z),this.invokeOnInitCallbacks(Z,Q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Q,Z)}catch{}var Ee;return Z||null}normalizeInstanceIdentifier(Q=ve){return this.component?this.component.multipleInstances?Q:ve:Q}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ye{constructor(Q){this.name=Q,this.providers=new Map}addComponent(Q){const z=this.getProvider(Q.name);if(z.isComponentSet())throw new Error(`Component ${Q.name} has already been registered with ${this.name}`);z.setComponent(Q)}addOrOverwriteComponent(Q){this.getProvider(Q.name).isComponentSet()&&this.providers.delete(Q.name),this.addComponent(Q)}getProvider(Q){if(this.providers.has(Q))return this.providers.get(Q);const z=new we(Q,this);return this.providers.set(Q,z),z}getProviders(){return Array.from(this.providers.values())}}},1877:(St,We,R)=>{"use strict";R.d(We,{Am:()=>Ee,Ub:()=>ye,Yd:()=>ee,in:()=>W});const a=[];var W=(()=>{return(Q=W||(W={}))[Q.DEBUG=0]="DEBUG",Q[Q.VERBOSE=1]="VERBOSE",Q[Q.INFO=2]="INFO",Q[Q.WARN=3]="WARN",Q[Q.ERROR=4]="ERROR",Q[Q.SILENT=5]="SILENT",W;var Q})();const O={debug:W.DEBUG,verbose:W.VERBOSE,info:W.INFO,warn:W.WARN,error:W.ERROR,silent:W.SILENT},ve=W.INFO,we={[W.DEBUG]:"log",[W.VERBOSE]:"log",[W.INFO]:"info",[W.WARN]:"warn",[W.ERROR]:"error"},_e=(Q,z,...Z)=>{if(z<Q.logLevel)return;const ie=(new Date).toISOString(),ue=we[z];if(!ue)throw new Error(`Attempted to log a message with an invalid logType (value: ${z})`);console[ue](`[${ie}]  ${Q.name}:`,...Z)};class ee{constructor(z){this.name=z,this._logLevel=ve,this._logHandler=_e,this._userLogHandler=null,a.push(this)}get logLevel(){return this._logLevel}set logLevel(z){if(!(z in W))throw new TypeError(`Invalid value "${z}" assigned to \`logLevel\``);this._logLevel=z}setLogLevel(z){this._logLevel="string"==typeof z?O[z]:z}get logHandler(){return this._logHandler}set logHandler(z){if("function"!=typeof z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=z}get userLogHandler(){return this._userLogHandler}set userLogHandler(z){this._userLogHandler=z}debug(...z){this._userLogHandler&&this._userLogHandler(this,W.DEBUG,...z),this._logHandler(this,W.DEBUG,...z)}log(...z){this._userLogHandler&&this._userLogHandler(this,W.VERBOSE,...z),this._logHandler(this,W.VERBOSE,...z)}info(...z){this._userLogHandler&&this._userLogHandler(this,W.INFO,...z),this._logHandler(this,W.INFO,...z)}warn(...z){this._userLogHandler&&this._userLogHandler(this,W.WARN,...z),this._logHandler(this,W.WARN,...z)}error(...z){this._userLogHandler&&this._userLogHandler(this,W.ERROR,...z),this._logHandler(this,W.ERROR,...z)}}function ye(Q){a.forEach(z=>{z.setLogLevel(Q)})}function Ee(Q,z){for(const Z of a){let ie=null;z&&z.level&&(ie=O[z.level]),Z.userLogHandler=null===Q?null:(ue,xe,...He)=>{const J=He.map(Y=>{if(null==Y)return null;if("string"==typeof Y)return Y;if("number"==typeof Y||"boolean"==typeof Y)return Y.toString();if(Y instanceof Error)return Y.message;try{return JSON.stringify(Y)}catch{return null}}).filter(Y=>Y).join(" ");xe>=(null!=ie?ie:ue.logLevel)&&Q({level:W[xe].toLowerCase(),message:J,args:He,type:ue.name})}}}},259:(St,We,R)=>{"use strict";R.d(We,{C6:()=>a.getApps,Mq:()=>a.getApp});var a=R(6881);(0,a.registerVersion)("firebase","9.21.0","app")},9260:(St,We,R)=>{"use strict";R.d(We,{Z:()=>a.Z});var a=R(3942);a.Z.registerVersion("firebase","9.21.0","app-compat")},9568:(St,We,R)=>{"use strict";R.r(We);var a=R(5861),W=R(3942),O=R(8502),ve=R(2090),ee=(R(6881),R(1877),R(4859));function ye(){return window}const Ee=2e3;function z(){return z=(0,a.Z)(function*(L,B,N){var me;const{BuildInfo:it}=ye();(0,O.as)(B.sessionId,"AuthEvent did not contain a session ID");const At=yield function Y(L){return fe.apply(this,arguments)}(B.sessionId),Xt={};return(0,O.at)()?Xt.ibi=it.packageName:(0,O.au)()?Xt.apn=it.packageName:(0,O.av)(L,"operation-not-supported-in-this-environment"),it.displayName&&(Xt.appDisplayName=it.displayName),Xt.sessionId=At,(0,O.aw)(L,N,B.type,void 0,null!==(me=B.eventId)&&void 0!==me?me:void 0,Xt)}),z.apply(this,arguments)}function ie(){return(ie=(0,a.Z)(function*(L){const{BuildInfo:B}=ye(),N={};(0,O.at)()?N.iosBundleId=B.packageName:(0,O.au)()?N.androidPackageName=B.packageName:(0,O.av)(L,"operation-not-supported-in-this-environment"),yield(0,O.ax)(L,N)})).apply(this,arguments)}function He(){return(He=(0,a.Z)(function*(L,B,N){const{cordova:me}=ye();let it=()=>{};try{yield new Promise((At,Xt)=>{let Zt=null;function En(){var vn;At();const _r=null===(vn=me.plugins.browsertab)||void 0===vn?void 0:vn.close;"function"==typeof _r&&_r(),"function"==typeof(null==N?void 0:N.close)&&N.close()}function tn(){Zt||(Zt=window.setTimeout(()=>{Xt((0,O.az)(L,"redirect-cancelled-by-user"))},Ee))}function Kn(){"visible"===(null==document?void 0:document.visibilityState)&&tn()}B.addPassiveListener(En),document.addEventListener("resume",tn,!1),(0,O.au)()&&document.addEventListener("visibilitychange",Kn,!1),it=()=>{B.removePassiveListener(En),document.removeEventListener("resume",tn,!1),document.removeEventListener("visibilitychange",Kn,!1),Zt&&window.clearTimeout(Zt)}})}finally{it()}})).apply(this,arguments)}function fe(){return(fe=(0,a.Z)(function*(L){const B=function Me(L){if((0,O.as)(/[0-9a-zA-Z]+/.test(L),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(L);const B=new ArrayBuffer(L.length),N=new Uint8Array(B);for(let me=0;me<L.length;me++)N[me]=L.charCodeAt(me);return N}(L),N=yield crypto.subtle.digest("SHA-256",B);return Array.from(new Uint8Array(N)).map(it=>it.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const De=20;class be extends O.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(B=>{this.resolveInialized=B})}addPassiveListener(B){this.passiveListeners.add(B)}removePassiveListener(B){this.passiveListeners.delete(B)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(B){return this.resolveInialized(),this.passiveListeners.forEach(N=>N(B)),super.onEvent(B)}initialized(){var B=this;return(0,a.Z)(function*(){yield B.initPromise})()}}function ae(L){return X.apply(this,arguments)}function X(){return(X=(0,a.Z)(function*(L){const B=yield Te()._get(Ge(L));return B&&(yield Te()._remove(Ge(L))),B})).apply(this,arguments)}function he(){const L=[],B="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let N=0;N<De;N++){const me=Math.floor(Math.random()*B.length);L.push(B.charAt(me))}return L.join("")}function Te(){return(0,O.aC)(O.b)}function Ge(L){return(0,O.aD)("authEvent",L.config.apiKey,L.name)}function Oe(L){if(null==L||!L.includes("?"))return{};const[B,...N]=L.split("?");return(0,ve.zd)(N.join("?"))}const oe=class le{constructor(){this._redirectPersistence=O.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=O.aE,this._overrideRedirectResult=O.aF}_initialize(B){var N=this;return(0,a.Z)(function*(){const me=B._key();let it=N.eventManagers.get(me);return it||(it=new be(B),N.eventManagers.set(me,it),N.attachCallbackListeners(B,it)),it})()}_openPopup(B){(0,O.av)(B,"operation-not-supported-in-this-environment")}_openRedirect(B,N,me,it){var At=this;return(0,a.Z)(function*(){!function J(L){var B,N,me,it,At,Xt,Zt,En,tn,Kn;const vn=ye();(0,O.aA)("function"==typeof(null===(B=null==vn?void 0:vn.universalLinks)||void 0===B?void 0:B.subscribe),L,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,O.aA)(typeof(null===(N=null==vn?void 0:vn.BuildInfo)||void 0===N?void 0:N.packageName)<"u",L,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,O.aA)("function"==typeof(null===(At=null===(it=null===(me=null==vn?void 0:vn.cordova)||void 0===me?void 0:me.plugins)||void 0===it?void 0:it.browsertab)||void 0===At?void 0:At.openUrl),L,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,O.aA)("function"==typeof(null===(En=null===(Zt=null===(Xt=null==vn?void 0:vn.cordova)||void 0===Xt?void 0:Xt.plugins)||void 0===Zt?void 0:Zt.browsertab)||void 0===En?void 0:En.isAvailable),L,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,O.aA)("function"==typeof(null===(Kn=null===(tn=null==vn?void 0:vn.cordova)||void 0===tn?void 0:tn.InAppBrowser)||void 0===Kn?void 0:Kn.open),L,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(B);const Xt=yield At._initialize(B);yield Xt.initialized(),Xt.resetRedirect(),(0,O.aG)(),yield At._originValidation(B);const Zt=function Re(L,B,N=null){return{type:B,eventId:N,urlResponse:null,sessionId:he(),postBody:null,tenantId:L.tenantId,error:(0,O.az)(L,"no-auth-event")}}(B,me,it);yield function Fe(L,B){return Te()._set(Ge(L),B)}(B,Zt);const En=yield function Q(L,B,N){return z.apply(this,arguments)}(B,Zt,N),tn=yield function ue(L){const{cordova:B}=ye();return new Promise(N=>{B.plugins.browsertab.isAvailable(me=>{let it=null;me?B.plugins.browsertab.openUrl(L):it=B.InAppBrowser.open(L,(0,O.ay)()?"_blank":"_system","location=yes"),N(it)})})}(En);return function xe(L,B,N){return He.apply(this,arguments)}(B,Xt,tn)})()}_isIframeWebStorageSupported(B,N){throw new Error("Method not implemented.")}_originValidation(B){const N=B._key();return this.originValidationPromises[N]||(this.originValidationPromises[N]=function Z(L){return ie.apply(this,arguments)}(B)),this.originValidationPromises[N]}attachCallbackListeners(B,N){const{universalLinks:me,handleOpenURL:it,BuildInfo:At}=ye(),Xt=setTimeout((0,a.Z)(function*(){yield ae(B),N.onEvent(pe())}),500),Zt=function(){var Kn=(0,a.Z)(function*(vn){clearTimeout(Xt);const _r=yield ae(B);let Fr=null;_r&&null!=vn&&vn.url&&(Fr=function Ue(L,B){var N,me;const it=function Se(L){const B=Oe(L),N=B.link?decodeURIComponent(B.link):void 0,me=Oe(N).link,it=B.deep_link_id?decodeURIComponent(B.deep_link_id):void 0;return Oe(it).link||it||me||N||L}(B);if(it.includes("/__/auth/callback")){const At=Oe(it),Xt=At.firebaseError?function Ze(L){try{return JSON.parse(L)}catch{return null}}(decodeURIComponent(At.firebaseError)):null,Zt=null===(me=null===(N=null==Xt?void 0:Xt.code)||void 0===N?void 0:N.split("auth/"))||void 0===me?void 0:me[1],En=Zt?(0,O.az)(Zt):null;return En?{type:L.type,eventId:L.eventId,tenantId:L.tenantId,error:En,urlResponse:null,sessionId:null,postBody:null}:{type:L.type,eventId:L.eventId,tenantId:L.tenantId,sessionId:L.sessionId,urlResponse:it,postBody:null}}return null}(_r,vn.url)),N.onEvent(Fr||pe())});return function(_r){return Kn.apply(this,arguments)}}();typeof me<"u"&&"function"==typeof me.subscribe&&me.subscribe(null,Zt);const En=it,tn=`${At.packageName.toLowerCase()}://`;ye().handleOpenURL=function(){var Kn=(0,a.Z)(function*(vn){if(vn.toLowerCase().startsWith(tn)&&Zt({url:vn}),"function"==typeof En)try{En(vn)}catch(_r){console.error(_r)}});return function(vn){return Kn.apply(this,arguments)}}()}};function pe(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,O.az)("no-auth-event")}}const dt=1e3;function Rt(){var L;return(null===(L=null==self?void 0:self.location)||void 0===L?void 0:L.protocol)||null}function Ce(L=(0,ve.z$)()){return!("file:"!==Rt()&&"ionic:"!==Rt()&&"capacitor:"!==Rt()||!L.toLowerCase().match(/iphone|ipad|ipod|android/))}function $t(){try{const L=self.localStorage,B=O.aL();if(L)return L.setItem(B,"1"),L.removeItem(B),!function Kt(L=(0,ve.z$)()){return function ht(){return(0,ve.w1)()&&11===(null==document?void 0:document.documentMode)}()||function jt(L=(0,ve.z$)()){return/Edge\/\d+/.test(L)}(L)}()||(0,ve.hl)()}catch{return zt()&&(0,ve.hl)()}return!1}function zt(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function un(){return(function $e(){return"http:"===Rt()||"https:"===Rt()}()||(0,ve.ru)()||Ce())&&!function Je(){return(0,ve.b$)()||(0,ve.UG)()}()&&$t()&&!zt()}function Nn(){return Ce()&&typeof document<"u"}function Un(){return(Un=(0,a.Z)(function*(){return!!Nn()&&new Promise(L=>{const B=setTimeout(()=>{L(!1)},dt);document.addEventListener("deviceready",()=>{clearTimeout(B),L(!0)})})})).apply(this,arguments)}const Bn={LOCAL:"local",NONE:"none",SESSION:"session"},pi=O.aA,Rn="persistence";function Or(L){return On.apply(this,arguments)}function On(){return(On=(0,a.Z)(function*(L){yield L._initializationPromise;const B=Ft(),N=O.aD(Rn,L.config.apiKey,L.name);B&&B.setItem(N,L._getPersistence())})).apply(this,arguments)}function Ft(){var L;try{return(null===(L=function Ut(){return typeof window<"u"?window:null}())||void 0===L?void 0:L.sessionStorage)||null}catch{return null}}const on=O.aA;class zn{constructor(){this.browserResolver=O.aC(O.k),this.cordovaResolver=O.aC(oe),this.underlyingResolver=null,this._redirectPersistence=O.a,this._completeRedirectFn=O.aE,this._overrideRedirectResult=O.aF}_initialize(B){var N=this;return(0,a.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._initialize(B)})()}_openPopup(B,N,me,it){var At=this;return(0,a.Z)(function*(){return yield At.selectUnderlyingResolver(),At.assertedUnderlyingResolver._openPopup(B,N,me,it)})()}_openRedirect(B,N,me,it){var At=this;return(0,a.Z)(function*(){return yield At.selectUnderlyingResolver(),At.assertedUnderlyingResolver._openRedirect(B,N,me,it)})()}_isIframeWebStorageSupported(B,N){this.assertedUnderlyingResolver._isIframeWebStorageSupported(B,N)}_originValidation(B){return this.assertedUnderlyingResolver._originValidation(B)}get _shouldInitProactively(){return Nn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return on(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var B=this;return(0,a.Z)(function*(){if(B.underlyingResolver)return;const N=yield function ar(){return Un.apply(this,arguments)}();B.underlyingResolver=N?B.cordovaResolver:B.browserResolver})()}}function Sr(L){return L.unwrap()}function kr(L){return mr(L)}function mr(L){const{_tokenResponse:B}=L instanceof ve.ZR?L.customData:L;if(!B)return null;if(!(L instanceof ve.ZR)&&"temporaryProof"in B&&"phoneNumber"in B)return O.P.credentialFromResult(L);const N=B.providerId;if(!N||N===O.p.PASSWORD)return null;let me;switch(N){case O.p.GOOGLE:me=O.V;break;case O.p.FACEBOOK:me=O.U;break;case O.p.GITHUB:me=O.W;break;case O.p.TWITTER:me=O.Z;break;default:const{oauthIdToken:it,oauthAccessToken:At,oauthTokenSecret:Xt,pendingToken:Zt,nonce:En}=B;return At||Xt||it||Zt?Zt?N.startsWith("saml.")?O.aO._create(N,Zt):O.L._fromParams({providerId:N,signInMethod:N,pendingToken:Zt,idToken:it,accessToken:At}):new O.X(N).credential({idToken:it,accessToken:At,rawNonce:En}):null}return L instanceof ve.ZR?me.credentialFromError(L):me.credentialFromResult(L)}function Cn(L,B){return B.catch(N=>{throw N instanceof ve.ZR&&function nr(L,B){var N;const me=null===(N=B.customData)||void 0===N?void 0:N._tokenResponse;if("auth/multi-factor-auth-required"===(null==B?void 0:B.code))B.resolver=new ii(L,O.aq(L,B));else if(me){const it=mr(B),At=B;it&&(At.credential=it,At.tenantId=me.tenantId||void 0,At.email=me.email||void 0,At.phoneNumber=me.phoneNumber||void 0)}}(L,N),N}).then(N=>{const it=N.user;return{operationType:N.operationType,credential:kr(N),additionalUserInfo:O.ao(N),user:gn.getOrCreate(it)}})}function ri(L,B){return pn.apply(this,arguments)}function pn(){return(pn=(0,a.Z)(function*(L,B){const N=yield B;return{verificationId:N.verificationId,confirm:me=>Cn(L,N.confirm(me))}})).apply(this,arguments)}class ii{constructor(B,N){this.resolver=N,this.auth=function kn(L){return L.wrapped()}(B)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(B){return Cn(Sr(this.auth),this.resolver.resolveSignIn(B))}}class gn{constructor(B){this._delegate=B,this.multiFactor=O.ar(B)}static getOrCreate(B){return gn.USER_MAP.has(B)||gn.USER_MAP.set(B,new gn(B)),gn.USER_MAP.get(B)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(B){return this._delegate.getIdTokenResult(B)}getIdToken(B){return this._delegate.getIdToken(B)}linkAndRetrieveDataWithCredential(B){return this.linkWithCredential(B)}linkWithCredential(B){var N=this;return(0,a.Z)(function*(){return Cn(N.auth,O.a0(N._delegate,B))})()}linkWithPhoneNumber(B,N){var me=this;return(0,a.Z)(function*(){return ri(me.auth,O.l(me._delegate,B,N))})()}linkWithPopup(B){var N=this;return(0,a.Z)(function*(){return Cn(N.auth,O.d(N._delegate,B,zn))})()}linkWithRedirect(B){var N=this;return(0,a.Z)(function*(){return yield Or(O.aH(N.auth)),O.g(N._delegate,B,zn)})()}reauthenticateAndRetrieveDataWithCredential(B){return this.reauthenticateWithCredential(B)}reauthenticateWithCredential(B){var N=this;return(0,a.Z)(function*(){return Cn(N.auth,O.a1(N._delegate,B))})()}reauthenticateWithPhoneNumber(B,N){return ri(this.auth,O.r(this._delegate,B,N))}reauthenticateWithPopup(B){return Cn(this.auth,O.e(this._delegate,B,zn))}reauthenticateWithRedirect(B){var N=this;return(0,a.Z)(function*(){return yield Or(O.aH(N.auth)),O.h(N._delegate,B,zn)})()}sendEmailVerification(B){return O.ae(this._delegate,B)}unlink(B){var N=this;return(0,a.Z)(function*(){return yield O.an(N._delegate,B),N})()}updateEmail(B){return O.aj(this._delegate,B)}updatePassword(B){return O.ak(this._delegate,B)}updatePhoneNumber(B){return O.u(this._delegate,B)}updateProfile(B){return O.ai(this._delegate,B)}verifyBeforeUpdateEmail(B,N){return O.af(this._delegate,B,N)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}gn.USER_MAP=new WeakMap;const hr=O.aA;let rr=(()=>{class L{constructor(N,me){if(this.app=N,me.isInitialized())return this._delegate=me.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:it}=N.options;hr(it,"invalid-api-key",{appName:N.name}),hr(it,"invalid-api-key",{appName:N.name});const At=typeof window<"u"?zn:void 0;this._delegate=me.initialize({options:{persistence:lr(it,N.name),popupRedirectResolver:At}}),this._delegate._updateErrorMap(O.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?gn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(N){this._delegate.languageCode=N}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(N){this._delegate.tenantId=N}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(N,me){O.I(this._delegate,N,me)}applyActionCode(N){return O.a5(this._delegate,N)}checkActionCode(N){return O.a6(this._delegate,N)}confirmPasswordReset(N,me){return O.a4(this._delegate,N,me)}createUserWithEmailAndPassword(N,me){var it=this;return(0,a.Z)(function*(){return Cn(it._delegate,O.a8(it._delegate,N,me))})()}fetchProvidersForEmail(N){return this.fetchSignInMethodsForEmail(N)}fetchSignInMethodsForEmail(N){return O.ad(this._delegate,N)}isSignInWithEmailLink(N){return O.ab(this._delegate,N)}getRedirectResult(){var N=this;return(0,a.Z)(function*(){hr(un(),N._delegate,"operation-not-supported-in-this-environment");const me=yield O.j(N._delegate,zn);return me?Cn(N._delegate,Promise.resolve(me)):{credential:null,user:null}})()}addFrameworkForLogging(N){!function Le(L,B){(0,O.aH)(L)._logFramework(B)}(this._delegate,N)}onAuthStateChanged(N,me,it){const{next:At,error:Xt,complete:Zt}=Nr(N,me,it);return this._delegate.onAuthStateChanged(At,Xt,Zt)}onIdTokenChanged(N,me,it){const{next:At,error:Xt,complete:Zt}=Nr(N,me,it);return this._delegate.onIdTokenChanged(At,Xt,Zt)}sendSignInLinkToEmail(N,me){return O.aa(this._delegate,N,me)}sendPasswordResetEmail(N,me){return O.a3(this._delegate,N,me||void 0)}setPersistence(N){var me=this;return(0,a.Z)(function*(){let it;switch(function Rr(L,B){pi(Object.values(Bn).includes(B),L,"invalid-persistence-type"),(0,ve.b$)()?pi(B!==Bn.SESSION,L,"unsupported-persistence-type"):(0,ve.UG)()?pi(B===Bn.NONE,L,"unsupported-persistence-type"):zt()?pi(B===Bn.NONE||B===Bn.LOCAL&&(0,ve.hl)(),L,"unsupported-persistence-type"):pi(B===Bn.NONE||$t(),L,"unsupported-persistence-type")}(me._delegate,N),N){case Bn.SESSION:it=O.a;break;case Bn.LOCAL:it=(yield O.aC(O.i)._isAvailable())?O.i:O.b;break;case Bn.NONE:it=O.N;break;default:return O.av("argument-error",{appName:me._delegate.name})}return me._delegate.setPersistence(it)})()}signInAndRetrieveDataWithCredential(N){return this.signInWithCredential(N)}signInAnonymously(){return Cn(this._delegate,O._(this._delegate))}signInWithCredential(N){return Cn(this._delegate,O.$(this._delegate,N))}signInWithCustomToken(N){return Cn(this._delegate,O.a2(this._delegate,N))}signInWithEmailAndPassword(N,me){return Cn(this._delegate,O.a9(this._delegate,N,me))}signInWithEmailLink(N,me){return Cn(this._delegate,O.ac(this._delegate,N,me))}signInWithPhoneNumber(N,me){return ri(this._delegate,O.s(this._delegate,N,me))}signInWithPopup(N){var me=this;return(0,a.Z)(function*(){return hr(un(),me._delegate,"operation-not-supported-in-this-environment"),Cn(me._delegate,O.c(me._delegate,N,zn))})()}signInWithRedirect(N){var me=this;return(0,a.Z)(function*(){return hr(un(),me._delegate,"operation-not-supported-in-this-environment"),yield Or(me._delegate),O.f(me._delegate,N,zn)})()}updateCurrentUser(N){return this._delegate.updateCurrentUser(N)}verifyPasswordResetCode(N){return O.a7(this._delegate,N)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return L.Persistence=Bn,L})();function Nr(L,B,N){let me=L;"function"!=typeof L&&({next:me,error:B,complete:N}=L);const it=me;return{next:Xt=>it(Xt&&gn.getOrCreate(Xt)),error:B,complete:N}}function lr(L,B){const N=function dn(L,B){const N=Ft();if(!N)return[];const me=O.aD(Rn,L,B);switch(N.getItem(me)){case Bn.NONE:return[O.N];case Bn.LOCAL:return[O.i,O.a];case Bn.SESSION:return[O.a];default:return[]}}(L,B);if(typeof self<"u"&&!N.includes(O.i)&&N.push(O.i),typeof window<"u")for(const me of[O.b,O.a])N.includes(me)||N.push(me);return N.includes(O.N)||N.push(O.N),N}class cr{constructor(){this.providerId="phone",this._delegate=new O.P(Sr(W.Z.auth()))}static credential(B,N){return O.P.credential(B,N)}verifyPhoneNumber(B,N){return this._delegate.verifyPhoneNumber(B,N)}unwrap(){return this._delegate}}cr.PHONE_SIGN_IN_METHOD=O.P.PHONE_SIGN_IN_METHOD,cr.PROVIDER_ID=O.P.PROVIDER_ID;const fr=O.aA;class pr{constructor(B,N,me=W.Z.app()){var it;fr(null===(it=me.options)||void 0===it?void 0:it.apiKey,"invalid-api-key",{appName:me.name}),this._delegate=new O.R(B,N,me.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function K(L){L.INTERNAL.registerComponent(new ee.wA("auth-compat",B=>{const N=B.getProvider("app-compat").getImmediate(),me=B.getProvider("auth");return new rr(N,me)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:O.A.EMAIL_SIGNIN,PASSWORD_RESET:O.A.PASSWORD_RESET,RECOVER_EMAIL:O.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:O.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:O.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:O.A.VERIFY_EMAIL}},EmailAuthProvider:O.Q,FacebookAuthProvider:O.U,GithubAuthProvider:O.W,GoogleAuthProvider:O.V,OAuthProvider:O.X,SAMLAuthProvider:O.Y,PhoneAuthProvider:cr,PhoneMultiFactorGenerator:O.m,RecaptchaVerifier:pr,TwitterAuthProvider:O.Z,Auth:rr,AuthCredential:O.J,Error:ve.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),L.registerVersion("@firebase/auth-compat","0.4.1")}(W.Z)},5861:(St,We,R)=>{"use strict";function a(O,ve,we,_e,ee,ye,Ee){try{var Q=O[ye](Ee),z=Q.value}catch(Z){return void we(Z)}Q.done?ve(z):Promise.resolve(z).then(_e,ee)}function W(O){return function(){var ve=this,we=arguments;return new Promise(function(_e,ee){var ye=O.apply(ve,we);function Ee(z){a(ye,_e,ee,Ee,Q,"next",z)}function Q(z){a(ye,_e,ee,Ee,Q,"throw",z)}Ee(void 0)})}}R.d(We,{Z:()=>W})}},St=>{St(St.s=6046)}]);